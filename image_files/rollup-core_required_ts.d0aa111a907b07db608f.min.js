webpackJsonp([25,33,260,273,305],{1:function(e,n,t){(function(n){e.exports=n["_"]=t(87)}).call(n,t(7))},3294:function(e,n,t){"use strict";n["d"]=f;n["c"]=d;n["b"]=g;n["a"]=p;var r=t(1);var a=t.n(r);var i=t(3297);var o=function(){function e(e,n){var t=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){t.push(s.value);if(n&&t.length===n)break}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"])o["return"]()}finally{if(a)throw i}}return t}return function(n,t){if(Array.isArray(n))return n;else if(Symbol.iterator in Object(n))return e(n,t);else throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var s={};function l(e){if(!s[e])s[e]=0;s[e]+=1}window.showFallbackCalls=function e(){return a.a.chain(s).map(function(e,n){return{key:n,value:e}}).sortBy("value").reverse().value()};var c=true;var u=[];function f(){c=false;if(u.length){var e=a.a.get(window,"TS.console.logStackTraceToBackEnd",a.a.noop);e("Accessed "+u.join(",")+" too early in the boot process at "+window.location.href,"early_legacy_access",1)}}var _=["TS.exportToLegacy","TS.i18n.keyEquivalent"];function d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a.noop;return function(){if(c&&-1===_.indexOf(e)){Object(i["error"])("Modern js is accessing "+e+" too early in the boot process. This works fine today, but will be an error next week and must be fixed! Please take this (and the stack trace below) to #feat-modernization");var t=a.a.get(window,"TS.console.logStackTrace",a.a.noop);t();u.push(e)}if(!a.a.hasIn(window,e)){l(e);return n.apply(void 0,arguments)}var r=a.a.get(window,e);return a.a.isFunction(r)?r.apply(void 0,arguments):r}}var m=function e(n,t,r){var a=o(r,1),i=a[0];return n(i)};function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Promise.resolve;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(!a.a.hasIn(window,e)){l(e);return t()}var s=a.a.get(window,e);if(!a.a.isFunction(s))throw new Error(e+" is not a function");return new Promise(function(e,t){s.apply(void 0,i.concat([function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];n(e,t,a)}]))})}}function p(e,n){var t=d(e,n);return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(!a.a.isObject(n))throw new Error("adaptFunctionWithFallbackAndStateGuard: "+e+" must be given a state object");return t.apply(void 0,i)}}},3297:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});n["setRedactionEnabled"]=p;n["setLogLevel"]=h;n["action"]=v;n["info"]=S;n["warn"]=b;n["error"]=T;n["makeLogDate"]=y;var r=t(1);var a=t.n(r);var i=t(3320);var o=t(3306);var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)}var c=i["a"]?"warn":"info";var u=["info","action","warn","error"];var f=15;var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var d="ACTION";var m=["name","_name_lc","real_name","_real_name_lc","real_name_normalized","_real_name_normalized_lc","display_name","_display_name_lc","display_name_normalized","_display_name_normalized_lc","first_name","_first_name_lc","last_name","_last_name_lc","preferred_name","full_name","email","skype","status_text","title","src","text","msgs"];var g=true;function p(e){g=e}function h(e){if(!u.includes(e)){console.error("Invalid log level "+e+" passed to setLogLevel(). Accepted values are "+u.join(", ")+".");return}c=e}function v(e,n){if("warn"===c||"error"===c)return;if("string"!==typeof e){console.error("action() expects the first argument to be a string describing the context of the log. Instead received "+e);return}if("string"!==typeof n){console.error("action() expects the second argument to be a string describing a user action");return}var t="["+d+":"+k(e)+"] "+n;for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(a.length>0)w("info",[t,a]);else w("info",[t])}function S(e){if("info"!==c)return;if("string"!==typeof e){console.error("info() expects the first argument to be a string describing the context of the log. Instead received "+e);return}if(e===d){console.error("The log label ACTION is reserved for the action() method. Please choose something else.");return}for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];if(0===t.length){console.error("info() expects 1 or more arguments to be passed after the required label");return}var a="["+k(e)+"]";w("info",[a].concat(t))}function b(){if("error"===c)return;for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];w("warn",n)}function T(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];w("error",n)}function w(e,n){if(!window.console||!console[e])return;var t=y();var r=n;if(!i["a"])if(g)r=n.map(function(e){return j(e)});var o=true;var s=a.a.isString(r[0])&&2===r.length&&a.a.isArray(r[1])&&1===r[1].length&&a.a.isString(r[1][0])||a.a.isArray(r[0])&&1===r.length&&1===r[0].length&&a.a.isString(r[0][0]);if(!s){var c=r.length;while(o&&c){c-=1;o=a.a.isString(r[c])}}if(o){r.unshift(t);console[e](r.join(" "))}else{var u;(u=console)[e].apply(u,[t].concat(l(r)))}}function y(){var e=new Date;var n=_[e.getMonth()];var t=e.getDate();var r={h:e.getHours(),mi:e.getMinutes(),s:e.getSeconds(),ms:e.getMilliseconds()};Object.keys(r).map(function(e){if("ms"===e){if(r[e]<10)r[e]=r[e]+"00";else if(r[e]<100)r[e]=r[e]+"0"}else if(r[e]<10)r[e]="0"+r[e];return null});return n+"-"+t+" "+r.h+":"+r.mi+":"+r.s+"."+r.ms}function k(e){if(!e){console.error("No label passed to formatLabel().");return false}return e.substring(0,f).toUpperCase()}function j(e,n){var t=void 0;var r=n||1;if(!e||"object"!==("undefined"===typeof e?"undefined":s(e)))return e;if(e instanceof Error)return{error:e.message};if(n)r+=1;if(n>=10)return e;if(Array.isArray(e))t=[];else t={};a.a.each(e,function(e,n){if(m.includes(n))t[n]="[redacted]";else t[n]=j(e,r)});return t}function x(e){if(e.log_level)h(e.log_level)}x(Object(o["urlQueryStringParse"])(window.location.href))},3299:function(e,n,t){"use strict";var r=t(3294);var a=Object(r["c"])("TS.exportToLegacy",function(){throw new Error("exportToLegacy is not available on this page")});a("interop",{});n["a"]=a},3303:function(e,n,t){"use strict";t.d(n,"e",function(){return s});t.d(n,"b",function(){return u});t.d(n,"h",function(){return f});t.d(n,"f",function(){return _});t.d(n,"g",function(){return d});t.d(n,"a",function(){return m});t.d(n,"c",function(){return g});t.d(n,"i",function(){return p});t.d(n,"d",function(){return h});t.d(n,"j",function(){return v});var r=t(1);var a=t.n(r);var i=t(3294);var o=Object(i["c"])("TS.log",console.log);var s=Object(i["c"])("TS.error",console.error);var l=Object(i["c"])("TS.warn",console.warn);var c=Object(i["c"])("TS.info",console.info);var u=Object(i["c"])("TS.utility.convertFilesize",function(e){return Math.round(e/1e3)+"kB"});var f=Object(i["c"])("TS.utility.shouldLinksHaveTargets",function(){return false});var _=Object(i["c"])("TS.utility.makeRefererSafeLink",function(e){return e});var d=Object(i["c"])("TS.utility.openInNewTab",a.a.noop);var m=Object(i["c"])("TS.utility.cmdKey",function(){return false});var g=Object(i["c"])("TS.utility.getImgProxyURLWithOptions",function(e){return e});var p=Object(i["c"])("TS.utility.urlNeedsRefererHiding",function(){return true});var h=Object(i["c"])("TS.utility.getRefererPolicy",function(){return a.a.noop});var v=Object(i["c"])("TS.utility.uuidv4",a.a.uniqueId)},3306:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});t.d(n,"URL_REGEXP",function(){return f});n["findUrlsInString"]=_;n["parseUrl"]=d;n["queryStringEncode"]=m;n["getTeamSubdomain"]=g;n["getHostName"]=p;n["setHostName"]=h;n["isValidSlackWebSocketUrl"]=v;n["queryStringParse"]=S;n["setQueryStringValue"]=b;n["setUrlQueryStringValue"]=T;n["removeQueryStringValue"]=w;n["removeUrlQueryStringValue"]=y;n["extractStateObjectFromUrl"]=k;n["urlQueryStringParse"]=j;n["simpleIsUrl"]=E;n["getReferrerSafeLinkAttrs"]=A;n["getTargetAttr"]=C;var r=t(1);var a=t.n(r);var i=t(3320);var o=t(3338);var s=t(3297);var l=t(3323);var c=t(3303);var u=t(3329);var f=/((ftp|http|https):\/\/|\bw{3}\.)[a-z0-9\-.]+[a-z]+(:[a-z0-9]*)?\/?([@a-z0-9\-._?,'/\\+&amp;%:!$#=~])*/gi;function _(e){return e.match(f)||[]}function d(e){if(!e)return{};var n=document.createElement("a");n.href=e;return{hash:n.hash,hostname:n.hostname,pathname:n.pathname,protocol:n.protocol,search:n.search}}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:false;if(!e)return"";if(0===Object.keys(e).length)return"";var t=Object.keys(e).map(function(t){if(n){var a=e[t];if(Object(r["isString"])(a)){var i=a.split("+");if(i.length>1){var o=i.map(function(e){return encodeURIComponent(e)});return encodeURIComponent(t)+"="+o.join("+")}}}return encodeURIComponent(t)+"="+encodeURIComponent(e[t])});return"?"+t.join("&")}function g(e){var n=d(e).hostname||"";if(!n){Object(s["warn"])('getHostName: no hostname found for URL "'+e+'" / '+n);return""}var t=n.split(".");var r=t.length>2?t.slice(t.length-2).join("."):"";if(t.length>2&&"slack.com"===r)return t[0];return""}function p(e,n){var t=d(e).hostname||"";if(!t){Object(s["warn"])('getHostName: no hostname found for URL "'+e+'" / '+t);return t}if(t&&n){var r=t.split(".");if(r.length>2)return r.slice(r.length-2).join(".")}return t}function h(e,n){var t=d(e);return Object(r["compact"])([t.protocol,"//",n,t.pathname,t.search,t.hash]).join("")}function v(e){var n=p(e);if(i["a"]&&"localhost"===n)return true;return/\.slack-msgs.(com|eu)$/.test(n)}function S(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&";if("string"!==typeof e)return{};var t={};var r=e.split(n);for(var a=0;a<r.length;a+=1){var i=r[a].indexOf("=");if(-1!==i){var o=r[a].substring(0,i);var s=r[a].substring(i+1);t[o]=unescape(s)}else if(r[a].length)t[r[a]]=""}return t}function b(e,n,t,r){var a=S(e);a[n]=t;return m(a,r)}function T(e,n,t,r){var a=document.createElement("a");a.href=e;var i=a.search?a.search.slice(1):"";a.search=b(i,n,t,r);return a.href}function w(e,n){var t=S(e);if(!Object.prototype.hasOwnProperty.call(t,n))return e;delete t[n];return m(t)}function y(e,n){var t=document.createElement("a");t.href=e;if(!t.search)return e;var r=t.search.slice(1);t.search=w(r,n);return t.href}function k(e){var n=j(e).state;n=n?n.match(/(\{.*\})/g):null;n=n?n[0]:null;try{n=n?JSON.parse(n):null}catch(e){n=null}return n}function j(e){var n=document.createElement("a");n.href=e;if(!n.search)return{};var t=n.search?n.search.slice(1):"";return S(t)}var x=/[a-z0-9]+\.[a-z0-9]+/i;var O=["http","https"];function E(e){if(-1!==e.indexOf(" "))return false;var n=document.createElement("a");n.href=e;if(!n.protocol||!n.pathname)return false;if(window.location.href.substr(0,window.location.href.lastIndexOf("/"))+"/"+e===n.href)return false;var t=n.protocol.slice(0,-1).toLowerCase();if(Object(r["includes"])(O,t)){if(!n.hostname)return false;if("localhost"===n.hostname)return true;return x.test(n.hostname)}return true}function A(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.redirDomain,a=void 0===t?"slack-redir.net":t,i=n.hideReferrers,s=void 0===i?true:i;var u={href:e,originalURL:e,proxyURL:null,rel:null,isProxied:false};if(!s)return u;if("string"!==typeof e)return null;if(e.match(/^javascript:/gi))return null;if(Object(o["a"])())return u;if(!Object(c["i"])(e))return u;var f=Object(l["e"])(e);f=f.replace(/&amp;/g,"&");f=Object(r["escape"])(f);f=f.replace(/&amp;/g,"&").replace(/(%27|&#39;)/g,"'");f=encodeURIComponent(f);var _=Object(c["d"])();var d=_.redirect_type?"&v="+_.redirect_type:"";u.href="https://"+a+"/link?url="+f+d;u.proxyURL=u.href;u.rel="noopener noreferrer";u.isProxied=true;return u}function C(e){var n=d(e);var t=/\/(messages|unreads|threads)/;if(n.hostname===document.location.hostname&&n.pathname.match(t))return"_self";if(Object(u["a"])(e))return e;return"_blank"}},3311:function(e,n,t){"use strict";n["a"]=k;t.d(n,"b",function(){return j});t.d(n,"c",function(){return x});t.d(n,"e",function(){return O});t.d(n,"d",function(){return E});var r=t(3387);var a=t(3306);var i=t(3297);var o=t(3349);var s=t(3489);var l=t(3315);var c=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(n,t,r){if(t)e(n.prototype,t);if(r)e(n,r);return n}}();var u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}return e};function _(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var d=[];var m=3e4;var g=5e3;var p=2e3;var h=1e3;var v=function e(n){var t=Object(r["getEnvironment"])(n);var a="https://";var i="/clog/track/";switch(t.env){case r["DEVELOPMENT"]:case r["QA"]:return""+a+t.envWithNumber+".slack.com"+i;case r["STAGING"]:return""+a+t.env+".slack.com"+i;case r["PRODUCTION"]:default:return a+"slack.com"+i}};var S=function e(n,t,r,i,o,s,c){if("string"!==typeof n)return;var u=!c?null:c;if("string"===typeof u)u=Object(a["queryStringParse"])(c,",");var f={tstamp:Date.now(),event:n,args:u};if(r)f.user_id=r;if(i)f.team_id=i;if(o)f.enterprise_id=o;if(s)f.i18n_locale=s;t.push(f);if(Object(l["f"])(h))Object(l["c"])(h,"Event called:",n,c)};var b=function e(n,t,r){var a=function e(n){return t+"?logs="+encodeURIComponent(JSON.stringify(n))};var i=[];var o=[];for(var s=0,c=n.length;s<c;s++){var u=n[s];var f=a(o.concat(u));if(f.length<=r)o.push(u);else{i.push(a(o));o=[u]}}if(o.length>0)i.push(a(o));if(Object(l["f"])(h))Object(l["c"])(h,"URLs:",i);return i};var T=function e(n,t){var r=n.getAttribute("data-clog-event");if(!r){Object(i["warn"])("Logging clicks with data-clog-click requires a data-clog-event attribute");return null}var o={};var s={};var l=Object(a["queryStringParse"])(n.getAttribute("data-clog-params"),",");var c=n.getAttribute("data-clog-ui-action");if(c){f(s,{ui_element:n.getAttribute("data-clog-ui-element"),action:n.getAttribute("data-clog-ui-action"),step:n.getAttribute("data-clog-ui-step"),ui_component:n.getAttribute("data-clog-ui-component")});o={contexts:{ui_context:s}}}switch(r.toUpperCase()){case"WEBSITE_CLICK":l.page_url=t}f(o,l);return o};var w=function e(n){var t=void 0;if(s["d"]&&"object"===("undefined"===typeof n?"undefined":u(n))){t=f({},n);t.contexts=t.contexts||{};t.contexts.desktop=t.contexts.desktop||Object(s["c"])()}return t||n};var y=function(){function e(){_(this,e);this.userId=null;this.teamId=null;this.enterpriseId=null;this.i18nLocale=null}c(e,[{key:"setUser",value:function e(n){this.userId=n||this.userId;return this}},{key:"setTeam",value:function e(n){this.teamId=n||this.teamId;return this}},{key:"setEnterprise",value:function e(n){this.enterpriseId=n||this.enterpriseId;return this}},{key:"setLocale",value:function e(n){this.i18nLocale=n||this.i18nLocale;return this}},{key:"start",value:function e(){setInterval(this.sendDataAndEmptyQueue,m+Math.floor(Math.random()*g));this.addEventListeners();this.sendDataAndEmptyQueue()}},{key:"addEventListeners",value:function e(){window.addEventListener("beforeunload",this.sendDataAndEmptyQueue);window.addEventListener("pagehide",this.sendDataAndEmptyQueue);var n=this;Object(o["a"])("body","click",'[data-clog-click="true"], [data-clog-ui-action="click"], [data-clog-event=WEBSITE_CLICK]',function e(){var t=this;var r=T(t,location.href);if(null!==r){var a=this.getAttribute("data-clog-event");n.track(a,r)}})}},{key:"track",value:function e(n,t){S(n,d,this.userId,this.teamId,this.enterpriseId,this.i18nLocale,w(t))}},{key:"trackClick",value:function e(n,t,r){var a=this;var o=document.querySelector(n);if(null===o){Object(i["warn"])("Could not find node with selector '"+n+"' - cannot track click for this element");return null}o.addEventListener("click",function(){S(t,d,a.userId,a.teamId,a.enterpriseId,a.i18nLocale,w(r))});return true}},{key:"trackForm",value:function e(n,t,r){var a=this;var o=document.querySelector(n);if(null===o){Object(i["warn"])("Could not find node with selector '"+n+"' - cannot track form submit for this element");return null}o.addEventListener("submit",function(){S(t,d,a.userId,a.teamId,a.enterpriseId,a.i18nLocale,w(r))});return true}},{key:"trackClickWithContext",value:function e(n){if(!n||!n.event)return;var t={};if(n.element)f(t,{ui_context:{action:"click",ui_element:n.element}});if(n.contexts)f(t,n.contexts);this.track(n.event,{contexts:t})}},{key:"sendDataAndEmptyQueue",value:function e(){if(0===d.length)return;if(Object(l["f"])(h)){Object(l["c"])(h,"Sending clog data, emptying queue");Object(l["c"])(h,"Logs: ",d)}var n=b(d,v(location.host),p);for(var t=0,r=n.length;t<r;t++){var a=new Image;a.src=n[t];if(Object(l["f"])(h))Object(l["c"])(h,"Logged event: "+n[t])}d=[]}},{key:"getLogs",value:function e(){return d}},{key:"flushLogs",value:function e(){d=[]}}]);return e}();y.instance=null;function k(){if(null===y.instance)y.instance=new y;return y.instance}var j=k().track.bind(y.instance);var x=k().trackClick.bind(y.instance);var O=k().trackForm.bind(y.instance);var E=k().trackClickWithContext.bind(y.instance)},3315:function(e,n,t){"use strict";var r=t(3336);t.d(n,"a",function(){return r["a"]});t.d(n,"b",function(){return r["b"]});t.d(n,"c",function(){return r["c"]});t.d(n,"d",function(){return r["d"]});t.d(n,"e",function(){return r["e"]});t.d(n,"f",function(){return r["f"]});t.d(n,"g",function(){return r["g"]})},3320:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var r=!!location.hostname.match(/\.dev[0-9]*\.slack\.com$/);var a={isDev:r}},3323:function(e,n,t){"use strict";t.d(n,"a",function(){return a});t.d(n,"c",function(){return i});t.d(n,"d",function(){return o});t.d(n,"g",function(){return l});t.d(n,"f",function(){return c});t.d(n,"e",function(){return u});t.d(n,"b",function(){return f});var r=t(3294);var a=Object(r["c"])("TS.format.cleanMsg",function(e){return e});var i=Object(r["c"])("TS.format.extractIds",function(){return{c_ids:[],m_ids:[]}});var o=Object(r["c"])("TS.format.formatWithOptions",function(e){return e});var s=Object(r["c"])("TS.format.formatCurrentStatus",function(){return""});var l=Object(r["c"])("TS.format.unFormatMsg",function(e){return e});var c=Object(r["c"])("TS.format.shouldAllowIntraWordFormatting",function(){return false});var u=Object(r["c"])("TS.format.replaceHighlightMarkers",function(e){return e});var f=Object(r["c"])("TS.format.texty.convertContentsStringToDisplayString",function(){return false})},3329:function(e,n,t){"use strict";n["a"]=s;var r=t(1);var a=t.n(r);var i=function(){function e(e,n){var t=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){t.push(s.value);if(n&&t.length===n)break}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"])o["return"]()}finally{if(a)throw i}}return t}return function(n,t){if(Array.isArray(n))return n;else if(Symbol.iterator in Object(n))return e(n,t);else throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=/\/services\/(B[0-9a-z]{1,14})$/i;function s(e){if(!a.a.isString(e))return null;var n=e.match(o)||[null,null],t=i(n,2),r=t[1];return r}},3336:function(e,n,t){"use strict";t.d(n,"b",function(){return s});t.d(n,"c",function(){return l});t.d(n,"a",function(){return c});t.d(n,"d",function(){return u});t.d(n,"e",function(){return f});t.d(n,"f",function(){return _});t.d(n,"g",function(){return d});var r=t(1);var a=t.n(r);var i=t(3294);var o=Object(i["c"])("TS.console.getStackTrace",a.a.noop);var s=Object(i["c"])("TS.console.info",a.a.noop);var l=Object(i["c"])("TS.console.log",a.a.noop);var c=Object(i["c"])("TS.console.error",a.a.noop);var u=Object(i["c"])("TS.console.logError",a.a.noop);var f=Object(i["c"])("TS.console.logStackTrace",a.a.noop);var _=Object(i["c"])("TS.console.shouldLog",a.a.noop);var d=Object(i["c"])("TS.console.warn",a.a.noop)},3338:function(e,n,t){"use strict";var r=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return!!/(Slack)/g.test(n)};n["a"]=r},3349:function(e,n,t){"use strict";t.d(n,"a",function(){return a});t.d(n,"b",function(){return i});var r=t(3297);var a=function e(n,t,a,i){var o=document.querySelector(n);if(!o){Object(r["warn"])("'on' could not find the target element - events will not be delegated");return}o.addEventListener(t,function(e){var t=e.target;while(t&&t!==n&&"function"===typeof t.matches){if(t.matches(a))return i.call(t,e);t=t.parentNode}return null})};var i=function e(n,t,r){var a=function e(a){n.removeEventListener(t,e,true);r.call(a.target,a)};n.addEventListener(t,a,true)}},3387:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});t.d(n,"DEVELOPMENT",function(){return a});t.d(n,"QA",function(){return i});t.d(n,"STAGING",function(){return o});t.d(n,"PRODUCTION",function(){return s});n["getEnvironment"]=l;n["isSSBAndAtLeastVersion"]=c;var r=t(5123);var a="dev";var i="qa";var o="staging";var s="production";function l(e){var n=function e(n,t){return null!==n&&"undefined"!==typeof n[t]};var t=new RegExp(/(dev[0-9]*|qa[0-9]*|staging)\.slack\.com/);var r=new RegExp(/enterprise\./);var l=e.match(t);var c=null!==e.match(r);var u=n(l,1)?l[1].replace(/[0-9]/g,""):null;var f=e.split(".");var _=f.length>0&&!f[0].match(/\b(dev|qa|staging|slack|enterprise)/)?f[0]:null;if(null===l)return{subdomain:null,isEnterprise:false,envWithNumber:null,env:s};return{subdomain:_,isEnterprise:c,envWithNumber:n(l,1)?l[1]:null,env:[a,i,o].includes(u)?u:s}}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator&&navigator.userAgent;var t=/(Slack)/g.test(n);if(!t)return false;if(!window.TSSSB||!window.TSSSB.env)return false;var a=e.split(".");var i={major:0,minor:0};var o={major:0,minor:0};if(a.length>2)i.minor=parseFloat(a.pop());i.major=parseFloat(a.join("."));if(window.TSSSB.env.mac_ssb_version){o.major=window.TSSSB.env.mac_ssb_version;o.minor=window.TSSSB.env.mac_ssb_version_minor}else if(window.TSSSB.env.win_ssb_version){o.major=window.TSSSB.env.win_ssb_version;o.minor=window.TSSSB.env.win_ssb_version_minor}else if(window.TSSSB.env.lin_ssb_version){o.major=window.TSSSB.env.lin_ssb_version;o.minor=window.TSSSB.env.lin_ssb_version_minor}return Object(r["compareVersions"])(o,i)>=0}},3389:function(e,n){(function(){TS.registerModule("i18n",{onStart:function e(){g();p();C();if(TS.prefs)TS.prefs.keyboard_changed_sig.add(O);if(TS.generic_notification_banner)TS.generic_notification_banner.banner_to_show_sig.add(h);if(window.signals)TS.i18n.keyboard_changed_sig=new signals.Signal;else TS.i18n.keyboard_changed_sig={add:function e(){},remove:function e(){},dispatch:function e(){}}},locale:function e(){g();return a},keyboard:function e(){return S()},canAutoGetKeyboard:function e(){if(void 0!==o)return o;o=TS.model&&TS.model.is_our_app&&desktop&&desktop.app&&desktop.app.getLocaleInformation&&desktop.app.getLocaleInformation().currentKeyboardLayout;return o},supportedKeyboards:function e(){return f},sendButtonEnabled:function e(){return TS.i18n.localeSupportsSendButton()&&TS.prefs&&TS.prefs.getPref("msg_input_send_btn")},localeSupportsSendButton:function e(){return TS.boot_data.feature_locale_ja_JP&&"ja-JP"===TS.i18n.locale()},getDefaultLocale:function e(){return TS.interop.I18n.DEFAULT_LOCALE},localesEnabled:function e(){var n={};n["de-DE"]="Deutsch";n["en-US"]="English (US)";n["es-ES"]="Español";n["fr-FR"]="Français";if(TS.boot_data.feature_locale_ja_JP)n["ja-JP"]="日本語";if(TS.boot_data.feature_pseudo_locale)n.pseudo="Þsèúδôtřáñsℓátïôñ";return n},localeOrPseudo:function e(){if(r)return"pseudo";return TS.i18n.locale()},isLocaleCJK:function e(){return d.indexOf(TS.i18n.locale())>-1},zdLocale:function e(){g();var n=TS.interop.I18n.DEFAULT_LOCALE.toLowerCase();if(c&&c[a.toLowerCase()])n=c[a.toLowerCase()];return n},t:function e(i,o){g();if(!o&&n){var s=TS.error?TS.error:console.error;s.call(this,"TS.i18n.t requires a namespace string as the second argument. Currently "+o+".");return function(){return""}}var c=a+":"+o+":"+i;if(void 0===l[c]){if(r||"pseudo"===a)l[c]=new MessageFormat(a,B(i)).format;else{if(n&&o&&window.sha1&&window.tsTranslations&&window.tsTranslations[o]){i=window.tsTranslations[o][window.sha1(i)]||i;i=i.replace(/(\[{3})(.*?)(\]{3})/g,function(e,n,t){return"​"+t.split("").join("⁠")+"​"})}l[c]=new MessageFormat(a,i).format}if(n&&t)l[c].toString=L(c,o)}return l[c]},number:function e(n,t){if(isNaN(n))return NaN;g();return Intl.NumberFormat(a,t).format(n)},percent:function e(n,t){g();return Intl.NumberFormat(a,{style:"percent",maximumFractionDigits:t}).format(n)},sorter:function e(n,t){g();if(!n||!t)return!n?-1:1;if(s)return s.compare(n,t);return n.localeCompare(t)},mappedSorter:function e(n){return function(e,t){if(!e||!t)return!e?-1:1;var r=(""+n).split(".");if(r.length>1)r.forEach(function(n){e=e[n];t=t[n]});else{e=e[n];t=t[n]}return TS.i18n.sorter(e,t)}},possessive:function e(n){g();if(!n)n="";switch(TS.i18n.locale()){case"fr-FR":var t=_.deburr(n);return t.match(/^[aeiouy]/i)?"d’":"de ";case"es-ES":return"de ";case"de-DE":return n.match(/[sßxz]$/i)?"’":"s";case"ja-JP":return"の";default:return"’s"}},fullPossessiveString:function e(n){g();switch(TS.i18n.locale()){case"es-ES":case"fr-FR":return TS.i18n.possessive(n)+n;default:return n+TS.i18n.possessive(n)}},listify:function e(n,t){g();var r;var i=[];var o=n.length;var s=t&&"or"===t.conj?TS.i18n.t("or","general")():TS.i18n.t("and","general")();var l=o>2?",":"";var c=t&&t.strong?"<strong>":"";var u=t&&t.strong?"</strong>":"";var f=t&&t.no_escape;var d=t&&t.item_prefix?t.item_prefix:"";switch(a){case"ja-JP":r=", ";break;case"en-US":r=l+" "+s+" ";break;default:r=" "+s+" "}n.forEach(function(e,n){if(!f)e=_.escape(e);i.push(c+d+e+u);if(n<o-2)i.push(", ");else if(n<o-1)i.push(r)});return i},setUpStaticTranslations:function e(){return v()},getStaticTranslation:function e(n,t){if(!I())return null;var r=TS.storage.fetchStaticTranslations();var a=_.get(r,"data."+t);if(!a||!a[n])return null;return a[n]},keyEquivalent:function e(n){var t=S();if("en-US"===t)return n;if(E[n]&&E[n][t])return E[n][t];return n},keyCodeEquivalent:function e(n){var t=S();if("en-US"===t)return n;if(A[n]&&A[n][t])return A[n][t];return n},keyCodeEquivalentReverse:function e(n){var t=S();if("en-US"===t)return n;if(u[t]&&u[t][n])return u[t][n];return n},start_of_the_week:{"en-US":0},number_abbreviations:{"de-DE":{12:"Bio.",9:"Mrd.",6:"Mio.",3:"Tsd."},"es-ES":{12:"Bill",9:"Mrd",6:"Mill",3:"Mil"},"fr-FR":{12:"T",9:"iG",6:"M",3:"k"},"ja-JP":{12:"兆",9:"億",6:"万",3:"千"},"en-US":{12:"T",9:"B",6:"M",3:"K"}},locales_number_formatting:{default:{decimal_symbol:".",thousands_separator:","},"en-US":{decimal_symbol:".",thousands_separator:","},"es-ES":{decimal_symbol:",",thousands_separator:"."},"fr-FR":{decimal_symbol:",",thousands_separator:" "},"ja-JP":{decimal_symbol:".",thousands_separator:","},"de-DE":{decimal_symbol:",",thousands_separator:"."}},test:{setLocale:function e(n){a=n;if(Intl.Collator)s=Intl.Collator(a);if(window.moment)window.moment.locale(a)}}});var e;var n;var t;var r;var a;var i;var o;var s;var l={};var c;var u={};var f={de:"Deutsch","en-US":"English (US)",es:"Español",fr:"Français"};var d=["ja-JP","zh-CN","ko-KR"];var m=[];var g=function i(){if(e)return;n=location.host.match(/^([^.]+\.)?(?:enterprise\.)?(dev[0-9]*)\.slack\.com/);t=TS.qs_args&&TS.qs_args.local_assets||TS.qs_args&&TS.qs_args.js_path;var o=location.search.match(new RegExp("\\?locale=(.*?)($|&)","i"));if(o)a=o[1];if(!a)a=document.documentElement.lang||_.get(TS,"interop.I18n.DEFAULT_LOCALE","en-US");if("pseudo"===a)r=true;if(Intl.Collator)s=Intl.Collator(a);else s=null;e=true};var p=function e(){if(TS.boot_data){if(TS.boot_data.slack_to_zd_locale)c=TS.boot_data.slack_to_zd_locale;if(TS.boot_data.feature_locale_ja_JP)f.ja="日本語"}};var h=function e(n){if("i18n_japan_beta_send_btn_banner"===n.name&&TS.i18n.localeSupportsSendButton()&&!TS.prefs.getPref("msg_input_send_btn_auto_set")){var t=function e(){if(!TS.prefs.getPref("msg_input_send_btn_auto_set"))TS.prefs.setPrefByAPI({name:"msg_input_send_btn_auto_set",value:true});TS.prefs.msg_input_send_btn_changed_sig.remove(e);TS.prefs.msg_input_send_btn_auto_set_changed_sig.remove(e);if(TS.generic_notification_banner.is_showing)TS.generic_notification_banner.close()};if(!TS.prefs.getPref("msg_input_send_btn"))TS.prefs.setPrefByAPI({name:"msg_input_send_btn",value:true},function(){TS.prefs.msg_input_send_btn_changed_sig.add(t)});else TS.prefs.msg_input_send_btn_changed_sig.add(t);TS.prefs.msg_input_send_btn_auto_set_changed_sig.add(t);var r=TS.i18n.t("Just for Japan: a button for sending","send_btn")();var a=TS.i18n.t('Send a message with a quick click, or by pressing {keys}</br>\t\t\tDon‘t like the change? You can always switch back in <button id="send_btn_link_prefs" class="{class}">your preferences</button>.',"send_btn")({keys:'<span class="c-keyboard_key c-keyboard_key--slim">'+(TS.model.is_mac?"⌘":"Ctrl")+'</span>\n\t\t\t<span class="c-keyboard_key c-keyboard_key--slim">Enter</span>',class:"btn_link"});TS.generic_notification_banner.start({h1_copy:r,h2_copy:a,show_go_button:true,go_button_text:TS.i18n.t("Got It","send_btn")(),onGo:t,show_go_link_button:false,show_close_button:false});$("#send_btn_link_prefs").on("click",function(){TS.ui.prefs_dialog.start("advanced","#msg_input_send_btn_label");t()})}};var v=function e(){if(I())return Promise.resolve();return TS.api.call("i18n.translations.get").then(function(e){var n=e.data;if(!n||!n.ok){TS.error("Failed to fetch static i18n translations, recieved this response: ",e);return}TS.model.static_translations_cache_ts=n.cache_ts;TS.storage.storeStaticTranslations({data:n,cache_ts:TS.model.static_translations_cache_ts,locale:n.locale})})};var S=function e(){if(!i)if(TS.i18n.canAutoGetKeyboard()){i=j(desktop.app.getLocaleInformation().currentKeyboardLayout);desktop.app.onDidChangeKeyboardLayout(x)}else if(TS.prefs.prefs_loaded)i=TS.prefs.getPref("keyboard")||"en-US";else return"en-US";return i};var b=/german/;var T=/french/;var w=/spanish/;var y=/iso/;var k=/japanese/;var j=function e(n){var t=n.toLowerCase();if(b.test(t))return"de";else if(T.test(t))return"fr";else if(w.test(t)&&y.test(t))return"es";else if(TS.boot_data.feature_locale_ja_JP&&k.test(t))return"ja";return"en-US"};var x=function e(n){i=j(n);TS.i18n.keyboard_changed_sig.dispatch()};var O=function e(){if(!TS.model.is_our_app){i=TS.prefs.getPref("keyboard");TS.i18n.keyboard_changed_sig.dispatch()}};var E={"`":{es:"º",fr:"@",de:"^",ja:"@"},"~":{es:"ª",fr:"#",de:"°"},"/":{es:"'",fr:",",de:"ö",ja:"・"},"\\":{es:"¡",fr:"`",de:"#",ja:"_"},".":{fr:";"}};var A={190:{fr:186},191:{es:222,fr:188,de:186},220:{es:187,de:222,ja:189}};var C=function e(){Object.keys(A).forEach(function(e){Object.keys(A[e]).forEach(function(n){u[n]=u[n]||{};u[n][A[e][n]]=parseInt(e,10)})})};var I=function e(){var n=TS.storage.fetchStaticTranslations();if(!n)return false;if(TS.model.static_translations_cache_ts!==n.cache_ts)return false;if(TS.i18n.locale()!==n.locale)return false;return true};var L=function e(n,t){return function(){var e=t+"."+n;if(m.indexOf(e)>=0)return;m.push(e);var r="TS.i18n.t("+JSON.stringify(n)+", "+JSON.stringify(t)+")";TS.console.logStackTrace("Tried to use an i18n function as a string — you probably did "+r+" when you meant to do "+r+"()");alert("Dev-only alert: tried to use an i18n function as a string! See console for stack trace.\n\nNamespace: "+t+"\nString: "+n);return""}};var B=function e(n){var t=false;if(n.endsWith(":")){t=true;n=n.substr(0,n.length-1)}var r=/(<[^>]+>)|(&\w+;)/gi;var a=n.match(r)||[];n=n.replace(r,"<>");var i=parseMessageFormatString(n);if(i.error)TS.error(i.error);var o;n=i.tokens.map(function(e){if("text"===e[0]){o=e[1];_.forOwn(M,function(e){o=o.replace(e[0],e[1])});return o.split(" ").map(function(e){e+=new Array(Math.floor(.3*e.length)+1).join("~");return e}).join(" ")}return e[1]}).join("");n=n.split("<>").map(function(e,n){return e+(a[n]||"")}).join("");if(t)n+=":";return n};var M={a:[/a/g,"á"],b:[/b/g,"β"],c:[/c/g,"ç"],d:[/d/g,"δ"],e:[/e/g,"è"],f:[/f/g,"ƒ"],g:[/g/g,"ϱ"],h:[/h/g,"λ"],i:[/i/g,"ï"],j:[/j/g,"ǰ"],k:[/k/g,"ƙ"],l:[/l/g,"ℓ"],m:[/m/g,"₥"],n:[/n/g,"ñ"],o:[/o/g,"ô"],p:[/p/g,"ƥ"],q:[/q/g,"9"],r:[/r/g,"ř"],u:[/u/g,"ú"],v:[/v/g,"Ʋ"],w:[/w/g,"ω"],x:[/x/g,"ж"],y:[/y/g,"¥"],z:[/z/g,"ƺ"],A:[/A/g,"Â"],B:[/B/g,"ß"],C:[/C/g,"Ç"],D:[/D/g,"Ð"],E:[/E/g,"É"],I:[/I/g,"Ì"],L:[/L/g,"£"],O:[/O/g,"Ó"],P:[/P/g,"Þ"],S:[/S/g,"§"],U:[/U/g,"Û"],Y:[/Y/g,"Ý"]}})()},3427:function(e,n){(function(){TS.registerModule("clog",{onStart:function e(){n();TS.interop.clog.instance.start()},setUser:function e(n){TS.interop.clog.instance.setUser(n)},setTeam:function e(n){TS.interop.clog.instance.setTeam(n)},setEnterprise:function e(n){TS.interop.clog.instance.setEnterprise(n)},setLocale:function e(n){TS.interop.clog.instance.setLocale(n)},track:function e(t,r){n();TS.interop.clog.track(t,r)},trackClick:function e(t,r,a){n();TS.interop.clog.trackClick(t,r,a)},trackForm:function e(t,r,a){n();TS.interop.clog.trackForm(t,r,a)},trackClickWithContext:function e(t){n();TS.interop.clog.trackClickWithContext(t)}});var e=function e(){var n;var t;var r;var a;if(TS.redux)r=TS.redux.enterprise.getEnterpriseId();n=TS.model&&TS.model.user&&TS.model.user.id;t=TS.model&&TS.model.team&&TS.model.team.id;a=TS.i18n&&TS.i18n.locale();return{user_id:n,team_id:t,enterprise_id:r,locale_id:a}};var n=function n(){var t=e();TS.interop.clog.instance.setUser(t.user_id).setTeam(t.team_id).setEnterprise(t.enterprise_id).setLocale(t.locale_id)}})()},3451:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=t(3299);var a=t(3311);Object(r["a"])("interop.clog",{instance:Object(a["a"])(),track:a["b"],trackClick:a["c"],trackClickWithContext:a["d"],trackForm:a["e"]})},3453:function(e,n){(function(){TS.registerModule("experiment",{onStart:function t(){e=!!(TS.api&&TS.api.call);if(e)n=TS.api.call;else n=window.callSlackAPIUnauthed;if(TS.boot_data&&TS.boot_data.experiment_assignments)c(TS.boot_data.experiment_assignments)},loadLeadAssignments:function e(n){if(void 0===n){if(TS.warn)TS.warn("TS.experiment.loadLeadAssignments requires a lead_id");return Promise.resolve(false)}if(!i)i=l("experiments.getByLead",{lead_id:n});return i},loadVisitorAssignments:function e(){if(!s)s=l("experiments.getByVisitor");return s},loadUserAssignments:function n(){if(!e){if(TS.warn)TS.warn("TS.experiment.loadUserAssignments requires a user to be logged in");return Promise.resolve(false)}if(!o)o=l("experiments.getByUser");return o},getGroup:function e(n,r){if(!t[n])return null;if(t[n].log_exposures)u(n,t[n]);if(r&&t[n].group)r.forEach(function(e){a[e]=a[e]||[];if(a[e].indexOf(n)<0)a[e].push(n)});return t[n].group},getExperimentsForMetric:function e(n){var r=a[n];if(!r)return[];return r.map(function(e){return t[e]})},getAllAssignmentsForDebugging:function e(){return t},test:function e(){var n={};Object.defineProperty(n,"_recordAssignments",{get:function e(){return c},set:function e(n){c=n}});Object.defineProperty(n,"_metric_experiments",{get:function e(){return a},set:function e(n){a=n}});return n}});var e;var n;var t={};var r={};var a={};var i;var o;var s;var l=function e(t,r){return new Promise(function(e){n(t,_.extend(TS.interop.url.queryStringParse(location.search.substring(1)),r),function(n,t){if(n&&t.assignments)c(t.assignments);e(n)})})};var c=function e(n){var a;for(a in n){if(!_.isEqual(r[a],n[a]))r[a]=null;t[a]=n[a]}};var u=function e(n,t){if(TS.clog&&!_.isEqual(r[n],t)){TS.clog.track("EXPERIMENT_EXPOSURE",{experiment_name:n,experiment_type:t.type,experiment_id:t.experiment_id,experiment_group:t.group,experiment_trigger:t.trigger,exposure_id:t.exposure_id});r[n]=t}}})()},3489:function(e,n,t){"use strict";t.d(n,"d",function(){return o});t.d(n,"j",function(){return c});t.d(n,"e",function(){return u});t.d(n,"a",function(){return f});t.d(n,"i",function(){return _});t.d(n,"g",function(){return d});t.d(n,"f",function(){return m});t.d(n,"h",function(){return g});t.d(n,"b",function(){return p});n["c"]=T;var r=t(1);var a=t.n(r);var i=t(3294);var o=window&&window.desktop;var s=Object(i["c"])("desktop.contextMenu",a.a.noop);var l=Object(i["c"])("desktop.downloads.startDownload",a.a.noop);var c=Object(i["c"])("desktop.downloads.showDownload",a.a.noop);var u=Object(i["c"])("desktop.downloads.openDownload",a.a.noop);var f=Object(i["c"])("desktop.downloads.cancelDownload",a.a.noop);var _=Object(i["c"])("desktop.downloads.retryDownload",a.a.noop);var d=Object(i["c"])("desktop.downloads.removeDownload",a.a.noop);var m=Object(i["c"])("desktop.downloads.pauseDownload",a.a.noop);var g=Object(i["c"])("desktop.downloads.resumeDownload",a.a.noop);var p=Object(i["c"])("desktop.downloads.clearDownloads",a.a.noop);var h=Object(i["c"])("desktop.app.getPreference",a.a.noop);var v=o&&window.desktop.stats&&window.desktop.stats.Id?window.desktop.stats.Id:{instanceUid:null,sessionId:null};var S=v.instanceUid;var b=v.sessionId;function T(){if(!o)return{};var e=h("releaseChannel")||null;return{instanceUid:S,sessionId:b,releaseChannel:e}}},3595:function(e,n){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){TS.registerModule("emoji",{onStart:function e(){if(TS.web)TS.web.login_sig.add(TS.emoji.onLogin);if(TS.client)TS.client.login_sig.add(TS.emoji.onLogin);TS.prefs.jumbomoji_changed_sig.add(b);if(TS.boot_data.feature_update_emoji_to_v4){v();h.forEach(function(e){TS.emoji.spliceSkinToneVariationsIntoAnArrayOfEmojiNames(e.emoji_names)})}var n=true;S=TS.utility.throttleFunc(S,3e3,n);if(window._)k=_.debounce(k,3e3,{leading:false,trailing:n})},onLogin:function e(){b()},isValidName:function n(t){if(!t)return false;t=TS.emoji.stripWrappingColons(t).toLowerCase();if("undefined"===typeof e[t])return false;return t},isEmojiNameSafe:function e(n){var t=_.get(g,"rx_colons.source");var r=new RegExp("^"+t+"$");var a=":"+n+":";return r.test(a)},substringMatchesName:function e(n,t){if(!n||!t||!_.isString(n)||!_.isString(t))return false;if("::"===t)return false;var r=":"===t.charAt(0);var a=":"===t.slice(-1);t=TS.emoji.stripWrappingColons(t.toLowerCase());if(!t)return true;if(r&&a)return t===n;if(r)return n.slice(0,t.length)===t;if(a)return n.slice(-1*t.length)===t;var i=-1!==n.indexOf(t);if(i)return true;return false},emojiMatchesTerm:function e(n,t,r){if(!n||!t)return false;var a=TS.emoji.nameToBaseName(n.display_name||n.name);if(TS.boot_data.feature_localization){t=TS.emoji.normalizeSearchTerm(t);a=TS.interop.I18n.deburr(a)}if(TS.emoji.substringMatchesName(a,t))return true;var i=n.display_names||n.names;if(TS.boot_data.feature_localization){i=TS.interop.I18n.deburr(i);if(n.display_names&&n.display_names!==n.names)i+=" "+n.names}var o=i.split(" ");for(var s=0;s<o.length;s+=1)if(TS.emoji.substringMatchesName(TS.emoji.nameToBaseName(o[s]),t))return true;return-1!==_.indexOf(r,a)},normalizeSearchTerm:function e(n){if(!n||!_.isString(n))return;n=n.toLowerCase();n=TS.interop.I18n.deburr(n);n=n.replace(/['ʼ’]/g,"'");return n},nameToBaseName:function e(n){if(!_.isString(n))return"";if(TS.boot_data.feature_localization)n=TS.emoji.stripLocalizedSkinTone(n);else n=n.replace(/(:skin-tone-[2-6]:)/,"");n=TS.emoji.stripWrappingColons(n);return n},stripLocalizedSkinTone:function e(n){var t=/::skin-tone-[2-6]:/g;n=n.replace(t,":");if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE){var r=TS.emoji.getLocalSkinToneName();t=new RegExp("::"+r+"-[2-6]:","g")}n=n.replace(t,":");return n},stripWrappingColons:function e(n){if(!n)return"";n="string"===typeof n?n:""+n;if(":"===n[0]){if(":"===n[n.length-1])return n.slice(1,n.length-1);return n.slice(1,n.length)}else if(":"===n[n.length-1])return n.slice(0,n.length-1);return n},nameToCanonicalName:function e(n){n=TS.emoji.stripWrappingColons(n);if(!n)return"";n=String(n).toLowerCase();var t=function(){var e=n.split("::");if(2!=e.length)return"";n=e[0];return"::"+e[1]}();return(f()[n]||n)+t},emojiHasAliases:function e(n){return-1!==n.names.indexOf(" ")},addCustomEmoji:function e(n,t,r){y(n,t,r)},removeCustomEmoji:function e(n,t){var r;y(n,r,t)},ingestCustoms:function e(n){TS.model.all_custom_emoji.length=0;TS.model.emoji_complex_customs={};a={};var r;var i;var o=[];_.forOwn(g.data,function(e){o.push.apply(o,e[3])});function s(e){return g.map.colons.hasOwnProperty(e)||o.indexOf(e)>=0}function l(e){var n=TS.emoji.maybeGetCanonicalEmojiName(e);return n!==e}_.forOwn(n,function(e,n){if("object"===("undefined"===typeof e?"undefined":t(e))){TS.model.emoji_complex_customs[n]=e;g.data[n]=[[],null,null,[n],null,null,null,e.apple];g.map.colons[n]=n;TS.model.all_custom_emoji.push(n)}else{if(0===e.indexOf("alias:"))return;if(s(n)){TS.error("can't ingest custom emoji :"+n+": because that already exists");return}if(!TS.emoji.isEmojiNameSafe(n)){TS.error("can't ingest custom emoji :"+n+": because it's invalid");return}g.data[n]=[[],null,null,[n],null,null,null,e];g.map.colons[n]=n;TS.model.all_custom_emoji.push(n)}});_.forOwn(n,function(e,n){if("object"===("undefined"===typeof e?"undefined":t(e))||0!==e.indexOf("alias:"))return;if(s(n)){TS.error("can't ingest custom emoji :"+n+": because that already exists");return}if(!TS.emoji.isEmojiNameSafe(n)){TS.error("can't ingest custom emoji :"+n+": because it's invalid");return}r=e.replace("alias:","");i=g.data.hasOwnProperty(r)&&g.data[r];if(i){i[3].push(n);g.map.colons[n]=r;return}r=g.map.colons.hasOwnProperty(r)&&g.map.colons[r];i=g.data.hasOwnProperty(r)&&g.data[r];if(i){i[3].push(n);g.map.colons[n]=r;return}if(TS.boot_data&&TS.boot_data.feature_tinyspeck)TS.warn('alias for "'+n+'":"'+e+'" not recognized')});if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)_.forOwn(n,function(e,n){if(l(n))a[n]=true});TS.model.all_custom_emoji=TS.model.all_custom_emoji.sort();if(g&&g.inits){delete g.inits.emoticons;g.init_emoticons()}u=d()},setUpEmoji:function e(){return new Promise(function(e){if(!g){if(TS.boot_data.feature_tinyspeck)TS.log(250,"BOOT: Done setting up emoji, there was nothing to do");return e()}var n=function n(){g.buildKeywordIndex();w();if(TS.boot_data.feature_tinyspeck)TS.log(250,"BOOT: Done setting up emoji");e()};T();if(!TS.boot_data.page_needs_custom_emoji)return n();if(!TS.boot_data.page_needs_custom_emoji_fresh){var t=TS.storage.fetchCustomEmoji();if("calls"===TS.boot_data.app&&!TS.model.emoji_cache_ts)TS.model.emoji_cache_ts=_.get(TS.storage.fetchCustomEmoji(),"cache_ts");if(t&&TS.model.emoji_cache_ts==t.cache_ts){TS.model.did_we_load_with_emoji_cache=true;TS.emoji.ingestCustoms(t.data);return n()}}if(TS.boot_data.feature_tinyspeck)TS.log(250,"BOOT: Fetching emoji list before setting up emoji");var r=function e(t,r){if(!t||!r.emoji)return n();TS.model.emoji_cache_ts=r.cache_ts;TS.storage.storeCustomEmoji({data:r.emoji,cache_ts:TS.model.emoji_cache_ts});TS.emoji.ingestCustoms(r.emoji);n()};TS.api.call("emoji.list",{include_complex_values:1}).then(function(e){var n=e.data,t=e.args,a=e.request_id;var i=true;r(i,n,t,a);return{data:n,args:t,request_id:a}}).catch(function(e){var n=e.data,t=e.args,a=e.request_id;var i=false;r(i,n,t,a);return{data:n,args:t,request_id:a}})})},resetUpEmoji:function e(){TS.storage.storeCustomEmoji("");S()},maybeRemakeMenuListsIfFrequentsChanged:function e(){if(TS.boot_data.feature_react_emoji_picker_frecency)return;var t=l();if(!TS.utility.areSimpleObjectsEqual(t,n,"maybemakeMenuLists"))if(TS.boot_data.feature_localization)c(t);else TS.emoji.makeMenuLists()},replaceFrecentlyUsed:function e(){if(!TS.boot_data.feature_react_emoji_picker_frecency)return;var n=A();if(!n.length)return;if(!_.isEqual(n,r)){c(n);r=n}},makeMenuLists:function t(){TS.model.emoji_groups.length=0;TS.model.emoji_names.length=0;e={};var r=_.cloneDeep(h);var i=j();if(i&&i.length)r.push({display_name:TS.i18n.t("Custom","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_slack"></i></span>',tab_icon:"ts_icon_slack",tab_icon_name:"slack",name:"slack",emoji_names:i});n=l();r.unshift({name:"mine",display_name:TS.i18n.t("Frequently Used","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_clock_o"></i></span>',tab_icon:"ts_icon_clock_o",tab_icon_name:"clock_o",emoji_names:n});var o;var s;var c=[];for(o=0;o<r.length;o+=1)c=c.concat(r[o].emoji_names);var u={};Object.keys(g.data).forEach(function(n){var t=g.data[n][3];var r=TS.emoji.isIdxSkinToneModifiable(n);t.forEach(function(t,a,i){var o=t;var s=_.compact(i);if(s.length!==i.length)TS.error('Emoji "'+t+'" contains bad record(s) in "names" prop');TS.model.emoji_names.push(t);e[t]=true;if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE){o=TS.emoji.maybeGetLocalizedEmojiName(t);s=i.map(function(e){return TS.emoji.maybeGetLocalizedEmojiName(e)})}u[t]={html:TS.emoji.graphicReplace(":"+t+":"),name:":"+t+":",names:":"+i.join(": :")+":",display_name:":"+o+":",display_names:":"+s.join(": :")+":"};TS.model.emoji_map.push({id:"E"+n+(a>0?"_alias_"+a:""),name:t,name_with_colons:":"+t+":",display_name:o,is_skin:r,is_emoji:true});if(r){u[t].is_skin=true;u[t].skin_tone_id="1";g.skin_tones.forEach(function(r){if(!m(n,r))return;var a=g.data[r];var l=a[3][0];var c=t+"::"+l;TS.model.emoji_names.push(c);e[c]=true;var f=":"+c+":";var _=i.map(function(e){return e+"::"+l});var d=f;var p=_;if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE){var h=TS.emoji.maybeGetLocalizedEmojiName(l);d=":"+o+"::"+h+":";p=s.map(function(e){return e+"::"+h})}u[c]={is_skin:true,skin_tone_id:l.substr(-1,1),html:TS.emoji.graphicReplace(f),name:f,names:":"+_.join(": :")+":",display_name:d,display_names:":"+p.join(": :")+":"}})}})});p=u;TS.model.emoji_map=_.uniqBy(TS.model.emoji_map,"id");for(o=0;o<c.length;o+=1){var f=c[o];if(!u[f])TS.info(f+" not in cat_map?")}var d;var v;var S;var b;for(o=0;o<r.length;o+=1){d=r[o];v=[];S=null;b="";if(d.tab_icon_html)b=d.tab_icon_html;for(s=0;s<d.emoji_names.length;s+=1){S=u[d.emoji_names[s]];v.push(S);if(b)continue;if(d.emoji_names[s]==d.name)b=S.html}S=v[0];TS.model.emoji_groups.push({name:d.name,display_name:d.display_name,tab_html:b||S.html,tab_icon:d.tab_icon,tab_icon_name:d.tab_icon_name,items:v})}var T=TS.emoji.getCurrentSheetUrl();if(O("ss_emojis")&&T){var w=new Image;w.onload=function(){w.onload=null;w.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";w=null};w.src=T}TS.model.emoji_names.sort();TS.emoji.friendlyReorder();var y=TS.model.emoji_names.indexOf("ok");var k=TS.model.emoji_names.indexOf("ok_hand");TS.model.emoji_names[y]="ok_hand";TS.model.emoji_names[k]="ok";if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)_.each(a,function(e,n){_.remove(TS.model.emoji_map,{name:n})});var x=function e(n){var t=TS.model.emoji_names.concat();["skin-tone-2","skin-tone-3","skin-tone-4","skin-tone-5","skin-tone-6"].forEach(function(e){_.pull(t,e)});n.forEach(function(e){e.emoji_names.forEach(function(e){_.pull(t,e);var n=g.map.colons[e];var r=g.data[n];if(r)r[3].forEach(function(e){[e,e+"::skin-tone-2",e+"::skin-tone-3",e+"::skin-tone-4",e+"::skin-tone-5",e+"::skin-tone-6"].forEach(function(e){_.pull(t,e)})})})});if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)_.each(a,function(e,n){_.pull(t,n)});if(t.length)TS.error("testGroupings() expected these emoji names to be in a category, but they were not found! "+t.join(","))};if("dev"===TS.boot_data.version_ts)x(r)},friendlyReorder:function e(){var n=[{filter:"th",first:"thumbsup",second:"thumbsdown"},{filter:"po",first:"point_up",second:"point_down"}];n.forEach(function(e){var n=_.reduce(TS.model.emoji_names,function(n,t,r){if(0===t.indexOf(e.filter)){var a=TS.model.all_custom_emoji.indexOf(t)>-1;var i=!a&&0===t.indexOf(e.first);var o=!a&&!i&&0===t.indexOf(e.second);n.emoji.push({name:t,is_first:i,is_second:o});n.indexes.push(r)}return n},{indexes:[],emoji:[]});n.emoji=_.orderBy(n.emoji,["is_first","is_second","name"],["desc","desc","asc"]);_.forEach(n.emoji,function(e,t){var r=n.indexes[t];TS.model.emoji_names[r]=e.name})})},isIdxSkinToneModifiable:function e(n){return m(n,g.skin_tones[0])},isNameSkinToneModifiable:function e(n){n=TS.emoji.stripWrappingColons(n);n=String(n).toLowerCase();var t=g.map.colons[n];return TS.emoji.isIdxSkinToneModifiable(t)},graphicReplace:function e(n,t){if(!n)return"";t=t||{};if(t.show_icon_for_emoji_in_as_text_mode&&TS.emoji.isValidName(n))return'<ts-icon class="emoji-sizer ts_icon_info_circle ts_icon_inherit" title="'+n.replace(/:/g,"")+'"></ts-icon>';g.init_env();var r=g.text_mode;var a=g.include_title;var i=g.include_text;var o=g.supports_css;var s=g.allow_skin_tone_squares;if(t.force_img&&t.obey_emoji_mode_pref){t.obey_emoji_mode_pref=false;TS.error("obey_emoji_mode_pref now set to FALSE because options.force_img is TRUE")}if(t.force_style&&t.obey_emoji_mode_pref){t.obey_emoji_mode_pref=false;TS.error("obey_emoji_mode_pref now set to FALSE because options.force_style is "+t.force_style)}g.text_mode=t.obey_emoji_mode_pref&&"as_text"===O("emoji_mode");if(t.force_style){TS.emoji.setEmojiMode(t.force_style);g.use_sheet=false}g.include_title=!!t.include_title;g.include_text=!!t.include_text;g.supports_css=!t.force_img;g.allow_skin_tone_squares=!t.no_skin_tone_squares;var l=g.replace_colons(n,{stop_animations:t.stop_animations});if(t.jumbomoji)l=l.replace("emoji-sizer","emoji-sizer emoji-only");if(t.force_style)TS.emoji.setEmojiMode();g.text_mode=r;g.include_title=a;g.include_text=i;g.supports_css=o;g.allow_skin_tone_squares=s;return l},replaceColons:function e(n){if(n.indexOf(":")<0)return n;return g.replace_colons(n)},maybeUnifiedReplace:function e(n){if("unified"!==g.replace_mode)return n;return g.replace_colons_with_unified(n)},replaceEmoticons:function e(n){return g.replace_emoticons_with_colons(n)},eachEmoticon:function e(n,t){n.replace(g.rx_emoticons,t)},getLocalSkinToneName:function e(){var n="skin-tone";if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)n=TSFEmoji.getLocalSkinToneName(TS.i18n.locale());return n},getChosenSkinTone:function e(n){var t=parseInt(O("preferred_skin_tone"),10);if(!t||"1"==t||!_.includes([2,3,4,5,6],t))return"";var r=n?TS.emoji.getLocalSkinToneName():"skin-tone";return r+"-"+t},getChosenSkinToneModifier:function e(n){var t=TS.emoji.getChosenSkinTone(n);if(!t)return"";return":"+t+":"},setEmojiMode:function e(n){var t=["google","emojione","twitter","apple"];n=n||O("emoji_mode");g.text_mode="as_text"===n;g.do_emoticons=!!O("graphic_emoticons");g.allow_native=false;g.use_sheet=function(){if(!O("ss_emojis"))return false;return!!TS.boot_data.page_needs_custom_emoji}();g.img_set=_.includes(t,n)?n:"apple";if(!TS.model.emoji_complex_customs)return;for(var r in TS.model.emoji_complex_customs){if(!g.data[r])continue;g.data[r][7]=TS.model.emoji_complex_customs[r][g.img_set]}},getColonsRx:function e(){return g.rx_colons},getEmojiByName:function e(n){if(!n)return;return _.find(TS.model.emoji_map,{name:n})},getEmojiById:function e(n){var t=_.find(TS.model.emoji_map,{id:n});if(!t){TS.warn("no emoji ob found for "+n);return}return t},getEmojiMap:function e(){return TS.model.emoji_map},getEmojiForSpaces:function e(){var n={emoticonEmojiNames:g.emoticons_data,emoji:{},sheetSize:g.sheet_size,sheetPath:TS.emoji.getCurrentSheetUrl(),replace:function e(){var n=g.colons_mode;g.colons_mode=true;var t=g.replace_unified.apply(g,arguments);if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)t=TS.emoji.maybeGetCanonicalEmojiString(t);g.colons_mode=n;return t}};if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)n.getLocalEmojiString=function(e){return TS.emoji.maybeGetLocalizedEmojiName(e)||e};Object.keys(g.data).forEach(function(e){var t=g.data[e];var r=t[3];var a=t[4];var i=t[5];var o=t[7];var s;if(null!==a&&null!==i)s=[a,i];else if(o)s=false===O("a11y_animations")?TS.utility.getImgProxyURLWithOptions(o,{emoji:true}):o;else{TS.error('WTF, _emoji "'+e+'" is missing coords or and a url, or something!');return}r.forEach(function(e){n.emoji[e]=s})});return n},getCurrentSheetUrl:function e(){return g.img_sets[g.img_set].sheet},getCurrentImagePath:function e(){return g.img_sets[g.img_set].path},hasUnifiedEmoji:function e(n){g.init_unified();return-1!==n.search(g.rx_unified)},test:function e(){return{emoji:g}},spliceSkinToneVariationsIntoAnArrayOfEmojiNames:function e(n){var t=0;n.concat().forEach(function(e,r){var a=g.map.colons[e];var i=g.data.hasOwnProperty(a)&&g.data[a];if(!i)return;g.skin_tones.forEach(function(i){if(!m(a,i))return;var o=g.data[i];var s=o[3][0];var l=e+"::"+s;if(-1!==n.indexOf(l))return;t+=1;var c=t+r;n.splice(c,0,l)})})},findByKeyword:function e(n){return g.findByKeyword(n)},maybeGetCanonicalEmojiString:function e(n){if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)return TSFEmoji.translateEmojiStringToCanonical(n,TS.i18n.locale(),{include_emoji_4:TS.boot_data.feature_update_emoji_to_v4});return n},maybeGetLocalizedEmojiString:function e(n){if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)return TSFEmoji.translateEmojiStringToLocal(n,TS.i18n.locale(),{include_emoji_4:TS.boot_data.feature_update_emoji_to_v4});return n},maybeGetLocalizedEmojiName:function e(n){if(TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)return TSFEmoji.getLocalEmojiString(n,TS.i18n.locale(),{include_emoji_4:TS.boot_data.feature_update_emoji_to_v4});return n},maybeGetCanonicalEmojiName:function e(n){if(TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)return TSFEmoji.getCanonicalEmojiString(n,TS.i18n.locale(),{include_emoji_4:TS.boot_data.feature_update_emoji_to_v4});return n},MISSING_EMOJI_HTML:'<span class="emoji-outer emoji-sizer emoji-bg-contain" style="background-image: url('+cdn_url+'/ecf3e/img/emoji_missing.png);"></span>'});var e={};var n;var r;var a={};var i="E";var o=36;var s=50;var l=function e(){var n;var t={};_.each(_.keys(TS.model.emoji_use),function(e){n=TS.emoji.nameToCanonicalName(e.split("::")[0]);if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)if(x(n))return;if(!t.hasOwnProperty(n))t[n]=0;t[n]+=TS.model.emoji_use[e]});TS.dir(777,t,"condensed emoji names:");var r=Object.keys(t).sort(function(e,n){var r=t[e];var a=t[n];if(r==a){if(e<n)return-1;if(e>n)return 1}return-(r-a)});r.length=Math.min(r.length,4*TS.model.emoji_menu_columns);var a=["slightly_smiling_face","heart","+1","100","bug"];var i;while(r.length<5&&a.length){i=a.shift();if(-1===r.indexOf(i))r.push(i)}TS.emoji.spliceSkinToneVariationsIntoAnArrayOfEmojiNames(r);return r};var c=function e(t){n=t;var r=_.find(_.get(TS.model,"emoji_groups"),{name:"mine"});if(!r)TS.emoji.makeMenuLists();var a=[];n.forEach(function(e){var n=p[e];if(n)a.push(n)});r.items=a};var u;var f=function e(){u=u||d();return u};var d=function e(){var n={};var t;Object.keys(g.data).forEach(function(e){t=g.data[e];n[t[3][0]]=null;t[3].forEach(function(e){if(n.hasOwnProperty(e))return;n[e]=t[3][0]})});return n};var m=function e(n,t){if(TS.boot_data.feature_update_emoji_to_v4)return!!(g.variations_data[n]&&g.variations_data[n][t]);return!!g.variations_data[n+"-"+t]};var g=emoji;var p={};var h=[{name:"people",display_name:TS.i18n.t("People","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_happy_smile"></i></span>',tab_icon:"ts_icon_happy_smile",tab_icon_name:"happy_smile",emoji_names:["grinning","grimacing","grin","joy","smiley","smile","sweat_smile","laughing","innocent","wink","blush","slightly_smiling_face","upside_down_face","relaxed","yum","relieved","heart_eyes","kissing_heart","kissing","kissing_smiling_eyes","kissing_closed_eyes","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","stuck_out_tongue","money_mouth_face","nerd_face","sunglasses","hugging_face","smirk","no_mouth","neutral_face","expressionless","unamused","face_with_rolling_eyes","thinking_face","flushed","disappointed","worried","angry","rage","pensive","confused","slightly_frowning_face","white_frowning_face","persevere","confounded","tired_face","weary","triumph","open_mouth","scream","fearful","cold_sweat","hushed","frowning","anguished","cry","disappointed_relieved","sleepy","sweat","sob","dizzy_face","astonished","zipper_mouth_face","mask","face_with_thermometer","face_with_head_bandage","sleeping","zzz","hankey","smiling_imp","imp","japanese_ogre","japanese_goblin","skull","ghost","alien","robot_face","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","raised_hands","clap","wave","+1","-1","facepunch","fist","v","ok_hand","hand","open_hands","muscle","pray","point_up","point_up_2","point_down","point_left","point_right","middle_finger","raised_hand_with_fingers_splayed","the_horns","spock-hand","writing_hand","nail_care","lips","tongue","ear","nose","eye","eyes","bust_in_silhouette","busts_in_silhouette","speaking_head_in_silhouette","baby","boy","girl","man","woman","person_with_blond_hair","older_man","older_woman","man_with_gua_pi_mao","man_with_turban","cop","construction_worker","guardsman","sleuth_or_spy","santa","angel","princess","bride_with_veil","walking","runner","dancer","dancers","couple","two_men_holding_hands","two_women_holding_hands","bow","information_desk_person","no_good","ok_woman","raising_hand","person_with_pouting_face","person_frowning","haircut","massage","couple_with_heart","woman-heart-woman","man-heart-man","couplekiss","woman-kiss-woman","man-kiss-man","family","man-woman-girl","man-woman-girl-boy","man-woman-boy-boy","man-woman-girl-girl","woman-woman-boy","woman-woman-girl","woman-woman-girl-boy","woman-woman-boy-boy","woman-woman-girl-girl","man-man-boy","man-man-girl","man-man-girl-boy","man-man-boy-boy","man-man-girl-girl","womans_clothes","shirt","jeans","necktie","dress","bikini","kimono","lipstick","kiss","footprints","high_heel","sandal","boot","mans_shoe","athletic_shoe","womans_hat","tophat","helmet_with_white_cross","mortar_board","crown","school_satchel","pouch","purse","handbag","briefcase","eyeglasses","dark_sunglasses","ring","closed_umbrella"]},{name:"nature",display_name:TS.i18n.t("Nature","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_emoji_nature"></i></span>',tab_icon:"ts_icon_emoji_nature",tab_icon_name:"emoji_nature",emoji_names:["dog","cat","mouse","hamster","rabbit","bear","panda_face","koala","tiger","lion_face","cow","pig","pig_nose","frog","octopus","monkey_face","see_no_evil","hear_no_evil","speak_no_evil","monkey","chicken","penguin","bird","baby_chick","hatching_chick","hatched_chick","wolf","boar","horse","unicorn_face","bee","bug","snail","beetle","ant","spider","scorpion","crab","snake","turtle","tropical_fish","fish","blowfish","dolphin","whale","whale2","crocodile","leopard","tiger2","water_buffalo","ox","cow2","dromedary_camel","camel","elephant","goat","ram","sheep","racehorse","pig2","rat","mouse2","rooster","turkey","dove_of_peace","dog2","poodle","cat2","rabbit2","chipmunk","feet","dragon","dragon_face","cactus","christmas_tree","evergreen_tree","deciduous_tree","palm_tree","seedling","herb","shamrock","four_leaf_clover","bamboo","tanabata_tree","leaves","fallen_leaf","maple_leaf","ear_of_rice","hibiscus","sunflower","rose","tulip","blossom","cherry_blossom","bouquet","mushroom","chestnut","jack_o_lantern","shell","spider_web","earth_americas","earth_africa","earth_asia","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","new_moon","waxing_crescent_moon","first_quarter_moon","moon","new_moon_with_face","full_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","sun_with_face","crescent_moon","star","star2","dizzy","sparkles","comet","sunny","mostly_sunny","partly_sunny","barely_sunny","partly_sunny_rain","cloud","rain_cloud","thunder_cloud_and_rain","lightning","zap","fire","boom","snowflake","snow_cloud","snowman_without_snow","snowman","wind_blowing_face","dash","tornado","fog","umbrella","umbrella_with_rain_drops","droplet","sweat_drops","ocean"]},{name:"food_and_drink",display_name:TS.i18n.t("Food & Drink","client")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_emoji_food"></i></span>',tab_icon:"ts_icon_emoji_food",tab_icon_name:"emoji_food",emoji_names:["green_apple","apple","pear","tangerine","lemon","banana","watermelon","grapes","strawberry","melon","cherries","peach","pineapple","tomato","eggplant","hot_pepper","corn","sweet_potato","honey_pot","bread","cheese_wedge","poultry_leg","meat_on_bone","fried_shrimp","egg","hamburger","fries","hotdog","pizza","spaghetti","taco","burrito","ramen","stew","fish_cake","sushi","bento","curry","rice_ball","rice","rice_cracker","oden","dango","shaved_ice","ice_cream","icecream","cake","birthday","custard","candy","lollipop","chocolate_bar","popcorn","doughnut","cookie","beer","beers","wine_glass","cocktail","tropical_drink","champagne","sake","tea","coffee","baby_bottle","fork_and_knife","knife_fork_plate"]},{name:"activity",display_name:TS.i18n.t("Activity","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_emoji_activities"></i></span>',tab_icon:"ts_icon_emoji_activities",tab_icon_name:"emoji_activities",emoji_names:["soccer","basketball","football","baseball","tennis","volleyball","rugby_football","8ball","golf","golfer","table_tennis_paddle_and_ball","badminton_racquet_and_shuttlecock","ice_hockey_stick_and_puck","field_hockey_stick_and_ball","cricket_bat_and_ball","ski","skier","snowboarder","ice_skate","bow_and_arrow","fishing_pole_and_fish","rowboat","swimmer","surfer","bath","person_with_ball","weight_lifter","bicyclist","mountain_bicyclist","horse_racing","man_in_business_suit_levitating","trophy","running_shirt_with_sash","sports_medal","medal","reminder_ribbon","rosette","ticket","admission_tickets","performing_arts","art","circus_tent","microphone","headphones","musical_score","musical_keyboard","saxophone","trumpet","guitar","violin","clapper","video_game","space_invader","dart","game_die","slot_machine","bowling"]},{name:"travel_and_places",display_name:TS.i18n.t("Travel & Places","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_emoji_travel"></i></span>',tab_icon:"ts_icon_emoji_travel",tab_icon_name:"emoji_travel",emoji_names:["car","taxi","blue_car","bus","trolleybus","racing_car","police_car","ambulance","fire_engine","minibus","truck","articulated_lorry","tractor","racing_motorcycle","bike","rotating_light","oncoming_police_car","oncoming_bus","oncoming_automobile","oncoming_taxi","aerial_tramway","mountain_cableway","suspension_railway","railway_car","train","monorail","bullettrain_side","bullettrain_front","light_rail","mountain_railway","steam_locomotive","train2","metro","tram","station","helicopter","small_airplane","airplane","airplane_departure","airplane_arriving","boat","motor_boat","speedboat","ferry","passenger_ship","rocket","satellite","seat","anchor","construction","fuelpump","busstop","vertical_traffic_light","traffic_light","checkered_flag","ship","ferris_wheel","roller_coaster","carousel_horse","building_construction","foggy","tokyo_tower","factory","fountain","rice_scene","mountain","snow_capped_mountain","mount_fuji","volcano","japan","camping","tent","national_park","motorway","railway_track","sunrise","sunrise_over_mountains","desert","beach_with_umbrella","desert_island","city_sunrise","city_sunset","cityscape","night_with_stars","bridge_at_night","milky_way","stars","sparkler","fireworks","rainbow","house_buildings","european_castle","japanese_castle","stadium","statue_of_liberty","house","house_with_garden","derelict_house_building","office","department_store","post_office","european_post_office","hospital","bank","hotel","convenience_store","school","love_hotel","wedding","classical_building","church","mosque","synagogue","kaaba","shinto_shrine"]},{name:"objects",display_name:TS.i18n.t("Objects","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_lightbulb_o"></i></span>',tab_icon:"ts_icon_lightbulb_o",tab_icon_name:"lightbulb_o",emoji_names:["watch","iphone","calling","computer","keyboard","desktop_computer","printer","three_button_mouse","trackball","joystick","compression","minidisc","floppy_disk","cd","dvd","vhs","camera","camera_with_flash","video_camera","movie_camera","film_projector","film_frames","telephone_receiver","phone","pager","fax","tv","radio","studio_microphone","level_slider","control_knobs","stopwatch","timer_clock","alarm_clock","mantelpiece_clock","hourglass_flowing_sand","hourglass","satellite_antenna","battery","electric_plug","bulb","flashlight","candle","wastebasket","oil_drum","money_with_wings","dollar","yen","euro","pound","moneybag","credit_card","gem","scales","wrench","hammer","hammer_and_pick","hammer_and_wrench","pick","nut_and_bolt","gear","chains","gun","bomb","hocho","dagger_knife","crossed_swords","shield","smoking","skull_and_crossbones","coffin","funeral_urn","amphora","crystal_ball","prayer_beads","barber","alembic","telescope","microscope","hole","pill","syringe","thermometer","label","bookmark","toilet","shower","bathtub","key","old_key","couch_and_lamp","sleeping_accommodation","bed","door","bellhop_bell","frame_with_picture","world_map","umbrella_on_ground","moyai","shopping_bags","balloon","flags","ribbon","gift","confetti_ball","tada","dolls","wind_chime","crossed_flags","izakaya_lantern","email","envelope_with_arrow","incoming_envelope","e-mail","love_letter","postbox","mailbox_closed","mailbox","mailbox_with_mail","mailbox_with_no_mail","package","postal_horn","inbox_tray","outbox_tray","scroll","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","page_facing_up","date","calendar","spiral_calendar_pad","card_index","card_file_box","ballot_box_with_ballot","file_cabinet","clipboard","spiral_note_pad","file_folder","open_file_folder","card_index_dividers","rolled_up_newspaper","newspaper","notebook","closed_book","green_book","blue_book","orange_book","notebook_with_decorative_cover","ledger","books","book","link","paperclip","linked_paperclips","scissors","triangular_ruler","straight_ruler","pushpin","round_pushpin","triangular_flag_on_post","waving_white_flag","waving_black_flag","closed_lock_with_key","lock","unlock","lock_with_ink_pen","lower_left_ballpoint_pen","lower_left_fountain_pen","black_nib","memo","pencil2","lower_left_crayon","lower_left_paintbrush","mag","mag_right"]},{name:"symbols",display_name:TS.i18n.t("Symbols","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_heart_o"></i></span>',tab_icon:"ts_icon_heart_o",tab_icon_name:"heart_o",emoji_names:["heart","yellow_heart","green_heart","blue_heart","purple_heart","broken_heart","heavy_heart_exclamation_mark_ornament","two_hearts","revolving_hearts","heartbeat","heartpulse","sparkling_heart","cupid","gift_heart","heart_decoration","peace_symbol","latin_cross","star_and_crescent","om_symbol","wheel_of_dharma","star_of_david","six_pointed_star","menorah_with_nine_branches","yin_yang","orthodox_cross","place_of_worship","ophiuchus","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","id","atom_symbol","u7a7a","u5272","radioactive_sign","biohazard_sign","mobile_phone_off","vibration_mode","u6709","u7121","u7533","u55b6","u6708","eight_pointed_black_star","vs","accept","white_flower","ideograph_advantage","secret","congratulations","u5408","u6e80","u7981","a","b","ab","cl","o2","sos","no_entry","name_badge","no_entry_sign","x","o","anger","hotsprings","no_pedestrians","do_not_litter","no_bicycles","non-potable_water","underage","no_mobile_phones","exclamation","grey_exclamation","question","grey_question","bangbang","interrobang","100","low_brightness","high_brightness","trident","fleur_de_lis","part_alternation_mark","warning","children_crossing","beginner","recycle","u6307","chart","sparkle","eight_spoked_asterisk","eject","negative_squared_cross_mark","white_check_mark","diamond_shape_with_a_dot_inside","cyclone","loop","globe_with_meridians","m","atm","sa","passport_control","customs","baggage_claim","left_luggage","wheelchair","no_smoking","wc","parking","potable_water","mens","womens","baby_symbol","restroom","put_litter_in_its_place","cinema","signal_strength","koko","ng","ok","up","cool","new","free","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","keycap_star","1234","arrow_forward","double_vertical_bar","black_right_pointing_triangle_with_double_vertical_bar","black_square_for_stop","black_circle_for_record","black_right_pointing_double_triangle_with_vertical_bar","black_left_pointing_double_triangle_with_vertical_bar","fast_forward","rewind","twisted_rightwards_arrows","repeat","repeat_one","arrow_backward","arrow_up_small","arrow_down_small","arrow_double_up","arrow_double_down","arrow_right","arrow_left","arrow_up","arrow_down","arrow_upper_right","arrow_lower_right","arrow_lower_left","arrow_upper_left","arrow_up_down","left_right_arrow","arrows_counterclockwise","arrow_right_hook","leftwards_arrow_with_hook","arrow_heading_up","arrow_heading_down","hash","information_source","abc","abcd","capital_abcd","symbols","musical_note","notes","wavy_dash","curly_loop","heavy_check_mark","arrows_clockwise","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_multiplication_x","heavy_dollar_sign","currency_exchange","copyright","registered","tm","end","back","on","top","soon","ballot_box_with_check","radio_button","white_circle","black_circle","red_circle","large_blue_circle","small_orange_diamond","small_blue_diamond","large_orange_diamond","large_blue_diamond","small_red_triangle","black_small_square","white_small_square","black_large_square","white_large_square","small_red_triangle_down","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_square_button","white_square_button","speaker","sound","loud_sound","mute","mega","loudspeaker","bell","no_bell","black_joker","mahjong","spades","clubs","hearts","diamonds","flower_playing_cards","thought_balloon","right_anger_bubble","speech_balloon","left_speech_bubble","clock1","clock2","clock3","clock4","clock5","clock6","clock7","clock8","clock9","clock10","clock11","clock12","clock130","clock230","clock330","clock430","clock530","clock630","clock730","clock830","clock930","clock1030","clock1130","clock1230"]},{name:"flags",display_name:TS.i18n.t("Flags","emoji")(),tab_icon_html:'<span class="emoji-sizer"><i class="ts_icon ts_icon_flag"></i></span>',tab_icon:"ts_icon_flag",tab_icon_name:"flag",emoji_names:["flag-ac","flag-ad","flag-ae","flag-af","flag-ag","flag-ai","flag-al","flag-am","flag-ao","flag-aq","flag-ar","flag-as","flag-at","flag-au","flag-aw","flag-ax","flag-az","flag-ba","flag-bb","flag-bd","flag-be","flag-bf","flag-bg","flag-bh","flag-bi","flag-bj","flag-bl","flag-bm","flag-bn","flag-bo","flag-bq","flag-br","flag-bs","flag-bt","flag-bv","flag-bw","flag-by","flag-bz","flag-ca","flag-cc","flag-cd","flag-cf","flag-cg","flag-ch","flag-ci","flag-ck","flag-cl","flag-cm","flag-cn","flag-co","flag-cp","flag-cr","flag-cu","flag-cv","flag-cw","flag-cx","flag-cy","flag-cz","flag-de","flag-dg","flag-dj","flag-dk","flag-dm","flag-do","flag-dz","flag-ea","flag-ec","flag-ee","flag-eg","flag-eh","flag-er","flag-es","flag-et","flag-eu","flag-fi","flag-fj","flag-fk","flag-fm","flag-fo","flag-fr","flag-ga","flag-gb","flag-gd","flag-ge","flag-gf","flag-gg","flag-gh","flag-gi","flag-gl","flag-gm","flag-gn","flag-gp","flag-gq","flag-gr","flag-gs","flag-gt","flag-gu","flag-gw","flag-gy","flag-hk","flag-hm","flag-hn","flag-hr","flag-ht","flag-hu","flag-ic","flag-id","flag-ie","flag-il","flag-im","flag-in","flag-io","flag-iq","flag-ir","flag-is","flag-it","flag-je","flag-jm","flag-jo","flag-jp","flag-ke","flag-kg","flag-kh","flag-ki","flag-km","flag-kn","flag-kp","flag-kr","flag-kw","flag-ky","flag-kz","flag-la","flag-lb","flag-lc","flag-li","flag-lk","flag-lr","flag-ls","flag-lt","flag-lu","flag-lv","flag-ly","flag-ma","flag-mc","flag-md","flag-me","flag-mf","flag-mg","flag-mh","flag-mk","flag-ml","flag-mm","flag-mn","flag-mo","flag-mp","flag-mq","flag-mr","flag-ms","flag-mt","flag-mu","flag-mv","flag-mw","flag-mx","flag-my","flag-mz","flag-na","flag-nc","flag-ne","flag-nf","flag-ng","flag-ni","flag-nl","flag-no","flag-np","flag-nr","flag-nu","flag-nz","flag-om","flag-pa","flag-pe","flag-pf","flag-pg","flag-ph","flag-pk","flag-pl","flag-pm","flag-pn","flag-pr","flag-ps","flag-pt","flag-pw","flag-py","flag-qa","flag-re","flag-ro","flag-rs","flag-ru","flag-rw","flag-sa","flag-sb","flag-sc","flag-sd","flag-se","flag-sg","flag-sh","flag-si","flag-sj","flag-sk","flag-sl","flag-sm","flag-sn","flag-so","flag-sr","flag-ss","flag-st","flag-sv","flag-sx","flag-sy","flag-sz","flag-ta","flag-tc","flag-td","flag-tf","flag-tg","flag-th","flag-tj","flag-tk","flag-tl","flag-tm","flag-tn","flag-to","flag-tr","flag-tt","flag-tv","flag-tw","flag-tz","flag-ua","flag-ug","flag-um","flag-us","flag-uy","flag-uz","flag-va","flag-vc","flag-ve","flag-vg","flag-vi","flag-vn","flag-vu","flag-wf","flag-ws","flag-xk","flag-ye","flag-yt","flag-za","flag-zm","flag-zw"]}];if(!TS.boot_data.feature_update_emoji_to_v4)h.forEach(function(e){TS.emoji.spliceSkinToneVariationsIntoAnArrayOfEmojiNames(e.emoji_names)});var v=function e(){_.find(h,{name:"people"}).emoji_names=["grinning","smiley","smile","grin","laughing","sweat_smile","joy","rolling_on_the_floor_laughing","relaxed","blush","innocent","slightly_smiling_face","upside_down_face","wink","relieved","heart_eyes","kissing_heart","kissing","kissing_smiling_eyes","kissing_closed_eyes","yum","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","stuck_out_tongue","money_mouth_face","hugging_face","nerd_face","sunglasses","clown_face","face_with_cowboy_hat","smirk","unamused","disappointed","pensive","worried","confused","slightly_frowning_face","white_frowning_face","persevere","confounded","tired_face","weary","triumph","angry","rage","no_mouth","neutral_face","expressionless","hushed","frowning","anguished","open_mouth","astonished","dizzy_face","flushed","scream","fearful","cold_sweat","cry","disappointed_relieved","drooling_face","sob","sweat","sleepy","sleeping","face_with_rolling_eyes","thinking_face","lying_face","grimacing","zipper_mouth_face","nauseated_face","sneezing_face","mask","face_with_thermometer","face_with_head_bandage","smiling_imp","imp","japanese_ogre","japanese_goblin","hankey","ghost","skull","skull_and_crossbones","alien","space_invader","robot_face","jack_o_lantern","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","open_hands","raised_hands","clap","pray","handshake","+1","-1","facepunch","fist","left-facing_fist","right-facing_fist","hand_with_index_and_middle_fingers_crossed","v","the_horns","ok_hand","point_left","point_right","point_up_2","point_down","point_up","hand","raised_back_of_hand","raised_hand_with_fingers_splayed","spock-hand","wave","call_me_hand","muscle","middle_finger","writing_hand","selfie","nail_care","ring","lipstick","kiss","lips","tongue","ear","nose","footprints","eye","eyes","speaking_head_in_silhouette","bust_in_silhouette","busts_in_silhouette","baby","boy","girl","man","woman","blond-haired-woman","person_with_blond_hair","older_man","older_woman","man_with_gua_pi_mao","woman-wearing-turban","man_with_turban","female-police-officer","cop","female-construction-worker","construction_worker","female-guard","guardsman","female-detective","sleuth_or_spy","female-doctor","male-doctor","female-farmer","male-farmer","female-cook","male-cook","female-student","male-student","female-singer","male-singer","female-teacher","male-teacher","female-factory-worker","male-factory-worker","female-technologist","male-technologist","female-office-worker","male-office-worker","female-mechanic","male-mechanic","female-scientist","male-scientist","female-artist","male-artist","female-firefighter","male-firefighter","female-pilot","male-pilot","female-astronaut","male-astronaut","female-judge","male-judge","mother_christmas","santa","princess","prince","bride_with_veil","man_in_tuxedo","angel","pregnant_woman","woman-bowing","bow","information_desk_person","man-tipping-hand","no_good","man-gesturing-no","ok_woman","man-gesturing-ok","raising_hand","man-raising-hand","face_palm","woman-facepalming","man-facepalming","shrug","woman-shrugging","man-shrugging","person_with_pouting_face","man-pouting","person_frowning","man-frowning","haircut","man-getting-haircut","massage","man-getting-massage","man_in_business_suit_levitating","dancer","man_dancing","dancers","man-with-bunny-ears-partying","woman-walking","walking","woman-running","runner","couple","two_women_holding_hands","two_men_holding_hands","couple_with_heart","woman-heart-woman","man-heart-man","couplekiss","woman-kiss-woman","man-kiss-man","family","man-woman-girl","man-woman-girl-boy","man-woman-boy-boy","man-woman-girl-girl","woman-woman-boy","woman-woman-girl","woman-woman-girl-boy","woman-woman-boy-boy","woman-woman-girl-girl","man-man-boy","man-man-girl","man-man-girl-boy","man-man-boy-boy","man-man-girl-girl","woman-boy","woman-girl","woman-girl-boy","woman-boy-boy","woman-girl-girl","man-boy","man-girl","man-girl-boy","man-boy-boy","man-girl-girl","womans_clothes","shirt","jeans","necktie","dress","bikini","kimono","high_heel","sandal","boot","mans_shoe","athletic_shoe","womans_hat","tophat","mortar_board","crown","helmet_with_white_cross","school_satchel","pouch","purse","handbag","briefcase","eyeglasses","dark_sunglasses","closed_umbrella","umbrella","man-woman-boy","woman-heart-man","woman-kiss-man","male-police-officer","blond-haired-man","man-wearing-turban","male-construction-worker","male-guard","male-detective","woman-with-bunny-ears-partying","man-running","woman-getting-massage","woman-getting-haircut","man-walking","woman-tipping-hand","woman-gesturing-no","woman-gesturing-ok","man-bowing","woman-raising-hand","woman-frowning","woman-pouting"];_.find(h,{name:"nature"}).emoji_names=["dog","cat","mouse","hamster","rabbit","fox_face","bear","panda_face","koala","tiger","lion_face","cow","pig","pig_nose","frog","monkey_face","see_no_evil","hear_no_evil","speak_no_evil","monkey","chicken","penguin","bird","baby_chick","hatching_chick","hatched_chick","duck","eagle","owl","bat","wolf","boar","horse","unicorn_face","bee","bug","butterfly","snail","shell","beetle","ant","spider","spider_web","turtle","snake","lizard","scorpion","crab","squid","octopus","shrimp","tropical_fish","fish","blowfish","dolphin","shark","whale","whale2","crocodile","leopard","tiger2","water_buffalo","ox","cow2","deer","dromedary_camel","camel","elephant","rhinoceros","gorilla","racehorse","pig2","goat","ram","sheep","dog2","poodle","cat2","rooster","turkey","dove_of_peace","rabbit2","mouse2","rat","chipmunk","feet","dragon","dragon_face","cactus","christmas_tree","evergreen_tree","deciduous_tree","palm_tree","seedling","herb","shamrock","four_leaf_clover","bamboo","tanabata_tree","leaves","fallen_leaf","maple_leaf","mushroom","ear_of_rice","bouquet","tulip","rose","wilted_flower","sunflower","blossom","cherry_blossom","hibiscus","earth_americas","earth_africa","earth_asia","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","new_moon","waxing_crescent_moon","first_quarter_moon","moon","new_moon_with_face","full_moon_with_face","sun_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","crescent_moon","dizzy","star","star2","sparkles","zap","fire","boom","comet","sunny","mostly_sunny","partly_sunny","barely_sunny","partly_sunny_rain","rainbow","cloud","rain_cloud","thunder_cloud_and_rain","lightning","snow_cloud","snowman","snowman_without_snow","snowflake","wind_blowing_face","dash","tornado","fog","ocean","droplet","sweat_drops","umbrella_with_rain_drops"];_.find(h,{name:"food_and_drink"}).emoji_names=["green_apple","apple","pear","tangerine","lemon","banana","watermelon","grapes","strawberry","melon","cherries","peach","pineapple","kiwifruit","avocado","tomato","eggplant","cucumber","carrot","corn","hot_pepper","potato","sweet_potato","chestnut","peanuts","honey_pot","croissant","bread","baguette_bread","cheese_wedge","egg","fried_egg","bacon","pancakes","fried_shrimp","poultry_leg","meat_on_bone","pizza","hotdog","hamburger","fries","stuffed_flatbread","taco","burrito","green_salad","shallow_pan_of_food","spaghetti","ramen","stew","fish_cake","sushi","bento","curry","rice","rice_ball","rice_cracker","oden","dango","shaved_ice","ice_cream","icecream","cake","birthday","custard","lollipop","candy","chocolate_bar","popcorn","doughnut","cookie","glass_of_milk","baby_bottle","coffee","tea","sake","beer","beers","clinking_glasses","wine_glass","tumbler_glass","cocktail","tropical_drink","champagne","spoon","fork_and_knife","knife_fork_plate"];_.find(h,{name:"activity"}).emoji_names=["soccer","basketball","football","baseball","tennis","volleyball","rugby_football","8ball","table_tennis_paddle_and_ball","badminton_racquet_and_shuttlecock","goal_net","ice_hockey_stick_and_puck","field_hockey_stick_and_ball","cricket_bat_and_ball","golf","bow_and_arrow","fishing_pole_and_fish","boxing_glove","martial_arts_uniform","ice_skate","ski","skier","snowboarder","woman-lifting-weights","weight_lifter","fencer","wrestlers","woman-wrestling","man-wrestling","person_doing_cartwheel","woman-cartwheeling","man-cartwheeling","woman-bouncing-ball","person_with_ball","handball","woman-playing-handball","man-playing-handball","woman-golfing","golfer","woman-surfing","surfer","woman-swimming","swimmer","water_polo","woman-playing-water-polo","man-playing-water-polo","woman-rowing-boat","rowboat","horse_racing","woman-biking","bicyclist","woman-mountain-biking","mountain_bicyclist","running_shirt_with_sash","sports_medal","medal","first_place_medal","second_place_medal","third_place_medal","trophy","rosette","reminder_ribbon","ticket","admission_tickets","circus_tent","juggling","woman-juggling","man-juggling","performing_arts","art","clapper","microphone","headphones","musical_score","musical_keyboard","drum_with_drumsticks","saxophone","trumpet","guitar","violin","game_die","dart","bowling","video_game","slot_machine","man-bouncing-ball","man-lifting-weights","man-golfing","man-surfing","man-swimming","man-rowing-boat","man-biking","man-mountain-biking"];_.find(h,{name:"travel_and_places"}).emoji_names=["car","taxi","blue_car","bus","trolleybus","racing_car","police_car","ambulance","fire_engine","minibus","truck","articulated_lorry","tractor","scooter","bike","motor_scooter","racing_motorcycle","rotating_light","oncoming_police_car","oncoming_bus","oncoming_automobile","oncoming_taxi","aerial_tramway","mountain_cableway","suspension_railway","railway_car","train","mountain_railway","monorail","bullettrain_side","bullettrain_front","light_rail","steam_locomotive","train2","metro","tram","station","helicopter","small_airplane","airplane","airplane_departure","airplane_arriving","rocket","satellite","seat","canoe","boat","motor_boat","speedboat","passenger_ship","ferry","ship","anchor","construction","fuelpump","busstop","vertical_traffic_light","traffic_light","world_map","moyai","statue_of_liberty","fountain","tokyo_tower","european_castle","japanese_castle","stadium","ferris_wheel","roller_coaster","carousel_horse","umbrella_on_ground","beach_with_umbrella","desert_island","mountain","snow_capped_mountain","mount_fuji","volcano","desert","camping","tent","railway_track","motorway","building_construction","factory","house","house_with_garden","house_buildings","derelict_house_building","office","department_store","post_office","european_post_office","hospital","bank","hotel","convenience_store","school","love_hotel","wedding","classical_building","church","mosque","synagogue","kaaba","shinto_shrine","japan","rice_scene","national_park","sunrise","sunrise_over_mountains","stars","sparkler","fireworks","city_sunrise","city_sunset","cityscape","night_with_stars","milky_way","bridge_at_night","foggy"];_.find(h,{name:"objects"}).emoji_names=["watch","iphone","calling","computer","keyboard","desktop_computer","printer","three_button_mouse","trackball","joystick","compression","minidisc","floppy_disk","cd","dvd","vhs","camera","camera_with_flash","video_camera","movie_camera","film_projector","film_frames","telephone_receiver","phone","pager","fax","tv","radio","studio_microphone","level_slider","control_knobs","stopwatch","timer_clock","alarm_clock","mantelpiece_clock","hourglass","hourglass_flowing_sand","satellite_antenna","battery","electric_plug","bulb","flashlight","candle","wastebasket","oil_drum","money_with_wings","dollar","yen","euro","pound","moneybag","credit_card","gem","scales","wrench","hammer","hammer_and_pick","hammer_and_wrench","pick","nut_and_bolt","gear","chains","gun","bomb","hocho","dagger_knife","crossed_swords","shield","smoking","coffin","funeral_urn","amphora","crystal_ball","prayer_beads","barber","alembic","telescope","microscope","hole","pill","syringe","thermometer","toilet","potable_water","shower","bathtub","bath","bellhop_bell","key","old_key","door","couch_and_lamp","bed","sleeping_accommodation","frame_with_picture","shopping_bags","shopping_trolley","gift","balloon","flags","ribbon","confetti_ball","tada","dolls","izakaya_lantern","wind_chime","email","envelope_with_arrow","incoming_envelope","e-mail","love_letter","inbox_tray","outbox_tray","package","label","mailbox_closed","mailbox","mailbox_with_mail","mailbox_with_no_mail","postbox","postal_horn","scroll","page_with_curl","page_facing_up","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","spiral_note_pad","spiral_calendar_pad","calendar","date","card_index","card_file_box","ballot_box_with_ballot","file_cabinet","clipboard","file_folder","open_file_folder","card_index_dividers","rolled_up_newspaper","newspaper","notebook","notebook_with_decorative_cover","ledger","closed_book","green_book","blue_book","orange_book","books","book","bookmark","link","paperclip","linked_paperclips","triangular_ruler","straight_ruler","pushpin","round_pushpin","scissors","lower_left_ballpoint_pen","lower_left_fountain_pen","black_nib","lower_left_paintbrush","lower_left_crayon","memo","pencil2","mag","mag_right","lock_with_ink_pen","closed_lock_with_key","lock","unlock"];_.find(h,{name:"symbols"}).emoji_names=["heart","yellow_heart","green_heart","blue_heart","purple_heart","black_heart","broken_heart","heavy_heart_exclamation_mark_ornament","two_hearts","revolving_hearts","heartbeat","heartpulse","sparkling_heart","cupid","gift_heart","heart_decoration","peace_symbol","latin_cross","star_and_crescent","om_symbol","wheel_of_dharma","star_of_david","six_pointed_star","menorah_with_nine_branches","yin_yang","orthodox_cross","place_of_worship","ophiuchus","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","id","atom_symbol","accept","radioactive_sign","biohazard_sign","mobile_phone_off","vibration_mode","u6709","u7121","u7533","u55b6","u6708","eight_pointed_black_star","vs","white_flower","ideograph_advantage","secret","congratulations","u5408","u6e80","u5272","u7981","a","b","ab","cl","o2","sos","x","o","octagonal_sign","no_entry","name_badge","no_entry_sign","100","anger","hotsprings","no_pedestrians","do_not_litter","no_bicycles","non-potable_water","underage","no_mobile_phones","no_smoking","exclamation","grey_exclamation","question","grey_question","bangbang","interrobang","low_brightness","high_brightness","part_alternation_mark","warning","children_crossing","trident","fleur_de_lis","beginner","recycle","white_check_mark","u6307","chart","sparkle","eight_spoked_asterisk","negative_squared_cross_mark","globe_with_meridians","diamond_shape_with_a_dot_inside","m","cyclone","zzz","atm","wc","wheelchair","parking","u7a7a","sa","passport_control","customs","baggage_claim","left_luggage","mens","womens","baby_symbol","restroom","put_litter_in_its_place","cinema","signal_strength","koko","symbols","information_source","abc","abcd","capital_abcd","ng","ok","up","cool","new","free","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","hash","keycap_star","arrow_forward","double_vertical_bar","black_right_pointing_triangle_with_double_vertical_bar","black_square_for_stop","eject","black_circle_for_record","black_right_pointing_double_triangle_with_vertical_bar","black_left_pointing_double_triangle_with_vertical_bar","fast_forward","rewind","arrow_double_up","arrow_double_down","arrow_backward","arrow_up_small","arrow_down_small","arrow_right","arrow_left","arrow_up","arrow_down","arrow_upper_right","arrow_lower_right","arrow_lower_left","arrow_upper_left","arrow_up_down","left_right_arrow","arrow_right_hook","leftwards_arrow_with_hook","arrow_heading_up","arrow_heading_down","twisted_rightwards_arrows","repeat","repeat_one","arrows_counterclockwise","arrows_clockwise","musical_note","notes","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_multiplication_x","heavy_dollar_sign","currency_exchange","tm","copyright","registered","wavy_dash","curly_loop","loop","end","back","on","top","soon","heavy_check_mark","ballot_box_with_check","radio_button","white_circle","black_circle","red_circle","large_blue_circle","small_red_triangle","small_red_triangle_down","small_orange_diamond","small_blue_diamond","large_orange_diamond","large_blue_diamond","white_square_button","black_square_button","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","speaker","mute","sound","loud_sound","bell","no_bell","mega","loudspeaker","eye-in-speech-bubble","speech_balloon","left_speech_bubble","thought_balloon","right_anger_bubble","spades","clubs","hearts","diamonds","black_joker","flower_playing_cards","mahjong","clock1","clock2","clock3","clock4","clock5","clock6","clock7","clock8","clock9","clock10","clock11","clock12","clock130","clock230","clock330","clock430","clock530","clock630","clock730","clock830","clock930","clock1030","clock1130","clock1230","female_sign","male_sign","staff_of_aesculapius"];_.find(h,{name:"flags"}).emoji_names=["checkered_flag","crossed_flags","flag-ac","flag-ad","flag-ae","flag-af","flag-ag","flag-ai","flag-al","flag-am","flag-ao","flag-aq","flag-ar","flag-as","flag-at","flag-au","flag-aw","flag-ax","flag-az","flag-ba","flag-bb","flag-bd","flag-be","flag-bf","flag-bg","flag-bh","flag-bi","flag-bj","flag-bl","flag-bm","flag-bn","flag-bo","flag-bq","flag-br","flag-bs","flag-bt","flag-bv","flag-bw","flag-by","flag-bz","flag-ca","flag-cc","flag-cd","flag-cf","flag-cg","flag-ch","flag-ci","flag-ck","flag-cl","flag-cm","flag-cn","flag-co","flag-cp","flag-cr","flag-cu","flag-cv","flag-cw","flag-cx","flag-cy","flag-cz","flag-de","flag-dg","flag-dj","flag-dk","flag-dm","flag-do","flag-dz","flag-ea","flag-ec","flag-ee","flag-eg","flag-eh","flag-er","flag-es","flag-et","flag-eu","flag-fi","flag-fj","flag-fk","flag-fm","flag-fo","flag-fr","flag-ga","flag-gb","flag-gd","flag-ge","flag-gf","flag-gg","flag-gh","flag-gi","flag-gl","flag-gm","flag-gn","flag-gp","flag-gq","flag-gr","flag-gs","flag-gt","flag-gu","flag-gw","flag-gy","flag-hk","flag-hm","flag-hn","flag-hr","flag-ht","flag-hu","flag-ic","flag-id","flag-ie","flag-il","flag-im","flag-in","flag-io","flag-iq","flag-ir","flag-is","flag-it","flag-je","flag-jm","flag-jo","flag-jp","flag-ke","flag-kg","flag-kh","flag-ki","flag-km","flag-kn","flag-kp","flag-kr","flag-kw","flag-ky","flag-kz","flag-la","flag-lb","flag-lc","flag-li","flag-lk","flag-lr","flag-ls","flag-lt","flag-lu","flag-lv","flag-ly","flag-ma","flag-mc","flag-md","flag-me","flag-mf","flag-mg","flag-mh","flag-mk","flag-ml","flag-mm","flag-mn","flag-mo","flag-mp","flag-mq","flag-mr","flag-ms","flag-mt","flag-mu","flag-mv","flag-mw","flag-mx","flag-my","flag-mz","flag-na","flag-nc","flag-ne","flag-nf","flag-ng","flag-ni","flag-nl","flag-no","flag-np","flag-nr","flag-nu","flag-nz","flag-om","flag-pa","flag-pe","flag-pf","flag-pg","flag-ph","flag-pk","flag-pl","flag-pm","flag-pn","flag-pr","flag-ps","flag-pt","flag-pw","flag-py","flag-qa","flag-re","flag-ro","flag-rs","flag-ru","flag-rw","flag-sa","flag-sb","flag-sc","flag-sd","flag-se","flag-sg","flag-sh","flag-si","flag-sj","flag-sk","flag-sl","flag-sm","flag-sn","flag-so","flag-sr","flag-ss","flag-st","flag-sv","flag-sx","flag-sy","flag-sz","flag-ta","flag-tc","flag-td","flag-tf","flag-tg","flag-th","flag-tj","flag-tk","flag-tl","flag-tm","flag-tn","flag-to","flag-tr","flag-tt","flag-tv","flag-tw","flag-tz","flag-ua","flag-ug","flag-um","flag-un","flag-us","flag-uy","flag-uz","flag-va","flag-vc","flag-ve","flag-vg","flag-vi","flag-vn","flag-vu","flag-wf","flag-ws","flag-xk","flag-ye","flag-yt","flag-za","flag-zm","flag-zw","rainbow-flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"]};var S=function e(){TS.emoji.setUpEmoji()};var b=function e(){if(TS.client&&TS.model.ms_logged_in_once){TS.client.msg_pane.rebuildMsgsWithReason("_toggleJumbomoji");TS.view.rebuildMentions();TS.view.rebuildStars();if(TS.model.previewed_file_id)TS.client.ui.files.rebuildFilePreview()}};var T=function e(){if(g.unaltered_data){g.data=JSON.parse(JSON.stringify(g.unaltered_data));g.inits={}}g.ts_init_colons()};var w=function e(){TS.emoji.setEmojiMode();TS.emoji.makeMenuLists();var n=!!TS.model.ms_logged_in_once;var t=true;if(TS.client&&n)TS.client.ui.rebuildAll(t);if(TS.redux&&TS.interop&&TS.interop.redux)TS.redux.dispatch(TS.interop.redux.features.customEmoji.updateCustomEmoji())};var y=function e(n,t,r){if(!g)return;var a=TS.storage.fetchCustomEmoji();if(!a){TS.emoji.resetUpEmoji();return}if("undefined"===typeof t){delete TS.model.emoji_use[n];if(!a.data.hasOwnProperty(n))return;delete a.data[n];_.remove(TS.model.emoji_map,{name:n})}else a.data[n]=t;TS.model.emoji_cache_ts=r;TS.storage.storeCustomEmoji({data:a.data,cache_ts:TS.model.emoji_cache_ts});k(a.data)};var k=function e(n){T();TS.emoji.ingestCustoms(n);w()};var j=function e(){var n=TS.model.all_custom_emoji;if(TS.boot_data.feature_localization&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)n=E(n);return n};var x=function e(n){return!!a[n]};var O=function e(n){return TS.prefs&&TS.prefs.getPref(n)};var E=function e(n){return _.filter(n,function(e){return!x(e)})};var A=function e(){var n=TS.ui.frecency.getMostCommonWithPrefix(i,s);n=_.map(n,"id");if(!n.length)return[];var t=TS.emoji.getChosenSkinTone(!!TS.boot_data.feature_localization);var r=_.keyBy(TS.model.emoji_map,"id");var a=[];return _.chain(n).map(function(e){var n=r[e];if(!n)return null;var i=n.display_name;if(t&&n.is_skin)i=i+"::"+t;var o=p[i];if(!o)return null;if(TS.emoji.emojiHasAliases(o)){var s=o.names.split(" ");for(var l=0;l<s.length;l++){var c=TS.emoji.stripWrappingColons(s[l]);if(_.includes(a,c))return null}}a.push(i);return i}).compact().take(o).value()}})()},3622:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=t(3299);var a=t(3297);var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}return e};Object(r["a"])("interop.console",i({},a))},4730:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=t(4731);var a=t.n(r);var i=t(4732);var o=t.n(i);var s=t(4733);var l=t.n(s);var c=t(4734);var u=t.n(c);var f=t(4735);var _=t.n(f);var d=t(3389);var m=t.n(d);var g=t(4736);var p=t.n(g);var h=t(4737);var v=t.n(h);var S=t(3451);var b=t(3622);var T=t(3427);var w=t.n(T);var y=t(3453);var k=t.n(y);var j=t(3595);var x=t.n(j);var O=t(4738);var E=t.n(O);var A=t(4739);var C=t.n(A);var I=t(4740);var L=t.n(I)},4731:function(e,n){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var e=function e(n,t){var r=_.get(window,"TS.model.team.id")||_.get(window,"TS.boot_data.team_id","none");var a=_.get(window,"TS.model.user.id")||_.get(window,"TS.boot_data.user_id","none");var i={description:t,error_json:JSON.stringify(n),team:r,user:a,version:TS.boot_data.version_ts};$.post(TS.boot_data.beacon_error_url,i)};var n=function e(n,t,r){if(!window.console||!console[n])return;var a=TS.qs_args.clean_log;var o=null!==t;r=Array.prototype.slice.call(r);if(o){if(!TS.console.shouldLog(t))return;r.splice(0,1)}r=_.map(r,function(e){return i(e)});var s=true;var l=r.length;while(s&&l){l-=1;s="string"===typeof r[l]}if(a&&"error"!==n&&(t!==parseInt(TS.qs_args.pri,10)||!o))return;if(s){var c=TS.makeLogDate();if(o&&!a)c+="[** "+t+" **]";r.unshift(c);console[n](r.join(" "))}else console[n].apply(console,r)};if(!window.TS)window.TS={};TS.console={onStart:function e(){TS.console.setAppropriatePri(true);TS.console.watchForErrors()},count:function e(){n("count",null,arguments)},dir:function e(n,t,r){if(!window.console||!console.dir)return;if(n&&!TS.shouldLog(n))return;r=r||"";t=i(t);var a=parseInt(TS.qs_args.dir_json,10);if(a){var o=1==a?"2000":a;try{var s=JSON.stringify(t,null,"  ");if(s.length>o)throw new Error("too long");console.info(TS.makeLogDate()+"[** "+n+" **] "+r+" "+s);return}catch(e){if("too long"!==e){console.info(TS.makeLogDate()+"[** "+n+" **] "+r+" "+t);return}}}try{var l=_.cloneDeep(t);console.info(TS.makeLogDate()+"[** "+n+" **] "+r+" 👇");console.dir(l)}catch(e){TS.warn("could not dir ob:"+t+" err:"+e)}},error:function e(){n("error",null,arguments)},group:function e(){n("group",null,arguments)},groupCollapsed:function e(){n("groupCollapsed",null,arguments)},groupEnd:function e(){n("groupEnd",null,arguments)},maybeError:function e(t){n("error",t,arguments)},getStackTrace:function e(){var n="dev"===_.get(TS,"boot_data.version_ts")||_.get(TS,"qs_args.js_path");var t=(new Error).stack;if(n){var r=new Error;var a=Promise.resolve();if(_.isFunction(a._attachExtraTrace)){a._attachExtraTrace(r);t=r.stack||"";var i=t.split("\n");if(i.length&&i.indexOf("From previous event:")>=0){var o=i.indexOf("From previous event:")+1;t=[i[0]].concat(i.slice(o)).join("\n")}}}var s;if(!t)s=["no stacktrace available"];else s=t.split&&t.split("\n")||["[could not parse stack]",t];s=_.filter(s,function(e){if(0===e.indexOf("Error"))return false;return e.trim().length&&-1===e.indexOf("StackTrace")});s=_.map(s,function(e){return e.trim()});var l=s.join("\n");return l},info:function e(){n("info",null,arguments)},log:function e(t){n("log",t,arguments)},logError:function n(t,r,a,i){var o=t instanceof Error?t:new Error;var s={subtype:a||"none",message:t instanceof Error?t.message||t.description:JSON.stringify(t),fileName:o.fileName||o.sourceURL,lineNumber:o.lineNumber||o.line,stack:o.stack||o.backtrace||o.stacktrace};var l=JSON.stringify(s);e(s,r);if(!i&&window.console&&console.error)console.error(TS.makeLogDate()+"logging error: "+l)},logStackTrace:function e(n){var t=_.isUndefined(n)?"":n+"\n";TS.console.info(t+"Stacktrace: ↴\n",TS.console.getStackTrace())},logStackTraceToBackEnd:function n(t,r,a){if(!r||!t||_.isUndefined(a)){TS.console.warn("Invalid parameters, will not log stack trace");return}var i=TS.console.getStackTrace();var o=_.get(i.split("\n"),"[1]");TS.metrics.count(r+"_v"+a);var s={message:t+". Immediate caller: "+o,stack:i};var l=o.match(/\((.+):(\d+:\d+)\)/);if(l&&3==l.length){s.fileName=l[1];s.lineNumber=l[2]}var c=r+"_caller_v"+a;e(s,c)},profile:function e(){n("profile",null,arguments)},profileEnd:function e(){n("profileEnd",null,arguments)},replaceConsoleFunction:function e(t){var r=n;n=t;return r},setAppropriatePri:function e(n){var t="";if(TS.qs_args.pri)t+=TS.qs_args.pri;if(n&&TS.boot_data.client_logs_pri){if(""!==t)t+=",";t+=TS.boot_data.client_logs_pri}if(TS.model&&TS.prefs&&TS.prefs.prefs_loaded&&TS.prefs.getPref("client_logs_pri")){if(""!==t)t+=",";t+=TS.prefs.getPref("client_logs_pri")}if(""!==t)t+=",";t+="0";TS.pri=_.uniq(t.split(",")).join(",");r()},shouldLog:function e(n){var t=String(TS.pri).split(",");if(-1!==t.indexOf("all")||-1!==t.indexOf("*"))return true;if(-1!==t.indexOf(String(n)))return true;return"undefined"!==typeof TS.has_pri[n]},table:function e(){n("table",null,arguments)},time:function e(){n("time",null,arguments)},timeEnd:function e(){n("timeEnd",null,arguments)},timeStamp:function e(){n("timeStamp",null,arguments)},warn:function e(){n("warn",null,arguments)},maybeWarn:function e(t){n("warn",t,arguments)},watchForErrors:function e(){if(!TS.boot_data||!TS.boot_data.feature_tinyspeck)return;var n=true;window.addEventListener("error",s,n)},trace:function e(){n("trace",null,arguments)},maybeTrace:function e(t){n("trace",t,arguments)},test:function e(){return{_maybeRedactFields:i,_windowErrorHandler:s}}};var r=function e(){var n=String(TS.pri).split(",");TS.has_pri=_(Object.keys(TS.boot_data.client_logs||{})).filter(function(e){var t=TS.boot_data.client_logs[e];return n.some(function(e){if("*"===e)return true;if(t.numbers.indexOf(parseInt(e,10))>-1)return true;if(t.name&&t.name.indexOf(e)>-1)return true;if(t.owner&&t.owner.indexOf(e)>-1)return true;return false})}).map(function(e){if(parseInt(e,10)>=0)return parseInt(e,10);return e}).keyBy(function(e){return e}).value()};var a={name:1,_name_lc:1,real_name:1,_real_name_lc:1,real_name_normalized:1,_real_name_normalized_lc:1,display_name:1,_display_name_lc:1,display_name_normalized:1,_display_name_normalized_lc:1,first_name:1,_first_name_lc:1,last_name:1,_last_name_lc:1,preferred_name:1,full_name:1,email:1,skype:1,status_text:1,title:1,src:1,text:1,msgs:1};var i=function e(n,t){if(!TS.boot_data||TS.boot_data.feature_tinyspeck||"dev"===TS.boot_data.version_ts)return n;if(!n||!_.isObject(n))return n;if(t)t+=1;else t=1;if(t>=10)return n;var r;if(_.isArray(n))r=[];else r={};_.each(n,function(n,i){if(a[i])r[i]="[redacted "+o(n)+"]";else r[i]=e(n,t)});return r};var o=function(e){var n={};return function(r){var a="undefined"===typeof r?"undefined":t(r);if(null===r)return"null";if(r===e)return"global";if("object"!==a)return a;if(r.nodeType)return"DOM node";var i=n[a={}.toString.call(r)]||(n[a]=a.slice(8,-1).toLowerCase());return i}}(this);var s=function e(){var n=arguments&&arguments[0];var t;var r="";var a;var i=true;if(!n)return;r="";t=n.srcElement||n.target;if(t&&t.nodeName)if("SCRIPT"===t.nodeName)r=(n.type||"error")+" from script at "+t.src+" (failed to load?)";else if("IMG"===t.nodeName){if(TS.pri&&TS.console&&TS.console.warn)TS.console.warn("<img> fired error with url = "+(t.src||t.currentSrc||"unkonwn"));return}if(n.error&&n.error.stack)r+=n.error.stack;else if(n.filename)r=" from "+n.filename+(n.lineno?" @ line "+n.lineno+", col "+n.colno:"");a=(!n.error||!n.error.stack?n.message||"":"")+" "+r;if(a&&a.replace)a=a.replace(/\s+/g," ").trim();if(!a||!a.length){if(t)a="error event from node of "+(t.nodeName||"unknown")+", no message provided?";else a="error event fired, no relevant message or node found";i=false}a="🐞 "+a;(window.TS&&TS.console&&TS.console.error||window.console.error||function(){})(a);if(window.TS&&TS.console&&i){var o=null;var s=false;TS.console.logError(n.error||n,a,o,s)}t=null;a=null}})()},4732:function(e,n){(function(){var e=window.TS&&TS.raw_templates;var n=window.TS&&TS.console;var t=0;var r;var a;var i=false;var o=7e4;window.TS={boot_data:{},qs_args:{},pri:0,has_pri:{},console:n,ms:{},exportToLegacy:function e(n,t){if(_.has(TS,n))throw new Error("exportToLegacy: there is already something at "+n+"; we cannot overwrite it");if(!n||0!==n.indexOf("interop"))throw new Error("exportToLegacy: Name "+n+' must start with "interop".');if(t.onStart)throw new Error("exportToLegacy: may not export objects with onStart methods");if(k)_.set(TS,n,t);else TS.registerModule(n,t)},boot:function e(n){C(n);I();a=new Promise(function(e){r=e});TS.boot_data=n;if(TS.qs_args.js_path)TS.boot_data.version_ts="local_js";TS.console.onStart();if(TS.client)TS.client.setClientLoadWatchdogTimer();TS.model.api_url=TS.boot_data.api_url;TS.model.async_api_url=TS.boot_data.async_api_url;TS.model.api_token=TS.boot_data.api_token;if(TS.boot_data.feature_sonic)localStorage.setItem("token",TS.boot_data.api_token);TS.model.webhook_url=TS.boot_data.webhook_url;if(TS.boot_data.page_needs_enterprise)TS.model.enterprise_api_token=TS.boot_data.enterprise_api_token;TS.interop.console.info("BOOT","booted! pri:"+TS.pri+" version:"+TS.boot_data.version_ts+" start_ms:"+TS.boot_data.start_ms+" ("+(Date.now()-TS.boot_data.start_ms)+"ms ago)");if(TS.web&&TS.web.space)TS.web.space.showFastPreview();if(TS.incremental_boot.shouldIncrementalBoot()){TS.interop.console.info("BOOT","Starting incremental boot (early)");w=TS.incremental_boot.startIncrementalBoot()}$(document).ready(P)},useReactDownloads:function e(){return window.TS&&TS.environment.isSSBAndAtLeastVersion("2.7")},useReactMessages:function e(){return TS.client&&TS.boot_data.use_react_messages},useReduxMembers:function e(){return TS.boot_data.feature_store_members_in_redux||TS.useReactMessages()},useReduxFiles:function e(){return TS.boot_data.feature_store_files_in_redux||TS.useReactMessages()},useReactLFS:function e(){return TS.boot_data.feature_react_lfs},useSocket:function e(){return N()},isWebPage:function e(){return!!TS.web},getSocketStartArgs:function e(){return c()},registerModule:function e(n,t,r){R(t);if(k)return TS.error('module "'+n+'" must be registered on before dom ready');if(L[n])return TS.error('module "'+n+'" already exists');var a=s(n,t,"module");if(void 0===a){if(r)TS.error('module "'+n+'" cannot be registered after delay; "'+n.split(".").slice(0,-1).join(".")+'" is not registered');else B[n]=t;return}t._name=n;L[n]=t},registerComponent:function e(n,r){if(k)return TS.error('component "'+n+'" must be registered on before dom ready');if(M[n])return TS.error('component "'+n+'" already exists');if("function"===typeof r)r=r();if("function"!==typeof r.destroy)return TS.error('component "'+n+'" cannot be registered as it does not have a destroy method');var a=function e(){if(this._constructor)this._constructor.apply(this,arguments);if(!this.id){this.id=n+"_auto_guid_"+t;t+=1}if(this.test&&l())this.test=void 0;else if("function"===typeof this.test)this.test=this.test();e._add(this.id,this)};var i=s(n,a,"component");if(void 0===i){z[n]=r;return}var o=r.destroy;r.destroy=function(){a._remove(this.id);o.call(this)};a.prototype=Object.create(r);a.instances={};a._name=n;M[n]=a;a._add=function(e,t){if(M[n].instances[e])TS.warn("A "+n+" component with the instance id "+e+"already exists");M[n].instances[e]=t};a._remove=function(e){M[n].instances[e]=null};a.get=function(e){return M[n].instances[e]};a.getAll=function(){return M[n].instances}},makeLogDate:function e(){if(window.TSMakeLogDate)return TSMakeLogDate();return"(TSMakeLogDate not loaded) "},shouldLog:function e(n){return TS.console.shouldLog(n)},replaceConsoleFunction:function e(n){return TS.console.replaceConsoleFunction(n)},log:function e(n){if(TS.boot_data&&TS.boot_data.feature_tinyspeck&&TS.interop&&TS.interop.console){if(TS.shouldLog(n)){var t=Y(n,"log");var r=Z(n,arguments);TS.interop.console.info(t,[].slice.call(r,0))}}else TS.console.log.apply(this,[].slice.call(arguments,0))},info:function e(){if(TS.boot_data&&TS.boot_data.feature_tinyspeck&&TS.interop&&TS.interop.console)TS.interop.console.info("info",[].slice.call(arguments,0));else TS.console.info.apply(this,[].slice.call(arguments,0))},maybeWarn:function e(n){TS.console.maybeWarn.apply(this,[].slice.call(arguments,0))},warn:function e(){if(TS.boot_data&&TS.boot_data.feature_tinyspeck&&TS.interop&&TS.interop.console)TS.interop.console.warn([].slice.call(arguments,0));else TS.console.warn.apply(this,[].slice.call(arguments,0))},dir:function e(n,t,r){TS.console.dir.apply(this,[].slice.call(arguments,0))},maybeError:function e(n){TS.console.maybeError.apply(this,[].slice.call(arguments,0))},error:function e(){if(TS.boot_data&&TS.boot_data.feature_tinyspeck&&TS.interop&&TS.interop.console)TS.interop.console.error([].slice.call(arguments,0));else TS.console.error.apply(this,[].slice.call(arguments,0))},logError:function e(n,t,r,a){TS.console.logError.apply(this,[].slice.call(arguments,0))},getQsArgsForUrl:function e(n){if(!n&&j)return j;j="";for(var t in TS.qs_args){if("export_test"===t)continue;j+="&"+t+"="+encodeURIComponent(TS.qs_args[t])}return j},getOtherAccountsCount:function e(){var n=0;if(!TS.boot_data.other_accounts)return n;n=Object.keys(TS.boot_data.other_accounts).length;return n},refreshTeams:function e(){if(!TS.boot_data)return;if(!TS.model)return;if(!TS.model.team)return;if(!TS.model.user)return;TS.api.call("auth.currentSessions").then(function(e){var n=e.data;TS.boot_data.other_accounts={};var t=0;for(var r in n.accounts){if(r==TS.model.user.id)continue;TS.boot_data.other_accounts[r]=n.accounts[r];t+=1}if(TS.view&&!t)TS.view.updateTitleBarColor()}).catch(function(e){if(TS.console&&TS.console.warn&&TS.console.error){TS.warn(8675309,"unable to do anything with refreshTeams rsp");TS.error(8675309,e)}})},ssbChromeClicked:function e(n){if(n)return;$("html").trigger("touchstart");$(".modal-backdrop").trigger("click")},reload:function e(n,t,r){if(n){TS.info("TS.reload called: "+n);TS.generic_dialog.start({title:TS.i18n.t("Reloading!","ts")(),body:n,show_cancel_button:false,esc_for_ok:true,onGo:function e(){TS.reload()}});return}if(t)t=JSON.stringify(t);TS.info("TS.reload() called: "+(t||"no reason specified"));if(TS.console)TS.console.logStackTrace();window.location.reload(r)},reloadIfVersionsChanged:function e(n){if(TS.model.ms_logged_in_once&&n.min_version_ts&&"dev"!==TS.boot_data.version_ts)if(parseInt(TS.boot_data.version_ts,10)<parseInt(n.min_version_ts,10)){TS.reload(null,"parseInt(TS.boot_data.version_ts) < parseInt(data.min_version_ts)");return true}if(TS.model.ms_logged_in_once&&n.cache_version)if(n.cache_version!=TS.storage.msgs_version){TS.reload(null,"data.cache_version "+n.cache_version+" != TS.storage.msgs_version "+TS.storage.msgs_version);return true}return false},isPartiallyBooted:function e(){return!!(TS._incremental_boot||TS._did_incremental_boot&&!TS._did_full_boot)},ensureFullyBooted:function e(){return a},test:function e(){var e={_registerDelayedComponentsAndModules:W,_deleteModule:function e(n){delete TS[n];delete L[n]},_deleteComponent:function e(n){delete TS[n];delete M[n]}};Object.defineProperty(e,"_getMSLoginArgs",{get:function e(){return c},set:function e(n){c=n}});Object.defineProperty(e,"_shouldConnectToMS",{get:function e(){return N},set:function e(n){N=n}});Object.defineProperty(e,"_maybeStartPerfTrace",{get:function e(){return V},set:function e(n){V=n}});return e}};var s=function e(n,t,r){var a=n;var i=TS;var o=a.split(".");var s=o.length-1;if(s>=3)TS.error(r+' "'+a+'" cannot be registered, as we only support a depth of two sub modules right now');else if(s){a=o[s];var l=0;for(l;l<s;l+=1){if(!o[l])TS.error(r+' "'+n+'" cannot be registered because of a bad name');i=i[o[l]];if(void 0===i)return i}}if(void 0!==i[a])TS.error(r+' "'+n+'" cannot be registered; "'+a+'" already exists on "'+(i._name||"TS")+'"');else i[a]=t;return i};if(e){TS.raw_templates=e;e=null}var l=function e(){return!("undefined"!==typeof window.jasmine||"dev"===TS.boot_data.version_ts&&TS.qs_args.export_test)};var c=function e(){var n={agent:"webapp_"+TS.boot_data.version_uid,eac_cache_ts:true,cache_ts:0};Object.keys(TS.qs_args).filter(function(e){return 0===e.indexOf("feature_")}).forEach(function(e){if(TS.has_pri[G])TS.log(G,"Flannel: Appending "+e+" ("+TS.qs_args[e]+") to login_args");n[e]=TS.qs_args[e]});if("client"!==TS.boot_data.app)n.no_presence=true;if("calls"===TS.boot_data.app)n.no_subteams=true;n.name_tagging=true;if(TS.boot_data.feature_ms_latest)n.ms_latest=true;if(TS.has_pri[G])TS.log(G,"Flannel: MS login args:",n);return n};var u=function e(){var n=d();y=n;if(!w){TS.info("Starting non-incremental boot");return f(n)}var t=w;w=void 0;return t.then(function(e){e.data.emoji_cache_ts=_.get(TS.storage.fetchCustomEmoji(),"cache_ts");e.data.apps_cache_ts=_.get(TS.storage.fetchApps(),"cache_ts");e.data.commands_cache_ts=_.get(TS.storage.fetchCmds(),"cache_ts");e.data.translations_cache_ts=_.get(TS.storage.fetchStaticTranslations(),"cache_ts");return e}).catch(function(){TS.info("Recovering from incremental boot error");y=void 0;return f(n)})};var f=function e(n){return n.catch(function(e){g(e);throw e})};var d=function e(){if(TS.qs_args.no_rtm_start)return new Promise(function(n,t){TS.resumeRTMStart=function(){delete TS.resumeRTMStart;delete TS.qs_args.no_rtm_start;e().then(function(e){n(e)}).catch(t)}});if(TS.boot_data.rtm_start_response&&!TS.qs_args.no_rtm_start_response){var n=Promise.resolve({ok:true,args:TS.boot_data.rtm_start_response.args,data:TS.boot_data.rtm_start_response.data});delete TS.boot_data.rtm_start_response;return n}return O().then(function(e){if(TS.has_pri[G])TS.log(G,"Flannel: got rtm.start response 💕");return{ok:true,args:{},data:e}})};var m=function e(n){switch(n){case"user_removed_from_team":TS.warn("You have been removed from the "+TS.model.team.name+" team.");if(TS.client)TS.client.userRemovedFromTeam(TS.model.team.id);break;case"account_inactive":case"team_disabled":case"invalid_auth":TSSSB.call("invalidateAuth");TS.reload(null,"Reloading due to error "+n);break;case"clear_cache":case"org_login_required":case"team_added_to_org":var t=true;TS.storage.flush(t);TS.reload(null,"Flushing storage and reloading due to '"+n+"' error");break;case"ratelimited":Q();break;default:TS.warn("Unexpected start error: "+n)}};var g=function e(n){var t=n.data&&n.data.error;if(t)m()};var p=function e(n){if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Got rtm.start login data");TS.model.emoji_cache_ts=n.data.emoji_cache_ts;TS.model.apps_cache_ts=n.data.apps_cache_ts;TS.model.commands_cache_ts=n.data.commands_cache_ts;TS.model.static_translations_cache_ts=n.data.translations_cache_ts;if(TS.client)if(TS.reloadIfVersionsChanged(n.data))return;if(!n.data.self){TS.error("No self?");return}if(!n.data.team){TS.error("No team?");return}if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Setting up model");return q(n.data,n.args).then(function(){if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Model did set up; setting up apps");TS.apps.setUp();if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Setting up commands");TS.cmd_handlers.setUpCmds();if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Setting up static translations");TS.i18n.setUpStaticTranslations();if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Setting up UI");h();if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Finding initial channel");if(TS.client)TS.client.calculateInitialCid();if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Setting up emoji and shared channels");return Promise.join(TS.emoji.setUpEmoji().catch(function(){if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Setting up emoji failed, trying to move forward anyway...")}),TS.members?TS.members.maybeFetchAccessibleUserIds():Promise.resolve())}).then(function(){if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Nearly there! Finalizing...");if(!TS.model.ms_logged_in_once)v(n.data);if(TS.client)TS.client.onEveryLoginMS(n.data);if(TS.web)TS.web.onEveryLoginMS(n.data);b();var e;if(TS._did_incremental_boot)e=TS.model.ms_logged_in_once;else e=!TS.model.ms_logged_in_once;if(e&&r){if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Divine clementine, we are finalizing a full boot!");r();r=null;TSSSB.call("didFinishLoading");i=true;if(F)TS.interop.console.info("BOOT","Finished first boot "+Math.ceil(performance.now()-F)+" ms after DOM ready")}TS.model.ms_logged_in_once=true;if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","Holy guacamole, we’re all done!");TS.log(123,"User id: "+_.get(TS.boot_data,"user_id")+", team id: "+_.get(TS.model,"team.id"))}).catch(function(e){TS.error("_setUpModel failed with err: "+(e?e.message:"no err provided"));TS.dir(e);TS.info(e.stack);TS._last_boot_error=e})};var h=function e(){TS.ui.setThemeClasses();if(TS.client){TSSSB.call("setCurrentTeam",TS.model.team.domain);TS.client.updateTeamIcon()}};var v=function e(n){if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","_finalizeFirstBoot");if(TS.model.ms_logged_in_once){TS.warn("_finalizeFirstBoot called, but we have already done this before. This is a progamming error.");return}if(TS.client){TS.client.onFirstLoginMS(n);if(TS.isPartiallyBooted()){S(y);y=void 0}else TS.incremental_boot.afterFullBoot();TS.has_pri["1996"]=true}if(TS.web)TS.web.onFirstLoginMS(n)};var S=function e(n){TS.interop.console.info("BOOT","Finalizing incremental boot");TS.incremental_boot.beforeFullBoot();f(n).then(function(e){p(e);TS.incremental_boot.afterFullBoot();TS.interop.console.info("BOOT","Completed incremental boot")}).catch(function(e){TS.error("Tried to finalize incremental boot, but rtm.start failed. Will recover when we reconnect.");throw e})};var b=function e(){if(TS.isPartiallyBooted()){if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS not connecting to MS until we complete incremental boot");return}if(!N()){if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS will not connect to MS");return}if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS wants to connect to MS");if(TS.redux.socket.isProvisionallyConnected()){TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS will finalize SocketManager");try{TS.interop.SocketManager.finalizeProvisionalConnection();TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS did finalize SocketManager")}catch(e){TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS failed to finalize SocketManager");var n=true;TS.console.logError(e,"sm_finalize_failed_2",void 0,n);TS.interop.SocketManager.disconnect()}}else{TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS wanted to finalize SocketManager but it had no provisional connection");if(TS.redux.socket.hasNeverConnected()){if("calls"===TS.boot_data.app)TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS: opening our SocketManager connection now");else TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS: we have never had a connection. This should not happen!");O().then(function(e){p({ok:true,args:{},data:e})})}else{TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS: we had a connection but it is gone for some reason; wait for it to come back");TS.redux.socket.provisionallyConnectedSig.addOnce(e)}}if(TS.boot_data.feature_tinyspeck)TS.interop.console.info("BOOT","_maybeFinalizeOrOpenConnectionToMS did connect to MS")};var T=function e(){TS.shared.getAllModelObsForUser().forEach(function(e){if(e._consistency_has_been_checked)e._consistency_has_been_checked=false;if(e._consistency_is_being_checked)e._consistency_is_being_checked=false})};var w;var y;TS.qs_args=function(){var e=location.search.substring(1);var n={};var t;t=e.split("&");for(var r=0;r<t.length;r+=1){var a=t[r].indexOf("=");if(-1!=a){var i=t[r].substring(0,a);var o=t[r].substring(a+1);n[i]=unescape(o)}else if(t[r].length)n[t[r]]=""}return n}();TS.pri=TS.qs_args.pri?TS.qs_args.pri+",0":TS.pri;_.each(TS.pri&&TS.pri.split(","),function(e){if(e)TS.has_pri[e]=true});var k=false;var j;var x=function e(){TS.redux.socket.disconnectedSig.add(T);TS.redux.socket.connectedSig.addOnce(function(){TS.redux.socket.provisionallyConnectedSig.add(function(e){e.then(function(e){TS.info("Got start data from Socket Manager; hydrating it");TS.interop.boot.data.hydrateStartData(e,TS.boot_data.file).then(function(e){TS.info("Successfully hydrated start data from Socket Manager; processing it");p({ok:true,args:{},data:e})})})})})};var O=function e(){if(!TS.redux.socket.hasNeverConnected()){var n=new Error("_connectAndFetchStartDataWithSocketManager can only be called if Socket Manager has never connected");TS.console.logError(n,"_connectAndFetchStartDataWithSocketManager called too many times");return Promise.reject(n)}TS.redux.socket.socketErrorMessageReceivedSig.add(m);var t=new Promise(function(e){function n(t){t.then(function(t){TS.interop.boot.data.hydrateStartData(t,TS.boot_data.file).then(function(t){TS.redux.socket.provisionallyConnectedSig.remove(n);e(t)})}).catch(function(e){TS.warn("Unable to get start data from socket");TS.logError(e)})}TS.redux.socket.provisionallyConnectedSig.add(n)});TS.has_pri["1996"]=true;TS.interop.setTeamIdForToken(TS.boot_data.api_token,TS.boot_data.team_id);TS.interop.SocketManager.start();return t};var E=function e(n){if(TS.client)TSSSB.call("didStartLoading",6e4);if(N())x();D();k=true;if(TS.model.is_our_app)J();TS.ui.setUpWindowUnloadHandlers();if("client"===TS.boot_data.app)TS.client.gogogo();else if("web"===TS.boot_data.app||"space"===TS.boot_data.app||"calls"===TS.boot_data.app)TS.web.gogogo();if(TS.boot_data.no_login){TS.info("running without a user");if(TS.web)TS.web.no_login_complete_sig.dispatch()}else if(n)p(n);else TS.error("_initialDataFetchesComplete expected to receive rtm.start data; we cannot continue.")};var A=function e(){if(!window.sessionStorage)return;try{var n=TS.client?"session_load_count_client":"session_load_count_web";var t=parseInt(sessionStorage.getItem(n)||0,10)+1;sessionStorage.setItem(n,t);TS.log(123,n+": "+t);TS.metrics.store(n,t,{is_count:true})}catch(e){TS.warn("could not log session load count: "+e)}};var C=function e(n){Promise.config({longStackTraces:"dev"===n.version_ts||TS.qs_args.js_path,warnings:{wForgottenReturn:false},cancellation:true})};var I=function e(){window.devtoolsFormatters=window.devtoolsFormatters||[];window.devtoolsFormatters.push({header:function e(n){if(!n||!n._is_interop_channel_object||!window._)return null;var t=_.omitBy(_.assign({},n),_.isNil);return["object",{object:t}]},hasBody:function e(){return false}})};var L={};var B={};var M={};var z={};var F;var P=function e(){F=performance.now();TS.log(123,"_onDOMReady");setTimeout(function(){if(!TS.model.is_our_app)return;if(TS.environment.isSSBAndAtLeastVersion("2.6"))return;if(!i){TSSSB.call("didFinishLoading");i=true;TS.metrics.count("fake_call_did_finish_loading_for_older_SSBs")}},o);A();if(TS.qs_args.ws_flakiness)try{var n=parseFloat(TS.qs_args.ws_flakiness);TS.interop.SocketManager.debugSetSocketConnectFlakiness(n)}catch(e){}if(window.winssb&&winssb.downloads){TS.model.supports_downloads=true;TS.model.flex_names.push("downloads")}if(TS.client)TSSSB.call("didStartLoading",3e4);else TS.info("no TS.client on page:"+document.location.href);TS.api.paused_sig.add(function(e){if(TS.boot_data.feature_tinyspeck)TS.api.debugShowQueue();if(TS.client)TS.client.apiPaused(e);else TS.web.apiPaused(e)});TS.api.unpaused_sig.add(function(){if(TS.client)TS.client.apiUnpaused();else TS.web.apiUnpaused()});soundManager.ignoreFlash=true;soundManager.setup({url:"/img/sm/",debugMode:false});TS.storage.onStart();W();TS.redux.onStart();TS.redux.members.onStart();TS.redux.onStart=_.noop;TS.redux.members.onStart=_.noop;if(TS.interop&&TS.interop.console&&TS.interop.console.setRedactionEnabled){var t=!TS.boot_data.feature_tinyspeck;TS.interop.console.setRedactionEnabled(t)}var r=TS.boot_data.no_login?Promise.resolve():u();var a=[U(),r];if(TS.boot_data.page_needs_enterprise&&!TS.boot_data.no_login)a.push(TS.redux.enterprise.getEnterpriseOrgInfo());Promise.all(a).then(function(){r.then(E);return null})};var U=function e(){if(window.TS&&TS.raw_templates&&Object.keys(TS.raw_templates).length>0)return Promise.resolve();var n;if(TS.boot_data.hbs_templates_version&&"dev"!==TS.boot_data.version_ts)n=TS.boot_data.hbs_templates_version;else if("dev"===TS.boot_data.version_ts)n=Date.now();else n=TS.boot_data.version_ts;var t="/templates.php?cb="+n+TS.getQsArgsForUrl();if(TS.boot_data.template_groups)t+="&template_groups="+TS.boot_data.template_groups;if(TS.boot_data.template_exclude_feature_flagged)t+="&template_exclude_feature_flagged=1";if(/&locale=[a-zA-Z-]/.test(t)){t=t.replace(/\?locale=[a-zA-Z-]*&/,"?").replace(/[?|&]locale=[a-zA-Z-]*/,"");t=t.replace(/&locale=[a-zA-Z-]/,"")}if(TS.i18n.locale()&&TS.i18n.locale()!==TS.interop.I18n.DEFAULT_LOCALE)t+="&locale="+TS.i18n.locale();var r=0;function a(){r+=1;return new Promise(function(e){if(window.TS&&TS.raw_templates&&Object.keys(TS.raw_templates).length>0){e();return}TS.utility.getCachedScript(t).done(function(){if(0==Object.keys(TS.raw_templates).length){TS.error(t+" returned no templates D:");return}e()}).fail(function(e,n,i){var o=Math.min(1e3*r,1e4);TS.warn("loading "+t+" failed (textStatus:"+n+" errorThrown:"+i+" attempts:"+r+"), trying again in "+o+"ms");setTimeout(a,o)})})}return a()};var W=function e(){_.sortBy(Object.keys(B),"length").forEach(function(e){TS.registerModule(e,B[e],true)});_.sortBy(Object.keys(z),"length").forEach(function(e){TS.registerComponent(e,z[e],true)})};var D=function e(){TS.log(Date.now()-TS.boot_data.start_ms+"ms from first html to calling onStarts()");if("client"===TS.boot_data.app){TS.client.onStart();TS.client.onStart=_.noop}else if("web"===TS.boot_data.app||"space"===TS.boot_data.app||"calls"===TS.boot_data.app){TS.web.onStart();TS.web.onStart=_.noop}else if("test"===TS.boot_data.app)return;else if("api"===TS.boot_data.app||"oauth"===TS.boot_data.app);else{TS.error("WTF app? "+TS.boot_data.app);return}var n;var t=!TS.qs_args.keep_onstart;try{_.forOwn(L,function(e){if(!e.onStart)return;n=e._name;e.onStart();if(t)e.onStart=_.noop})}catch(e){TS.error("TS."+n+".onStart encountered an error:");TS.logError(e);if(window.TSBeacon)window.TSBeacon("call_onstarts_error",1);throw e}if(t)D=_.noop};var q=function e(n,t){return new Promise(function(e,r){var a=!TS.model.ms_logged_in_once;TS.team.upsertTeam(n.team);TS.model.team.url=n.url;if(TS.boot_data.page_needs_enterprise&&void 0!==n.can_manage_shared_channels)TS.prefs.setTeamPrefLocal("can_user_manage_shared_channels",n.can_manage_shared_channels);if(!TS.model.last_team_name){TS.model.last_team_name=TS.model.team.name;TS.model.last_team_domain=TS.model.team.domain}TS.model.team.activity=[];if(a){if(!TS.useReduxMembers()){TS.model.members=[];TS.model.bots=[];TS.model.user_groups=[]}TS.model.read_only_channels=[];if(TS.boot_data.feature_default_shared_channels){TS.model.thread_only_channels=[];TS.model.non_threadable_channels=[]}}else{var i=TS._did_incremental_boot&&!TS._did_full_boot;if(!i)TS.refreshTeams()}TS.prefs.setPrefs(n.self.prefs);delete n.self.prefs;var o;var s;var l;var c=function e(n){TS.model.user=_.assign(n,{is_self:true})};var u=["args.cache_ts:"+t.cache_ts];var f=_.clone(t);if(f.token)f.token="REDACTED";try{u.push("api args: "+JSON.stringify(f))}catch(e){u.push("api args: "+f)}TS.members.startBatchUpsert();TS.bots.startBatchUpsert();var d=n.updated_users||n.users||[];var m=n.updated_bots||n.bots||[];var g={};if(TS._did_incremental_boot&&!TS._incremental_boot&&!TS._did_full_boot);else for(o=0;o<d.length;o+=1)g[d[o].id]=true;var p=TS.boot_data.page_needs_enterprise&&TS.boot_data.exclude_org_members;for(o=0;o<d.length;o+=1){l=d[o];if(p&&!TS.members.isLocalTeamMember(l))continue;l.presence=_.has(l,"presence")&&"active"===l.presence?"active":"away";if(_.get(l,"profile.always_active"))l.presence="active";s=TS.members.upsertAndSignal(l);if(TS.has_pri[K])TS.log(K,"upsert from DATA: "+l.id+" "+s.status);if(s.member.id==n.self.id)c(s.member)}var h={};for(o=0;o<m.length;o+=1)h[m[o].id]=true;for(o=0;o<m.length;o+=1)TS.bots.upsertAndSignal(m[o]);u.push("members from updated_users in rtm.start:"+d.length+" (slackbot will always be here)");u.push("bots from updated_bots in rtm.start:"+m.length);if(d.length<TS.model.members.length/20)TS.model.did_we_load_with_user_cache=true;var v;if(TS.qs_args.debug_slackbot)v=true;if(v)TS.info("debug_slackbot: _setUpModel(): data_user_list, data_bot_list",d,m);h=null;g=null;TS.log(123,u.join("\n"));if(!TS.model.user){TS.error("No TS.model.user - Expected user with id: "+_.get(n,"self.id","#"));TS.log(u.join("\n"));r(Error("No TS.model.user"));return}TS.members.finishBatchUpsert();TS.bots.finishBatchUpsert();TS.members.upsertMember(n.self);TS.model.makeYouRegex();TS.prefs.setHighlightWords(TS.prefs.getPref("highlight_words"));if(n.subteams){TS.user_groups.startBatchUpsert();n.subteams.all.forEach(function(e){TS.user_groups.upsertUserGroup(e)});TS.user_groups.finishBatchUpsert();n.subteams.self.forEach(function(e){TS.user_groups.upsertSelfUserGroup(e)})}var S=0;n.channels.forEach(function(e){if(e.is_member)S+=1});if(v)TS.info("debug_slackbot: _setUpModel(): data.ims",n.ims);n.ims.forEach(function(e){if(e.is_open)S+=1});n.groups.forEach(function(e){if(!e.is_archived)S+=1});if(n.mpims)n.mpims.forEach(function(e){if(e.is_open&&!e.is_archived)S+=1});if(n.read_only_channels)TS.model.read_only_channels=n.read_only_channels;if(TS.boot_data.feature_default_shared_channels&&n.non_threadable_channels)TS.model.non_threadable_channels=n.non_threadable_channels;if(TS.boot_data.feature_default_shared_channels&&n.thread_only_channels)TS.model.thread_only_channels=n.thread_only_channels;TS.model.initial_msgs_cnt=42;if(TS.qs_args.api_count){var b=parseInt(TS.qs_args.api_count,10)||TS.model.initial_msgs_cnt;TS.model.initial_msgs_cnt=Math.min(TS.model.initial_msgs_cnt,b)}var T=TS.model.hard_msg_limit;TS.model.subsequent_msgs_cnt=Math.min(T,2*TS.model.initial_msgs_cnt);TS.model.special_initial_msgs_cnt=Math.min(T,2*TS.model.initial_msgs_cnt);TS.log(123,"open channels/groups/ims:"+S+" initial_msgs_cnt:"+TS.model.initial_msgs_cnt+" subsequent_msgs_cnt:"+TS.model.subsequent_msgs_cnt+" special_initial_msgs_cnt:"+TS.model.special_initial_msgs_cnt);var w=function e(){var t=1==TS.qs_args.just_general;TS.utility.msgs.startBatchUnreadCalc();TS.metrics.mark("upsert_channels_start");var r=true;var a=_.map(n.channels,function(e){if(t&&!e.is_general)return;var a=false;var i=false;var o=false;if(n.read_only_channels)a=n.read_only_channels.indexOf(e.id)>-1;if(TS.boot_data.feature_default_shared_channels&&n.thread_only_channels)i=n.thread_only_channels.indexOf(e.id)>-1;if(TS.boot_data.feature_default_shared_channels&&n.non_threadable_channels)o=n.non_threadable_channels.indexOf(e.id)>-1;e=_.assign(e,{is_read_only:a,is_thread_only:i,is_non_threadable:o});return TS.channels.upsertChannel(e,r)});TS.metrics.measureAndClear("upsert_channels","upsert_channels_start");var i=TS.boot_data.page_needs_enterprise&&TS.boot_data.exclude_org_members;if(v)TS.info("debug_slackbot: completeModelObSetup(): skip_ims_mpims = "+i+", data.ims",n.ims);if(!i)var o=_.map(n.ims,function(e){if(t&&"USLACKBOT"!==e.user)return;return TS.ims.upsertIm(e,r)});TS.metrics.mark("upsert_groups_start");if(!TS.isPartiallyBooted()){var s=_.map(TS.model.groups,"id");var l=_.map(n.groups,"id");var c=false;_.difference(s,l).forEach(function(e){var n=TS.groups.getGroupById(e);TS.groups.removeGroup(n);TS.groups.left_sig.dispatch(n);c=true});if(c)TS.members.invalidateMembersUserCanSeeArrayCaches()}var u=_.map(n.groups,function(e){if(t)return;var a=false;var i=false;var o=false;if(n.read_only_channels)a=n.read_only_channels.indexOf(e.id)>-1;if(TS.boot_data.feature_default_shared_channels&&n.thread_only_channels)i=n.thread_only_channels.indexOf(e.id)>-1;if(TS.boot_data.feature_default_shared_channels&&n.non_threadable_channels)o=n.non_threadable_channels.indexOf(e.id)>-1;e=_.assign(e,{is_read_only:a,is_thread_only:i,is_non_threadable:o});return TS.groups.upsertGroup(e,r)});TS.metrics.measureAndClear("upsert_groups","upsert_groups_start");if(n.mpims)if(!i)var f=_.map(n.mpims,function(e){if(t)return;return TS.mpims.upsertMpim(e,r)});var d=_.compact(a.concat(o).concat(u).concat(f));TS.redux.channels.bulkAddEntities(d);if(TS.interop&&TS.interop.ChannelSidebar)TS.interop.ChannelSidebar.ensureRowInView();TS.utility.msgs.finishBatchUnreadCalc();if(TS.model.user.is_restricted&&!TS._incremental_boot&&TS._did_incremental_boot)TS.members.invalidateMembersUserCanSeeArrayCaches();if(v){var m=TS.ims.getImByMemberId("USLACKBOT");var g=TS.members.getMemberById("USLACKBOT");TS.info("debug_slackbot: "+(TS._incremental_boot?"incremental boot":"non-incremental boot")+"\nTS.ims.getImByMemberId('USLACKBOT') => "+(m?"OK 🎉":"NOT FOUND 👻")+"\nTS.members.getMemberById('USLACKBOT') => "+(g?"OK 🎉":"NOT FOUND 👻"));if(m)TS.info("debug_slackbot: slackbot_im",m.toJSON&&m.toJSON()||m);if(g)TS.info("debug_slackbot: slackbot_member",g.toJSON&&g.toJSON()||g);if(!TS._incremental_boot&&!m)TS.warn("debug_slackbot: TS.ims.getImByMemberId(`USLACKBOT`): No IM found?")}};if(n.dnd){if(n.dnd.dnd_enabled)TS.redux.dnd.updateDndScheduleForMember(n.self.id,n.dnd.next_dnd_start_ts,n.dnd.next_dnd_end_ts);else TS.redux.dnd.updateDndScheduleForMember(n.self.id,null,null);if(n.dnd.snooze_enabled||n.dnd.snooze_endtime)TS.redux.dnd.updateSnoozeScheduleForCurrentMember(n.dnd.snooze_enabled,n.dnd.snooze_endtime)}if(!TS._incremental_boot){var y=n.ims.concat(n.mpims||[],n.groups||[]);if(v)TS.info("debug_slackbot: _setUpModel(): !TS._incremental_boot, fetching all external members in shared model obs",y);return TS.members.ensureMembersArePresentInOrgSharedModelObs(y).then(function(){w();e()},function(e){r(Error("could not fetch all external members: "+(e&&e.message)))})}w();e()})};var R=function e(n){if(n.test&&!n.__esModule&&l())delete n.test;else if("function"===typeof n.test){var t=n.test;Object.defineProperty(n,"test",{get:t})}};R(TS);var N=function e(){return!TS.boot_data.no_login};var V=function e(){if(!TS.boot_data.feature_automated_perfectrics)return Promise.resolve();return TS.client?TS.client.traces.maybeTrace(10,{reason:"automated"}):Promise.resolve()};var J=function e(){var n=false;var t=function e(){TS.info("sleep event!");n=true;if(TS.client)TS.interop.SocketManager.sleep();if(TS.web&&TS.web.space)TS.ds.sleep()};var r=function e(){if(!n)return;n=false;TS.info("wake event! version:"+TS.boot_data.version_ts+" start_ms:"+TS.boot_data.start_ms);if(TS.client)TS.interop.SocketManager.wake();if(TS.web&&TS.web.space)TS.ds.wake()};window.addEventListener("sleep",t,false);window.addEventListener("wake",r,false)};var G=1989;var K=481;var H;var Q=function e(){if(H)return;H=true;TS.metrics.count("rate_limit_dialog_shown");var n="Bear with us";var t="Dismiss";var r="Lots of your teammates are connecting to Slack right now, so it’s taking longer than usual. We’re really sorry about this, and we’ll have you online soon.";var a=TS.generic_dialog.alert(r,n,t);var i=function e(){if(a.isPending())TS.generic_dialog.cancel();H=false};TS.redux.socket.connectedSig.addOnce(i)};var Y=function e(n,t){var r=t;if(n&&_.isNumber(n))r=""+n;else if("log"===t)r="info";return r};var Z=function e(n,t){var r=Array.prototype.slice.call(t);if(n&&_.isNumber(n))r.shift();return r}})()},4733:function(e,n){var t=function(){function e(e,n){var t=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){t.push(s.value);if(n&&t.length===n)break}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"])o["return"]()}finally{if(a)throw i}}return t}return function(n,t){if(Array.isArray(n))return n;else if(Symbol.iterator in Object(n))return e(n,t);else throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();(function(){TS.registerModule("incremental_boot",{onStart:function e(){TS.channels.switched_sig.add(c);TS.ims.switched_sig.add(c);TS.groups.switched_sig.add(c);TS.mpims.switched_sig.add(c);TS.redux.socket.connectedSig.addOnce(c)},startIncrementalBoot:function n(){if(TS._did_incremental_boot)return Promise.reject(new Error("_startIncrementalBoot called more than once; this is a programming error."));TS._did_incremental_boot=true;var r=TS.boot_data.incremental_boot_data;delete TS.boot_data.incremental_boot_data;var a={canonical_avatars:true,include_full_users:true,count:TS.model.initial_msgs_cnt-1,ignore_replies:true,include_pin_count:true,no_members:true,name_tagging:true};var o=u();if(o){TS.model.c_name_in_url=o;a.name=o;TS.log(123,"Performing incremental boot for channel in URL: "+o)}else{var l=localStorage[f()];if(l){a.channel=l;TS.log(123,"Performing incremental boot for channel from history: "+l)}}s(true);TS.model.change_channels_when_offline=false;var c=d("conversations.view",a);i="experiment"===_.get(window,"boot_data.experiment_assignments.speedy_sidebar_boot.group");var m=i?d("users.counts",{simple_unreads:true,mpim_aware:true,only_relevant_ims:true}):Promise.resolve({data:{}});var g=Promise.all([c,m]);return g.then(function(n){var a=t(n,2),i=a[0],o=a[1];TS._incremental_boot=true;var s=e(r,i.data,o.data);return{ok:true,data:s,args:i.args}}).catch(function(e){TS.warn("Incremental boot failed with error: "+e);TS._incremental_boot=false;TS._did_incremental_boot=false;TS.model.change_channels_when_offline=true;s(false);throw e})},beforeFullBoot:function e(){if(!TS._incremental_boot)return;if(!TS._did_incremental_boot)return;if(TS._did_full_boot)return;TS._incremental_boot=false;r=setTimeout(o,1e4);if(TS.client&&TS.client.ui&&TS.client.ui.$messages_input_container)TS.client.ui.$messages_input_container.one(n,o);TS.redux.socket.connectedSig.addOnce(o)},afterFullBoot:function e(){if(TS._did_incremental_boot){TS._did_full_boot=true;TS.model.change_channels_when_offline=true}s(false);TS.redux.dispatch(TS.interop.redux.features.incrementalBoot.setFullyBooted(true))},shouldIncrementalBoot:function e(){if(TS._did_incremental_boot)return false;if(!TS.boot_data.incremental_boot_data)return false;if(TS.model.ms_logged_in_once)return false;if(false===_.get(TS.boot_data.incremental_boot_data,"self.prefs.seen_welcome_2",void 0)||false===TS.boot_data.prefs_seen_welcome_2){delete TS.boot_data.incremental_boot_data;return false}if("client"!==TS.boot_data.app||0!==location.pathname.indexOf("/messages")){delete TS.boot_data.incremental_boot_data;return false}return true},userDidInteractWithUI:function e(){TS.sounds.play("beep");o()},getInitialChannelsToUpsert:function e(){return a}});var e=function e(n,t,r){var o=t;o.channels=o.channels||[];o.groups=o.groups||[];o.ims=o.ims||[];o.mpims=o.mpims||[];var s=o.channel||o.group||o.im;TS.model.initial_cid=s.id;delete o.channel;delete o.group;if(o.history&&o.history.messages)s.msgs=o.history.messages;else s.msgs=[];if(TS.pins&&o.history)TS.pins.updateCount(s,o.history.pin_count);Object.keys(n).forEach(function(e){o[e]=_.merge(n[e],o[e])});if(!o.self||o.self.id!=TS.boot_data.user_id)throw new Error("Missing `self` from incremental boot data");if(!_.find(o.users,{id:o.self.id}))o.users.push(o.self);o.users.forEach(function(e){if("USLACKBOT"===e.id||e.id==TS.boot_data.user_id)e.presence="active";delete e.updated});if(i&&r)a=r.channels.concat(r.groups).concat(r.ims);if(s.is_channel)l(s,o.channels);else if(s.is_mpim)l(s,o.mpims);else if(s.is_group)l(s,o.groups);else if(s.is_im)l(s,o.ims);else throw new Error("Unexpected model object type from channels.view");return o};var n="change.incremental_boot keydown.incremental_boot paste.incremental_boot";var r;var a=[];var i=false;var o=function e(){if(TS.client&&TS.client.ui&&TS.client.ui.$messages_input_container){TS.client.ui.$messages_input_container.off(n);TS.client.ui.$messages_input_container.removeClass("pretend-to-be-online")}TS.redux.socket.connectedSig.remove(e);if(r){clearTimeout(r);r=void 0}};var s=function e(n){$("#col_channels, #team_menu").toggleClass("placeholder",n);$(document.body).toggleClass("incremental_boot",n)};var l=function e(n,t){var r=_.find(t,{id:n.id});if(r)_.extend(r,n);else t.push(n)};var c=function e(){var n=TS.shared.getActiveModelOb();try{if(n&&n.id){localStorage[f()]=n.id;localStorage[window.boot_data.api_token+"_last_model_ob_id"]=n.id}else delete localStorage[f()]}catch(e){}};var u=function e(){var n=location.pathname.match(/\/messages\/([^/]+)/);return n&&n[1]};var f=function e(){return window.boot_data.team_id+"_"+window.boot_data.user_id+"_incr_boot_last_model_ob_id_v2"};var d=function e(n,t){return new Promise(function(e,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4!==a.readyState)return;if(200!==a.status){r(new Error("Received non-200 response from "+n));return}var i=JSON.parse(a.responseText);if(!i.ok){r(new Error("Received not-OK from "+n));return}e({ok:true,args:t,data:i})};a.onerror=function(){r(new Error("XHR encountered an error"))};var i=new FormData;Object.keys(t).forEach(function(e){return i.append(e,t[e])});i.append("token",window.boot_data.api_token);var o=""+window.boot_data.api_url+n;a.open("POST",o,!t._synchronously);a.setRequestHeader("X-Slack-Version-Ts",TS.boot_data.version_ts);a.send(i)})}})()},4734:function(e,n){(function(){TS.registerModule("metrics",{onStart:function e(){if(TS.web)TS.web.login_sig.add(TS.metrics.onLogin);if(TS.client)TS.client.login_sig.add(TS.metrics.onLogin)},onLogin:function e(){var n=TS.interop.metrics.instance;n.setUser(TS.model&&TS.model.user&&TS.model.user.id||"").setTeam(TS.model&&TS.model.team&&TS.model.team.id||"").setTeamSize(TS.model&&TS.model.members&&TS.model.members.length||0).setVersionTs(TS.boot_data.version_ts).setEndpointUrl(TS.boot_data.beacon_timing_url||window.ts_endpoint_url).setLogDomNodeCount(TS.utility.enableFeatureForUser(1)).setSSBMemoryLogging(TS.boot_data.feature_electron_memory_logging&&TS.model.is_electron&&"client"===TS.boot_data.app).start()},mark:function e(n){TS.interop.metrics.mark(n)},getLatestMark:function e(n){return TS.interop.metrics.getLatestMark(n)},clearMarks:function e(n){TS.interop.metrics.clearMarks(n)},measure:function e(n,t,r,a){return TS.interop.metrics.measure(n,t,r,a)},measureAndClear:function e(n,t){return TS.interop.metrics.measureAndClear(n,t)},store:function e(n,t,r){return TS.interop.metrics.store(n,t,r)},count:function e(n,t){TS.interop.metrics.count(n,t)},flush:function e(){TS.interop.metrics.instance.sendDataAndEmptyQueue()},reportModelSize:function e(){return TS.interop.metrics.reportModelSize(TS.model.user,TS.model.team,TS.model.channels,TS.model.members,TS.model.user_groups,TS.model.mpim,TS.model.ims,TS.model.bots,TS.model.apps,TS.model.files,TS.groups.getUnarchivedGroups(),TS.members.getActiveMembersWithSelfAndNotBots(),_.filter(TS.model.members,"is_bot"))}})})()},4735:function(e,n){(function(){TS.registerModule("statsd",{onStart:function e(){var n=3e4;var t=5e3;var r=Math.floor(Math.random()*t);setInterval(a,n+r);$(window).on("beforeunload",a)},count:function e(n,t){if(_.isUndefined(t))t=1;r(n,"count",t)},timing:function e(n,t){r(n,"timing",t)},flush:function e(){a()},mark:function e(n){TS.metrics.mark(n)},clearMarks:function e(n){TS.metrics.clearMarks(n)},measure:function e(n,t,r){var a=TS.metrics.measure(n,t,r,{ephemeral:true});if(_.isNaN(a)||_.isUndefined(a))return;TS.statsd.timing(n,a);return a},measureAndClear:function e(n,t){var r=TS.statsd.measure(n,t);TS.statsd.clearMarks(t);return r},test:function e(){var n={getStats:function e(){return t},reset:function e(){t=[]}};Object.defineProperty(n,"_record",{get:function e(){return r},set:function e(n){r=n}});Object.defineProperty(n,"_sendDataAndEmptyQueue",{get:function e(){return a},set:function e(n){a=n}});return n}});var e=2e3;var n;var t=[];var r=function e(n,r,a){var i;if("count"===r){i=" (count)";a=_.round(a,0)}else if("timing"===r){i="ms";a=_.round(a,3)}else{TS.error("TS.statsd._record called with invalid type: "+r);return}if(o(n))TS.info("[STATSD "+r.toUpperCase()+"] "+n+": "+a+i);t.push({stat:n,type:r,value:a})};var a=function n(){if(!t.length)return;var r=[];var a=[];var s="";var l=function e(n){return i()+"?stats="+encodeURIComponent(JSON.stringify(n))};t.forEach(function(n){a.push(n);s=l(a);if(s.length>e){a.pop();r.push(l(a));a=[n]}});r.push(l(a));r.forEach(function(e){var n=new Image;n.src=e});if(o())TS.info("[STATSD] Sending data: "+JSON.stringify(t));t=[]};var i=function e(){if(n)return n;if(TS.environment.is_dev){var t=location.host.match(/^([^.]+\.)?(?:enterprise\.)?((dev|qa)[0-9]*)\.slack\.com/)[2];n="https://"+t+".slack.com/beacon/statsd"}else if(location.host.match(/staging.slack.com/))n="https://staging.slack.com/beacon/statsd";else n="https://slack.com/beacon/statsd";return n};var o=function e(n){if(!n)return TS.qs_args.log_timings||true===TS.statsd.log;return TS.qs_args.log_timings||TS.qs_args.log_timing===n||true===TS.statsd.log||TS.statsd.log===n||TS.statsd.log instanceof Array&&-1!==TS.statsd.log.indexOf(n)}})()},4736:function(e,n){(function(){TS.registerModule("model",{did_we_load_with_user_cache:false,did_we_load_with_emoji_cache:false,did_we_load_with_app_cache:false,did_we_load_with_cmd_cache:false,api_url:"",api_token:"",async_api_url:"",webhook_url:"",user:null,team:null,can_add_ura:null,ims:null,channels:null,groups:null,mpims:null,members:null,rooms:null,bots:null,user_groups:null,idp_groups:null,apps:{},files:[],requested_im_opens:{},requested_group_opens:{},requested_mpim_opens:{},requested_channel_joins:{},created_channels:{},created_channel_ids:{},created_groups:{},archives_and_recreated_groups:{},last_team_name:"",last_team_domain:"",initial_cid:"",enterprise:null,initial_unread_view:false,initial_threads_view:false,initial_app_space_view:false,initial_home_screen_view:false,initial_apps_dashboard_view:false,RESERVED_USERNAMES:["all","archive","archived","archives","channel","channels","create","delete","deleted-channel","edit","everyone","general","group","groups","here","me","ms","slack","slackbot","today","you","canal","aquí","todos","mí","grupo","hier","alle","mir","gruppe","chaîne","chaine","ici","tous","moi","groupe","チャンネル","ここ","全員","自分","グループ"],RESERVED_KEYWORDS:["channel","here","everyone","slackbot","canal","aquí","todos","hier","alle","chaîne","chaine","ici","tous","チャンネル","ここ","全員"],BROADCAST_KEYWORDS:[{id:"BKeveryone",ms_name:"everyone",cmd:"<!everyone>",name:TS.i18n.t("everyone","broadcast_keywords")(),description:TS.i18n.t("Notify everyone in your workspace.","broadcast_keywords")(),is_broadcast_keyword:true},{id:"BKchannel",ms_name:"channel",alias:"group",cmd:"<!channel>",name:TS.i18n.t("channel","broadcast_keywords")(),description:TS.i18n.t("Notify everyone in this channel.","broadcast_keywords")(),is_broadcast_keyword:true},{id:"BKhere",ms_name:"here",cmd:"<!here|@here>",name:TS.i18n.t("here","broadcast_keywords")(),description:TS.i18n.t("Notify every online desktop-using member in this channel.","broadcast_keywords")(),is_broadcast_keyword:true}],NAMED_VIEWS:[{id:"Vall_unreads",name:TS.i18n.t("All Unreads","model")(),is_view:true},{id:"Vall_threads",name:TS.i18n.t("Threads","threads")(),alt_names:[TS.i18n.t("All Threads","threads")(),TS.i18n.t("New Threads","threads")()],is_view:true},{id:"Vapp_space",name:TS.i18n.t("Apps","model")(),is_view:true}],unsent_msgs:{},display_unsent_msgs:{},inline_img_byte_limit:2097152,inline_img_pixel_limit:36152320,last_reads_set_by_client:{},ms_logged_in_once:false,ds_asleep:false,ds_connected:false,ds_connecting:false,ds_logged_in_once:false,window_unloading:false,active_cid:null,last_active_cid:null,active_group_id:null,active_channel_id:null,active_im_id:null,active_mpim_id:null,active_history:[],all_custom_emoji:[],user_hiddens:[],user_colors:null,emoji_use:{},at_channel_suppressed_channels:null,push_at_channel_suppressed_channels:null,loud_channels:null,never_channels:null,loud_channels_set:null,push_loud_channels:null,push_mention_channels:null,push_loud_channels_set:null,highlight_words:null,highlight_words_regex:null,everyone_regex:/<!everyone\b/,channel_regex:/<!channel\b/,group_regex:/<!group\b/,here_regex:/<!here\b/,you_regex:null,your_user_group_regex:{},channel_sort:"alphabetical",inline_attachments:{},inline_imgs:{},inline_videos:{},inline_others:{},inline_audios:{},expandable_state:{},native_video_embed_height:320,native_video_embed_height_flexpane:240,native_media_preload_limit_bytes:2097152,is_msg_rate_limited:false,ds_reconnect_ms:0,ds_reconnect_time:0,rtd_start_throttler:0,initial_msgs_cnt:50,subsequent_msgs_cnt:100,special_initial_msgs_cnt:100,hard_msg_limit:500,all_unread_cnt:0,all_unread_highlights_cnt:0,all_unread_cnt_to_exclude:0,all_unread_highlights_cnt_to_exclude:0,threads_has_unreads:false,threads_mention_count:0,threads_mention_counts:{},c_name_in_url:"",flex_name_in_url:"",flex_extra_in_url:"",flex_names:["files","team","search","stars","mentions","details","whats_new","convo","apps"],default_flex_name:"files",ui_state:null,input_history:null,input_history_index:-1,input_cursor_positions:{},last_net_send:0,previewed_file_id:null,last_previewed_file_id:null,previewed_member_name:null,previewed_member_id:null,last_previewed_member_id:null,previewed_user_group_id:null,last_previewed_user_group_id:null,channel_name_max_length:21,channel_purpose_max_length:250,channel_topic_max_length:250,upload_file_size_limit_bytes:1073741824,model_ob_id_length:9,msg_activity_interval:5,msg_preview_showing:false,archive_view_is_showing:false,menu_is_showing:false,overlay_is_showing:false,unread_view_is_showing:false,threads_view_is_showing:false,app_space_view_is_showing:false,home_screen_view_is_showing:false,apps_dashboard_view_is_showing:false,seen_onboarding_this_session:false,seen_welcome_2:true,showing_welcome_2:false,cancelled_welcome_2_this_session:false,show_inline_img_size_pref_reminder:false,shown_inline_img_size_pref_reminder_once:false,last_key_down_e:null,group_prefix:"",ms_conn_log:[],ds_conn_log:[],mac_ssb_version:TSSSB.env.mac_ssb_version,mac_ssb_version_minor:TSSSB.env.mac_ssb_version_minor,mac_ssb_build:TSSSB.env.mac_ssb_build,win_ssb_version:TSSSB.env.win_ssb_version,win_ssb_version_minor:TSSSB.env.win_ssb_version_minor,lin_ssb_version:TSSSB.env.lin_ssb_version,lin_ssb_version_minor:TSSSB.env.lin_ssb_version_minor,desktop_app_version:TSSSB.env.desktop_app_version,supports_downloads:false,supports_spaces_in_windows:false,supports_growl_subtitle:false,supports_voice_calls:false,supports_video_calls:false,supports_screen_sharing:false,supports_screenhero:false,supports_mmap_minipanel_calls:false,active_file_list_filter:"all",active_file_list_member_filter:"all",file_list_types:null,shift_key_pressed:false,insert_key_pressed:false,alt_key_pressed:false,join_leave_subtypes:["channel_leave","channel_join","group_leave","group_join"],file_list_type_map:{all:TS.i18n.t("All File Types","model")(),posts:TS.i18n.t("Posts","model")(),spaces:TS.i18n.t("Posts","model")(),arugula:"Arugula",snippets:TS.i18n.t("Snippets","model")(),emails:TS.i18n.t("Emails","model")(),images:TS.i18n.t("Images","model")(),videos:TS.i18n.t("Videos","model")(),pdfs:TS.i18n.t("PDF Files","model")(),gdocs:TS.i18n.t("Google Docs","model")()},marked_reasons:{viewed:"viewed",left:"left",esc:"esc",esc_all:"esc_all",closed:"closed",muted:"muted",back:"back",sent:"sent",clicked:"clicked",deleted:"deleted",none_qualify:"none_qualify"},welcome_model_ob:{},change_channels_when_offline:true,ampersands_are_inconsistent_in_from_urls:true,ui:{cached_file_preview_scroller_rect:null,cached_msgs_scroller_rect:null,cached_msgs_scroll_result:null,cached_search_scroller_rect:null,cached_archives_scroller_rect:null,cached_archive_scroll_result:null,cached_convo_scroller_rect:null,cached_unread_scroller_rect:null,cached_threads_scroller_rect:null,is_window_focused:!!(document.hasFocus&&document.hasFocus()),msgs_are_auto_scrolling:false,is_mouse_down:false,last_flex_extra:null,active_tab_id:null,active_tab_ts:null,debug_channel_lists:true,last_top_msg:null},client:{reads:[],last_user_active_timestamp:new Date},emoji_groups:[],emoji_names:[],emoji_map:[],emoji_complex_customs:null,emoji_menu_columns:9,emoji_menu_colors:6,frecency_jumper:{},pdf_viewer_enabled:true,onStart:function e(n){n=n||navigator.userAgent;var t=[];if(TS.model.is_safari_desktop)t.push("is_safari_desktop");if(TS.model.is_electron&&TS.model.is_mac&&TSSSB.call("isMainWindowFrameless"))t.push("is_electron_mac");if(TS.model.is_electron)t.push("is_electron");if(TS.model.is_mac)t.push("is_mac");if(TS.model.is_win)t.push("is_win");$("html").addClass(t.join(" "));var r=a(n);var i=!!(TS.model.mac_ssb_version&&TS.environment.isSSBAndAtLeastVersion("2.2"));TS.model.supports_growl_subtitle=i&&TS.utility.compareSemanticVersions(r,"10.7")>0;var o=false;Object.defineProperty(TS.model,"dialog_is_showing",{get:function e(){return o},set:function e(n){o=n;TSSSB.call("dialogIsShowing",n)},enumerable:true,configurable:true});TS.model.supports_voice_calls=false;var s=!(TS.model.is_lin&&TS.environment.isSSBAndAtLeastVersion("2.5.2"));if(window.winssb){TS.model.supports_voice_calls=!!(winssb.screenhero||winssb.calls||!s);if(TS.model.win_ssb_version&&TS.model.win_ssb_version<2)TS.model.supports_voice_calls=false}else if(TS.model.is_chrome_desktop)TS.model.supports_voice_calls=true;TS.model.supports_video_calls=false;TS.model.supports_screen_sharing=false;TS.model.supports_screenhero=false;TS.model.supports_mmap_minipanel_calls=false;if(window.winssb){if(winssb.calls&&winssb.calls.requestCapabilities){var l=winssb.calls.requestCapabilities();if(l){if(l.supports_video)TS.model.supports_video_calls=true;if(l.supports_screen_sharing&&winssb.stats&&winssb.stats.getDisplayInformation)TS.model.supports_screen_sharing=true;if(l.supports_screenhero&&!l.is_mas)TS.model.supports_screenhero=true;if(l.supports_mmap_minipanel)TS.model.supports_mmap_minipanel_calls=true}}}else if(TS.model.is_chrome_desktop)TS.model.supports_video_calls=true;if(!s){TS.model.supports_video_calls=true;TS.model.supports_screen_sharing=true}TS.model.supports_spaces_in_windows=false;if(window.winssb&&winssb.window&&winssb.window.list)TS.model.supports_spaces_in_windows=true;if(TS.boot_data.special_flex_panes)_.forOwn(TS.boot_data.special_flex_panes,function(e){TS.model.flex_names.push(e.flex_name)});var c=TS.storage.fetchExpandableState();TS.model.expandable_state=c;if(TS.boot_data.feature_app_canvases)TS.model.NAMED_VIEWS.push({id:"Vapps_dashboard",name:TS.i18n.t("Dashboard","model")(),is_view:true})},makeYouRegex:function e(){var n=TS.model.user;if(n)TS.model.you_regex=new RegExp("<@("+n.id+")\\b")},addProfilingKeyTime:function e(n,t){if(!t||!n)return;if(!TS.model.profiling_key_times)TS.model.profiling_key_times=[];TS.model.profiling_key_times.push({name:n,ms:t})},incrementUnknownIdHandled:function n(t){e[t]=e[t]||{tries:0,state:0};var r=e[t];r.tries+=1;r.state=0;if(r.tries>2)TS.maybeError(48,'calling the API for id: "'+t+'", try #'+r.tries);else if(r.tries>1)TS.maybeWarn(48,'calling the API for id: "'+t+'", try #'+r.tries);else TS.log(48,'calling the API for id: "'+t+'", try #'+r.tries);return r.tries},reportResultOfUnknownIdHandled:function n(t,r){var a=e[t];if(!a)return;a.state=r?1:-1;if(1==a.state)TS.log(48,'API call for id: "'+t+'" SUCCEEDED, try #'+a.tries);else TS.maybeWarn(48,'API call for id: "'+t+'" FAILED, try #'+a.tries)},logUnknownIdsHandled:function e(n,r){var a=t(n,r);TS.info("_unknown_ids_handled: "+JSON.stringify(a,null,2))},getUnknownIdsHandled:function e(n,r){return t(n,r)},test:function e(){return{getOSXVersion:a,isWin7Plus:r,sniffUserAgent:i}},getBroadcastKeywordById:function e(n){var t=_.find(TS.model.BROADCAST_KEYWORDS,{id:n});if(!t){TS.warn("no broadcast_keyword ob found for "+n);return}return t},getViewById:function e(n){var t=_.find(TS.model.NAMED_VIEWS,{id:n});if(!t){TS.warn("no view ob found for "+n);return}return t},isMac:function e(){return TS.model.is_mac},isWindows:function e(){return TS.model.is_win},isSSB:function e(){return TS.model.is_our_app},getAtChannelRegExp:function e(){return TS.model.channel_regex},getAtEveryoneRegExp:function e(){return TS.model.everyone_regex},getAtGroupRegExp:function e(){return TS.model.group_regex},getAtHereRegExp:function e(){return TS.model.here_regex}});_.merge(TS.model,i(navigator.userAgent));var e={};var n=[-1,0,1];var t=function t(r,a){r=parseInt(r,10)||1;a=_.includes(n,a)?a:"any";var i={};Object.keys(e).forEach(function(n){var t=e[n];if(r>t.tries)return;if("any"!==a&&t.state!=a)return;i[n]=e[n]});return{state:a,min_tries:r,count:Object.keys(i).length,obs:i}};function r(e){var n=e.match(/Windows NT ([0-9]+\.[0-9]+)\b/);if(!n||n.length<2)return false;return parseInt(n[1],10)>=6}function a(e){var n=e.match(/(?:Mac OS X )([0-9][0-9]_[0-9]+)(_[0-9])?/);if(!n)n=e.match(/(?:Mac OS X )([0-9][0-9]\.[0-9]+)(\.[0-9])?/);if(!n||!n[1])return 0;return n[1].replace("_",".")}function i(e){var n=/(OS X)/g.test(e);var t=-1!==e.indexOf("Windows");var i=/(WOW64|Win64)/g.test(e);var o=-1!==e.indexOf("Linux");var s=/(iPad|iPhone|iPod)/g.test(e);var l=/(Android)/g.test(e);var c=/(Edge)/g.test(e);var u=/(Chrome)/g.test(e)&&!c;var f=u&&(s||l);var _=/(Slack)/g.test(e);var d=/(MSIE|Trident)/g.test(e);var m=/(Firefox)/g.test(e);var g=/(Safari)/g.test(e);var p=/(AtomShell)/g.test(e);return{is_iOS:s,is_IE:d,is_FF:m,is_edge:c,is_chrome_desktop:u&&!f&&!_,is_chrome_mobile:f,is_safari_desktop:g&&!u&&n&&!s,is_mac:n,mac_version:a(e)||void 0,is_win:t,is_win_64:i,is_win_7_plus:r(e),is_lin:o,is_our_app:_,is_electron:p}}})()},4737:function(e,n){(function(){TS.registerModule("environment",{is_apple_webkit:false,is_dev:false,is_macgap:false,is_retina:false,retina_changed_sig:new signals.Signal,supports_sticky_position:false,supports_custom_scrollbar:false,slim_scrollbar:false,supports_flexbox:false,supports_line_clamp:false,supports_intersection_observer:false,onStart:function e(){c();i();u()},isSSBAndAtLeastVersion:function e(n){if(window.TS&&TS.interop&&TS.interop.environment&&TS.interop.environment.isSSBAndAtLeastVersion)return TS.interop.environment.isSSBAndAtLeastVersion(n);if(!TS.model.is_our_app)return false;var t=n.split(".");var r={major:0,minor:0};var a={major:0,minor:0};if(t.length>2)r.minor=parseFloat(t.pop());r.major=parseFloat(t.join("."));if(TS.model.mac_ssb_version){a.major=TS.model.mac_ssb_version;a.minor=TS.model.mac_ssb_version_minor}else if(TS.model.win_ssb_version){a.major=TS.model.win_ssb_version;a.minor=TS.model.win_ssb_version_minor}else if(TS.model.lin_ssb_version){a.major=TS.model.lin_ssb_version;a.minor=TS.model.lin_ssb_version_minor}return TS.utility.compareVersions(a,r)>=0},doesSupportStickyPosition:function e(){return TS.environment.supports_sticky_position},test:function e(){var n={_decoratePageWithSupport:i,_initialSetup:c};Object.defineProperty(n,"cssPropertySupported",{get:function e(){return o},set:function e(n){o=n}});Object.defineProperty(n,"cssValueSupported",{get:function e(){return s},set:function e(n){s=n}});return n}});var e=["-webkit-","-moz-","-o-","-ms-",""];var n=["Webkit","Moz","O","ms",""];var t=new RegExp("^(-*"+e.slice(0,e.length-1).join("|-*")+")");var r=new RegExp("^("+n.slice(0,n.length-1).join("|")+")");function a(){return window.devicePixelRatio>1}function i(){var e=["is_apple_webkit","is_macgap","supports_sticky_position","supports_custom_scrollbar","slim_scrollbar","supports_flexbox","supports_line_clamp"];var n=_.partition(e,function(e){return TS.environment[e]});var t=$("html");t.addClass(n[0].join(" "));t.removeClass(n[1].join(" "))}function o(e){if("scrollbar"===e)return f();var a=document.createElement("css_property_supported").style;e=e.replace(r,"").replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(t,"").toLowerCase();e=_.camelCase(e,"-");var i=_.upperFirst(e);if(void 0!==a[e])return true;return n.some(function(n){return void 0!==a[n+i]||void 0!==a[n+e]})}function s(n,r){var a=document.createElement("css_value_supported");r=r.replace(t,"").toLowerCase();a.style.cssText=n+":"+e.join(r+";"+n+":")+r+";";return!!a.style.length}function l(){TS.environment.supports_sticky_position=s("position","sticky");if("Chrome"===window.bowser.name&&parseInt(window.bowser.version,10)<57&&a())TS.environment.supports_sticky_position=false;TS.redux.dispatch(TS.interop.redux.models.environment.setSupportsStickyPosition(TS.environment.supports_sticky_position))}function c(){TS.environment.is_apple_webkit=!!(TS.model.mac_ssb_version||TS.model.is_safari_desktop);TS.environment.is_dev="dev"===TS.boot_data.version_ts;TS.environment.is_macgap=!!window.macgap;TS.environment.is_retina=a();TS.environment.supports_custom_scrollbar=o("scrollbar");TS.environment.slim_scrollbar=TS.environment.supports_custom_scrollbar&&TS.boot_data.feature_slim_scrollbar;TS.environment.supports_flexbox=o("flex-wrap");TS.environment.supports_line_clamp=o("line-clamp");TS.environment.supports_intersection_observer="function"===typeof IntersectionObserver;l()}function u(){if(window.matchMedia){var e="screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min--moz-device-pixel-ratio: 1.5), screen and (min-device-pixel-ratio: 1.5)";window.matchMedia(e).addListener(function(){var e=TS.environment.is_retina;TS.environment.is_retina=a();if(TS.environment.is_retina===e)return;TS.info("TS.environment.is_retina changed from "+e+" to "+TS.environment.is_retina);TS.environment.retina_changed_sig.dispatch(TS.environment.is_retina);l();i()})}}function f(){var e=document.createElement("div");e.id="__sb";e.style.overflow="scroll";e.style.width="40px";e.style.height="40px";e.style.position="absolute";e.style.left="-40px";e.innerHTML="&shy;<style>#__sb::-webkit-scrollbar {width:10px;}</style>";document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth===10;document.body.removeChild(e);return n}})()},4738:function(e,n){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){TS.registerModule("ssb",{teams_did_load_sig:new signals.Signal,onStart:function e(){if(TS.files)TS.files.team_file_deleted_sig.add(a)},openNewFileWindow:function e(n,t,a){if(f)TS.log(f,"TS.ssb.openNewFileWindow url: "+t);if(TS.client)return TS.client.windows.openFileWindow(n.id,a);else if(window.is_in_ssb){TS.ssb.upsertFileInSSBParentWin(n);if(document.ssb_main){if(document.ssb_main.TS)return document.ssb_main.TS.client.windows.openFileWindow(n.id,t);return true}else if(window.winssb&&window.opener&&window.opener.executeJavaScript){if(f)TS.log(f,"calling _executeInAtomSSBParentWin for TS.client.windows.openFileWindow");o("TS.client.windows.openFileWindow("+r(n.id)+", "+r(t)+");");return true}}return false},closeWindow:function e(){if(!window.is_in_ssb)return false;window.close();return true},setUpAtomSSBWin:function e(n){c(n,"window.is_in_ssb = true;");if(TS.shouldLog(438)&&!n._has_console)n._has_console=1},upsertFileInSSBParentWin:function e(t){if(!TS.web)return;if(document.ssb_main){if(document.ssb_main.TS)document.ssb_main.TS.files.upsertAndSignal(t)}else if(window.winssb&&window.opener&&window.opener.executeJavaScript){if(f)TS.log(f,"calling _executeInAtomSSBParentWin for TS.files.upsertAndSignal");o("TS.files.upsertAndSignal("+n(t)+");")}},toggleMuteInWin:function n(t,r,a){if(f)TS.log(f,"toggleMuteInWin called with token: "+t);if(!TS.client)return;var i=TS.client.windows.getWinByToken(t);if(!i){TS.error("toggleMuteInWin called with bad token: "+t);return}c(i,"window.toggleMute("+e(r)+");",a)},teamsDidLoad:function e(){TS.ssb.teams_did_load_sig.dispatch()},distributeMsgToWin:function e(t,r){if(f)TS.log(f,"distributeMsgToWin called with token: "+t);if(!TS.client)return;var a=TS.client.windows.getWinByToken(t);if(!a){TS.error("distributeMsgToWin called with bad token: "+t);return}c(a,"TS.redux.dispatch(TS.interop.redux.features.socket.socketMessageReceived(("+n(r)+"));")}});var e=function e(n){return(!!n).toString()};var n=function e(n){return"JSON.parse('"+JSON.stringify(n||null)+"')"};var r=function e(n){n=String(n);n=n.replace(/"/g,'\\"');return'"'+n+'"'};var a=function e(n){if(!n)return;if(!TS.client)return;var t=TS.client.windows.getWinByProp("file_id",n.id);if(!t)return;setTimeout(function(){c(t,"window.TS.files.team_file_deleted_sig.dispatch(TS.files.getFileById("+r(n.id)+"));")},1e3)};var i=[];var o=function e(n,t){return TSSSB.call("executeJavaScriptInParentWindow",{code:n,callback:t})};var s=function e(n,r){if(f)TS.log(f,'CALLING _executeInAtomSSBParentWin\n\n"'+n+'"');var a=function n(){i.shift();if(i.length)e.apply(null,i[0])};var o=2e3;var s=1;var l=2;var c=function e(){var i=setTimeout(function(){s+=1;if(s>l){TS.error('_executeInAtomSSBParentWin\n\n"'+n+'"\n\ndid not get a callback in '+o+"ms, bailing");a()}else{TS.error('_executeInAtomSSBParentWin\n\n"'+n+'"\n\ndid not get a callback in '+o+"ms, trying again");e()}},o);var c=TSSSB.call("executeJavaScriptInParentWindow",{code:n,callback:function e(o,l){clearTimeout(i);if(o)TS.error('_executeInAtomSSBParentWin\n\n"'+n+'"\n\nreturned err: '+o);else{var c="object"===("undefined"===typeof l?"undefined":t(l))?JSON.stringify(l,null,2):l;var u=1==s?438:0;TS.log(u,'_executeInAtomSSBParentWin\n\n"'+n+'"\n\nreturned data: '+c)}if(r)r(o,l);setTimeout(a,0)}});if(f)TS.log(f,'CALLED _executeInAtomSSBParentWin\n\n"'+n+'"\n\n ret: '+c);return c};var u=c();return!!u};var l=[];var c=function e(n,t,r){return TSSSB.call("executeJavaScriptInWindow",{window_token:n.token,code:t,callback:r})};var u=function e(n,r,a){if(f)TS.log(f,"CALLING _executeInAtomSSBWin token: "+n.token+'\n\n"'+r+'"');var i=function n(){l.shift();if(l.length)e.apply(null,l[0])};var o=2e3;var s=1;var c=2;var u=function e(){var l=setTimeout(function(){s+=1;if(s>c){TS.error("_executeInAtomSSBWin token: "+n.token+'\n\n"'+r+'"\n\ndid not get a callback in '+o+"ms, bailing");i()}else{TS.error("_executeInAtomSSBWin token: "+n.token+'\n\n"'+r+'"\n\ndid not get a callback in '+o+"ms, trying again");e()}},o);var u=TSSSB.call("executeJavaScriptInWindow",{window_token:n.token,code:r,callback:function e(o,c){clearTimeout(l);if(o)TS.error("_executeInAtomSSBWin token: "+n.token+'\n\n"'+r+'"\n\nreturned err: '+o);else{var u="object"===("undefined"===typeof c?"undefined":t(c))?JSON.stringify(c,null,2):c;var _=1==s?438:0;if(f)TS.log(_,"_executeInAtomSSBWin token: "+n.token+'\n\n"'+r+'"\n\nreturned data: '+u)}if(a)a(o,c);setTimeout(i,0)}});if(f)TS.log(f,"CALLED _executeInAtomSSBWin token: "+n.token+'\n\n"'+r+'"\n\n ret: '+u);return u};var _=u();return!!_};var f=438})()},4739:function(e,n){(function(){TS.registerModule("ui",{window_focus_changed_sig:new signals.Signal,window_unloaded_sig:new signals.Signal,onStart:function e(){$(window).bind("focus",TS.ui.onWindowFocus);$(window).bind("blur",TS.ui.onWindowBlur);t();$("html").bind("mousedown",function(){TS.ui.onWindowFocus({target:window})});var n=!!(document.hasFocus&&document.hasFocus());if(n)TS.ui.onWindowFocus({target:window});else TS.ui.onWindowBlur({target:window});if(TS.model.win_ssb_version)$("body").addClass("winssb");a()},setUpWindowUnloadHandlers:function e(){if("undefined"!==typeof window.addEventListener)window.addEventListener("beforeunload",TS.ui.onWindowUnload,false);else if("undefined"!==typeof document.addEventListener)document.addEventListener("beforeunload",TS.ui.onWindowUnload,false);else if("undefined"!==typeof window.attachEvent)window.attachEvent("onbeforeunload",TS.ui.onWindowUnload);else if("function"===typeof window.onbeforeunload)window.onbeforeunload=function(){TS.ui.onWindowUnload();return false};else window.onbeforeunload=TS.ui.onWindowUnload},onWindowUnload:function e(){if(TS.client)TS.client.markLastReadsWithAPI();TS.model.window_unloading=true;TS.ui.window_unloaded_sig.dispatch();TS.redux.dispatch(TS.interop.redux.models.window.setUnloading(true))},maybeTickleMS:function e(){if(!TS.client)return;TS.client.ui.maybeTickleMS()},handleDraghoverstartFromWinSSB:function e(){TS.ui.file_share.handleDraghoverstartFromWinSSB()},handleDraghoverendFromWinSSB:function e(){TS.ui.file_share.handleDraghoverendFromWinSSB()},handleDropFromWinSSB:function e(n){TS.ui.file_share.handleDropFromWinSSB(n)},teamSelectionChanged:function e(){if(!TS.useReactMessages())return;if(!window.desktop||!window.desktop.reduxHelper||!_.isFunction(window.desktop.reduxHelper.isSelectedTeam))return;var n=window.desktop.reduxHelper.isSelectedTeam();if(n)i();else o()},onWindowFocus:function e(n){if(n.target!==window&&n.target!==document)return;i()},onWindowBlur:function e(n){if(n.target!==window&&n.target!==document)return;o()},onWindowVisibilityChange:function e(n){if("hidden"===document.visibilityState)TS.ui.onWindowBlur(n);else if("visible"===document.visibilityState)TS.ui.onWindowFocus(n)},needToShowAtChannelWarning:function e(n,t){var r;var a=TS.format.cleanMsg(t);var i=TS.model.everyone_regex.test(a);var o=TS.model.channel_regex.test(a);var s=TS.model.group_regex.test(a);var l=!!TS.prefs.getPref("last_seen_at_channel_warning");var c=new Date(TS.prefs.getPref("last_seen_at_channel_warning"));var u=l&&TS.interop.datetime.isSameDay(c,new Date);if(!i&&!o&&!s)return false;r=TS.shared.getModelObById(n);if(!r||r.is_im)return false;if((o||s)&&!TS.permissions.members.canAtChannelOrGroup(r.id))return false;if(r.is_general&&i&&!TS.permissions.members.canAtMentionEveryone(r.id))return false;if("never"===TS.prefs.getTeamPref("warn_before_at_channel"))return false;if("once"===TS.prefs.getTeamPref("warn_before_at_channel")&&l)return false;if("daily"===TS.prefs.getTeamPref("warn_before_at_channel")&&u)return false;return true},needToBlockAtChannelKeyword:function e(n,t,r){if(TS.interop.utility.looksLikeMemberId(r))return false;var a=TS.format.cleanMsg(n);var i=r&&TS.shared.getModelObById(r);var o=i&&!i.is_im&&!i.is_mpim||t&&(t.channels.length||t.groups.length);if(!o)return false;var s=TS.model.everyone_regex.test(a);var l=TS.model.here_regex.test(a);var c=TS.model.channel_regex.test(a);var u=TS.model.group_regex.test(a);var f=false;if(i)f=!!i.is_general;else if(t&&0===t.groups.length&&1===t.channels.length){var _=TS.channels.getChannelById(t.channels[0]);f=!!_.is_general}if(f&&s&&!l&&!c&&!u)if(TS.permissions.members.canAtMentionEveryone(r))return false;if(!TS.permissions.members.canAtChannelOrGroup(r)){if(l)return"@here";if(c)return"@channel";if(u)return"@group";if(s)return"@everyone"}var d=i&&i.is_general;if(!d&&t&&t.channels)t.channels.forEach(function(e){var n=TS.channels.getChannelById(e);if(n&&n.is_general)d=true});if(d&&!TS.permissions.members.canAtMentionEveryone(r))if(s||l||u||c)return"@everyone";return false},startButtonSpinner:function e(n){TS.ui.resetButtonSpinner(n);var t=r(n);if(!t.isLoading())t.start()},stopButtonSpinner:function e(n,t){var a=r(n);if(a.isLoading()){a.stop();if(t){var i=$(n).find(".ladda-label").text();$(n).data("original_text",i);$(n).removeClass("").addClass("btn_success").find(".ladda-label").html('<i class="ts_icon ts_icon_check_circle_o small_right_margin"></i>'+TS.i18n.t("Saved","ui")())}}},resetButtonSpinner:function e(n){var t=r(n);if(t.isLoading())return;var a=$(n).data("original_text");if(a){$(n).find(".ladda-label").text(a);$(n).removeData("original_text");$(n).removeClass("btn_success").addClass("")}},showVersionInfo:function e(){var n="version_info";var t=new Date(1e3*TS.boot_data.version_ts)+" (<b>"+TS.boot_data.version_ts+"</b>)";TS.generic_dialog.start({title:TS.i18n.t("Version Info","ui")(),unique:n,body:TS.i18n.t('<p>This version: {version_num}</p><p class="latest_version checking">Checking for updates&hellip;</p>',"ui")({version_num:t}),show_cancel_button:false,go_button_class:"btn_outline",go_button_text:TS.i18n.t("Close","ui")(),show_secondary_go_button:false,onSecondaryGo:function e(){TS.reload(false,"TS.ui.showVersionsInfo dialog")}});TS.api.callImmediately("test.versionInfo").then(function(e){if(!TS.generic_dialog.is_showing||TS.generic_dialog.current_setting.unique!=n)return;var t=TS.generic_dialog.div.find(".latest_version");t.removeClass("checking");var r=e.data.version_ts.toString()==TS.boot_data.version_ts.toString();if(r)t.html(TS.i18n.t("Your copy of Slack is up-to-date! {tada_emoji}","ui")({tada_emoji:TS.emoji.graphicReplace(":tada:")}));else{TS.generic_dialog.div.find(".btn.dialog_secondary_go").removeClass("hidden").text("Update");var a=e.data.min_version_ts>TS.boot_data.version_ts;if(a)t.html(TS.i18n.t("An important new version of Slack is available. {sparkles_emoji}","ui")({sparkles_emoji:TS.emoji.graphicReplace(":sparkles:")}));else t.html(TS.i18n.t("A newer version of Slack is available. {sparkles_emoji}","ui")({sparkles_emoji:TS.emoji.graphicReplace(":sparkles:")}))}}).catch(_.noop)},setThemeClasses:function e(){$("body").removeClass("dense_theme light_theme");if("dense"===TS.prefs.getPref("theme"))$("body").addClass("dense_theme");else if("light"===TS.prefs.getPref("theme"))$("body").addClass("light_theme");else{TS.error("no theme?");return}if(TS.prefs.getPref("avatars"))$("body").removeClass("no_avatars");else $("body").addClass("no_avatars")}});var e;var n;var t=function t(){if(TS.useReactMessages())return;if("undefined"!==typeof document.hidden){n="hidden";e="visibilitychange"}else if("undefined"!==typeof document.msHidden){n="msHidden";e="msvisibilitychange"}else if("undefined"!==typeof document.webkitHidden){n="webkitHidden";e="webkitvisibilitychange"}if("undefined"!==typeof document[n])$(window).bind(e,TS.ui.onWindowVisibilityChange)};var r=function e(n){var t=$(n).data("ladda");if(!t){t=Ladda.create(n);$(n).data("ladda",t)}return t};var a=function e(){$("body").on("click.plastic_date",'input[type="text"][data-plastic-type="date"]',function(e){var n=$(e.target);if(!n.pickmeup)return;var t=!!n.closest("#fs_modal").length||$(this).data("flat");n.pickmeup({flat:t,first_day:window.moment.localeData().firstDayOfWeek()||0,hide_on_select:true,min:$(this).data("min")||null,max:$(this).data("max")||null,format:$(this).data("format")||"Y-m-d",class_name:"plastic_date_picker",hide:function e(){n.trigger("input")},title_format:"ja-JP"===TS.i18n.locale()?"Y年B":"B Y",locale:{days:window.moment.weekdays(),daysShort:window.moment.weekdaysShort(),daysMin:window.moment.weekdaysMin(),months:window.moment.months(),monthsShort:window.moment.monthsShort()}}).pickmeup("show");if(t){var r=n.data("picker");if(!r){r=$('<div class="position_relative no_margin no_padding"></div>');n.data("picker",r)}n.after(r.append(n.find(".pickmeup").detach()))}}).on("keydown.plastic_date",'input[type="text"][data-plastic-type="date"]',function(e){var n=$(e.target);if(!n.pickmeup)return;if(window.document.activeElement===e.target)n.pickmeup("hide")})};var i=function e(){if(TS.model.ui.is_window_focused)return;TS.model.shift_key_pressed=false;TS.model.insert_key_pressed=false;TS.model.ui.is_window_focused=true;if(TS.view)TS.view.updateTitleBarColor();TS.ui.window_focus_changed_sig.dispatch(true);TS.redux.dispatch(TS.interop.redux.models.window.updateFocus(true))};var o=function e(){if(!TS.model.ui.is_window_focused)return;TS.model.shift_key_pressed=false;TS.model.insert_key_pressed=false;TS.model.ui.is_window_focused=false;TS.ui.window_focus_changed_sig.dispatch(false);TS.redux.dispatch(TS.interop.redux.models.window.updateFocus(false))}})()},4740:function(e,n){(function(){TS.registerModule("ui.file_share",{handleDraghoverstartFromWinSSB:function e(){$(window).trigger("draghoverstart",[null,true])},handleDraghoverendFromWinSSB:function e(){$(window).trigger("draghoverend")},handleDropFromWinSSB:function e(n){TS.info("handleDropFromWinSSB called files:"+n);$("body").removeClass("drop-target");if(TS.client.ui.checkForEditing())return;if(!n||!n.length){TS.warn("handleDropFromWinSSB called with no files");return}TS.client.ui.files.validateFiles(n,TS.model.shift_key_pressed)},preselected:[],bindFileShareDropdowns:function i(o,s,l,c,u){var f=$("#select_share_channels");var d="60%";if(TS.web&&TS.web.space)d="100%";if(1!=f.length){alert("error: "+f.length+" $('#select_share_channels')s");return}TS.ui.file_share.preselected=c||[];n=l;t=s;var m=TS.ui.file_share.promiseToGetFileShareSelectOptions;if(u)m=a;e={append:true,single:true,data_promise:m,approx_item_height:30,tab_to_nav:true,placeholder_text:TS.i18n.t("Search channels and people ...","files"),template:function e(n){return new Handlebars.SafeString(TS.templates.file_sharing_channel_row({item:n.model_ob,show_share_prefix:o}))},onItemAdded:r,onListHidden:function e(){$("#select_share_channels .lfs_list_container").removeClass("new_channel_container")},renderDividerFunc:function e(n,t){if(t.create_channel){n.html(TS.i18n.t('<span class="new">No items matched <strong>{query}</strong></span>',"files")({query:_.escape(t.label)}));$("#select_share_channels .lfs_list_container").addClass("new_channel_container");return}$("#select_share_channels .lfs_list_container").removeClass("new_channel_container");n.html(_.escape(t.label)).removeClass("new_channel_not_found")},setValue:function e(n){var t;var r;var a=this.data.length;var i;for(t=0;t<a;t+=1){i=this.data[t].children.length;for(r=0;r<i;r+=1)if(this.data[t].children[r].model_ob.id===n){this.$container.find('.lfs_item[data-lfs-id="'+[t,r]+'"]').trigger("click");return}}}};f.lazyFilterSelect(e);f.css({width:d});f.one("remove",function(){t=false;$(this).lazyFilterSelect("destroy")});$("#file_sharing_div").on("keydown",function(e){if(13==e.keyCode)e.stopPropagation()});f.lazyFilterSelect("getInstance").current_items_in_view_signal.add(function(e){var n=e.filter(function(e){return e.model_ob&&Object.prototype.hasOwnProperty.call(e.model_ob,"presence")}).map(function(e){return e.model_ob.id});TS.presence_manager.queryMemberPresence(n)})},promiseToGetFileShareSelectOptions:function e(n){var r=i();return TS.searcher.search(n,{members:{include_self:true},channels:{include_archived:false,can_post:true},groups:{include_archived:false},mpims:true,sort:{allow_empty_query:true}}).then(function(e){var a=false;e.all_items_fetched=true;e.filter(function(e){return TS.permissions.members.canPostInChannel(e.model_ob)}).forEach(function(e){e.lfs_id=e.model_ob.id;e.preselected=o(e.model_ob.id,r);if(e.preselected)a=true});var i=r?TS.shared.getModelObById(r):false;if(!n&&!a&&i)if(_.get(i,"is_im")){var l=TS.members.getMemberById(i.user);e.push({preselected:true,lfs_id:l.id,model_ob:l})}else if(i)if(TS.permissions.members.canPostInChannel(i))e.push({preselected:true,lfs_id:i.id,model_ob:i});if(i){TS.ui.share_message_dialog.maybeToggleSharedChannelsWarning(t,i);s(i)}var c=_(e).map("model_ob").filter(TS.utility.members.isMember).map("id").compact().value();TS.presence_manager.queryMemberPresence(c);return e})},bindFileShareShareToggle:function e(){$("#share_cb").bind("click.toggle_select_list",function(){if($(this).prop("checked"))$(".file_share_select").prop("disabled",false);else $(".file_share_select").prop("disabled",true);TS.ui.file_share.updateAtChannelWarningNote();TS.ui.file_share.updateAtChannelBlockedNote()})},bindFileShareCommentField:function e(){$("#file_comment_textarea").bind("keyup",function(){TS.ui.file_share.updateAtChannelWarningNote();TS.ui.file_share.updateAtChannelBlockedNote()})},updateAtChannelWarningNote:function e(n){var t=TS.utility.contenteditable.value($("#file_comment_textarea"));var r;var a=$("#select_share_channels").lazyFilterSelect("value")[0];var i;if(a)r=a.model_ob.id||"";var o=$("#select_share_at_channel_note");if(TS.ui.needToShowAtChannelWarning(r,t)){var s=TS.format.cleanMsg(t);var l="";var c=true;if(TS.model.everyone_regex.test(s))l="everyone";else if(TS.model.channel_regex.test(s))l="channel";else if(TS.model.group_regex.test(s))l="group";var u=TS.shared.getModelObById(r);if(!u||u.is_im)c=false;if(c&&!TS.members.haveAllMembersForModelOb(u)&&!n){var f=TS.membership.getMembershipCounts(u);if(f.promise){i=0;f.promise.then(TS.ui.file_share.updateAtChannelWarningNote);c=false}else{i=_.get(f,"counts.member_count",1);i-=1}}var d=[];if(_.isUndefined(i))if(c&&u&&!u.is_im){d=_(u.members).map(TS.members.getMemberById).compact().filter(TS.utility.members.isMemberNonBotNonDeletedNonSelf).sortBy(TS.members.memberSorterByName).value();if(d.length<1)c=false}if(c){var m=TS.templates.at_channel_warning_note({keyword:l,member_count:_.isUndefined(i)?d.length:i});o.html(m);o.removeClass("hidden");return}}o.addClass("hidden")},updateAtChannelBlockedNote:function e(){var n=TS.utility.contenteditable.value($("#file_comment_textarea"));var t;var r=$("#select_share_channels").lazyFilterSelect("value")[0];var a=$("#share_cb");var i=0===a.length||a.is(":checked");if(r&&i)t=r.model_ob.id;var o=$("#select_share_at_channel_blocked_note");var s=$(".modal .btn.dialog_go");var l;if(!TS.interop.utility.looksLikeMemberId(t))l=TS.ui.needToBlockAtChannelKeyword(n,null,t);if(l){o.html(TS.templates.at_channel_blocked_note({keyword:l}));o.removeClass("hidden");s.addClass("disabled")}else{o.addClass("hidden");s.removeClass("disabled")}},shouldBlockUploadDialogSubmission:function e(){var n=TS.utility.contenteditable.value($("#file_comment_textarea"));var t;var r=$("#select_share_channels").lazyFilterSelect("value")[0];var a=$("#share_cb");var i=0===a.length||a.is(":checked");if(r&&i)t=r.model_ob.id;var o;if(!TS.interop.utility.looksLikeMemberId(t))o=TS.ui.needToBlockAtChannelKeyword(n,null,t);if(o){TS.info("Can't submit dialog because comment contains "+o);return true}return false},fileShowPublicUrlDialog:function e(n){var t=l(n);if(!t||!t.public_url_shared)return;var r=$('<input type="text" id="public_url" class="full_width small">').attr("value",t.permalink_public)[0].outerHTML;var a;if(TS.boot_data.feature_external_files)a=TS.i18n.t('External link to this file <p style="display: inline-block;font-weight: 400"> (shareable with anyone) </p>',"files")();else a=TS.i18n.t("Public link to this file","files")();TS.generic_dialog.start({title:a,body:r,show_cancel_button:false,show_close_button:true,show_secondary_go_button:true,secondary_go_button_class:"btn_outline",secondary_go_button_text:TS.i18n.t("Revoke","files")(),show_go_button:true,go_button_text:TS.i18n.t("Done","files")(),esc_for_ok:true,onSecondaryGo:function e(){TS.ui.file_share.fileRevokePublicLink(t.id)},onGo:function e(){TS.generic_dialog.cancel()},onShow:function e(){TS.generic_dialog.div.on("shown",function e(){TS.generic_dialog.div.off("shown",e);$("#public_url").select().focus().on("keydown",function(e){if(e.which==TS.utility.keymap.esc)TS.generic_dialog.cancel()})})}})},fileRevokePublicLink:function e(n){var t=TS.files.getFileById(n);if(!t)return false;var r;var a;if(TS.boot_data.feature_external_files){r=TS.i18n.t("Revoke external file link","files")();a='<p class="no_bottom_margin">'+TS.i18n.t("This will disable the external link for this file. Any previously shared links will stop working.<br /><br />Are you sure you want to revoke this link?","files")()+"</p>"}else{r=TS.i18n.t("Revoke public file link","files")();a='<p class="no_bottom_margin">'+TS.i18n.t("This will disable the Public Link for this file. This will cause any previously shared links to stop working.<br /><br />Are you sure you want to revoke this public link?","files")()+"</p>"}TS.generic_dialog.start({title:r,body:a,go_button_text:TS.i18n.t("Revoke it","files")(),go_button_class:"btn_warning",onGo:function e(){TS.files.upsertAndSignal({id:t.id,public_url_shared:false});TS.api.callImmediately("files.revokePublicURL",{file:t.id})}})},test:function e(){var e={};Object.defineProperty(e,"_author",{get:function e(){return t},set:function e(n){t=n}});Object.defineProperty(e,"_populateDisabledInputMsg",{get:function e(){return s},set:function e(n){s=n}});return e}});var e={};var n=false;var t=false;var r=function e(n){$("#select_share_channels .lfs_input_container").removeClass("error");if(n.model_ob.create_channel){$("#select_share_channels_note").removeClass("hidden");$("#select_share_channels .lfs_value .lfs_item").addClass("new_channel_item");$(".modal .dialog_go").text(TS.i18n.t("Next","files")());TS.metrics.count("share_picker_create_clicked");return}$("#select_share_channels .lfs_value .lfs_item").removeClass("new_channel_item");$(".modal .dialog_go").text(TS.i18n.t("Share","files")());var r;r=n.model_ob.id;if(!r)return;$("#share_model_ob_id").val(r);$("#select_share_channel_warning, #select_share_channels_join_note").addClass("hidden");var a=n.model_ob||{};if(TS.interop.utility.looksLikeMemberId(a.id))a=TS.ims.getImByMemberId(a.id)||a;TS.ui.share_message_dialog.maybeToggleSharedChannelsWarning(t,a);s(a);var i=TS.shared.isModelObShared(a)||t&&TS.utility.teams.isMemberExternal(t);if(i){$('label[for="file_comment_textarea"]').addClass("subtle_silver");TS.utility.contenteditable.disable($("#share_dialog #file_comment_textarea"));$("#select_share_at_channel_list").addClass("subtle_silver")}else{$('label[for="file_comment_textarea"]').removeClass("subtle_silver");TS.utility.contenteditable.enable($("#share_dialog #file_comment_textarea"));$("#select_share_at_channel_list").removeClass("subtle_silver")}if(TS.shared.isModelObShared(a)&&a.shared_team_ids&&a.shared_team_ids.length){$("#select_share_channel_warning").removeClass("hidden");var o=TS.i18n.listify(_.map(a.shared_team_ids,TS.teams.getTeamNameById)).join("");$("#select_share_channel_warning_text").html(TS.i18n.t("<strong>This is a shared channel.</strong> Messages and files sent here will be seen by members of <strong>{shared_teams_list}</strong>.","shared_channels")({shared_teams_list:o}))}if(a.is_im||a.is_mpim)$("#share_context_label").text(TS.i18n.t("Share with","files")());else{$("#share_context_label").text(TS.i18n.t("Share in","files")());if(a.channel&&!a.is_member)$("#select_share_channels_join_note").removeClass("hidden")}$("#share_cb").prop("checked",true);if(!i){TS.ui.file_share.updateAtChannelWarningNote();TS.ui.file_share.updateAtChannelBlockedNote()}};var a=function e(n){return TS.ui.file_share.promiseToGetFileShareSelectOptions(n).then(function(e){$("#select_share_channels .lfs_list_container").removeClass("new_channel_container");if(0===e.length){var t=TS.utility.channels.getPermissibleChannelName(n);if(t){e.push({lfs_group:true,label:n,create_channel:true,children:[{lfs_id:"c."+t,model_ob:{create_channel:true,name:t}}]});$("#select_share_channels .lfs_list_container").addClass("new_channel_container");TS.metrics.count("share_picker_create_shown")}}return e})};var i=function e(){if(TS.client&&TS.client.activeChannelIsHidden()){if(n)return n.id}else{var t=TS.shared.getActiveModelOb();if(t)return t.id}if(TS.web&&TS.web.space)return TS.web.space.getOriginChannel();return null};var o=function e(n,t){return TS.ui.file_share.preselected.length?TS.ui.file_share.preselected.indexOf(n)>-1:n===t};var s=function e(n){if(!_.isObject(n))return;if(TS.interop.utility.looksLikeMemberId(n.id))n=TS.ims.getImByMemberId(n.id)||n;var r="";if(t&&TS.utility.teams.isMemberExternal(t))r=TS.i18n.t("Only members of {team_name} can comment on this file.","shared_channels")({team_name:TS.teams.getTeamNameByMember(t)});else if(n.is_channel||n.is_group)r=TS.i18n.t("Comments are disabled in shared channels.","shared_channels")();else r=TS.i18n.t("Comments are disabled when sharing with another workspace.","shared_channels")();$("#file_comment_textarea").attr("data-disabled-text",r)};var l=function e(n){return _.isString(n)?TS.files.getFileById(n):n}})()},5123:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});n["compareVersions"]=r;function r(e,n){if(!e.major)e.major=0;if(!e.minor)e.minor=0;if(!e.patch)e.patch=0;if(!n.major)n.major=0;if(!n.minor)n.minor=0;if(!n.patch)n.patch=0;if(e.major===n.major){if(e.minor==n.minor){if(e.patch==n.patch)return 0;return e.patch>n.patch?1:-1}return e.minor>n.minor?1:-1}return e.major>n.major?1:-1}},57:function(e,n){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},7:function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){if("object"===typeof window)t=window}e.exports=t},87:function(e,n,t){(function(e,r){var a;(function(){var i;var o="4.17.4";var s=200;var l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function";var u="__lodash_hash_undefined__";var f=500;var _="__lodash_placeholder__";var d=1,m=2,g=4;var p=1,h=2;var v=1,S=2,b=4,T=8,w=16,y=32,k=64,j=128,x=256,O=512;var E=30,A="...";var C=800,I=16;var L=1,B=2,M=3;var z=1/0,F=9007199254740991,P=1.7976931348623157e308,U=NaN;var W=4294967295,D=W-1,q=W>>>1;var R=[["ary",j],["bind",v],["bindKey",S],["curry",T],["curryRight",w],["flip",O],["partial",y],["partialRight",k],["rearg",x]];var N="[object Arguments]",$="[object Array]",V="[object AsyncFunction]",J="[object Boolean]",G="[object Date]",K="[object DOMException]",H="[object Error]",Q="[object Function]",Y="[object GeneratorFunction]",Z="[object Map]",X="[object Number]",ee="[object Null]",ne="[object Object]",te="[object Promise]",re="[object Proxy]",ae="[object RegExp]",ie="[object Set]",oe="[object String]",se="[object Symbol]",le="[object Undefined]",ce="[object WeakMap]",ue="[object WeakSet]";var fe="[object ArrayBuffer]",_e="[object DataView]",de="[object Float32Array]",me="[object Float64Array]",ge="[object Int8Array]",pe="[object Int16Array]",he="[object Int32Array]",ve="[object Uint8Array]",Se="[object Uint8ClampedArray]",be="[object Uint16Array]",Te="[object Uint32Array]";var we=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var je=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,Oe=RegExp(je.source),Ee=RegExp(xe.source);var Ae=/<%-([\s\S]+?)%>/g,Ce=/<%([\s\S]+?)%>/g,Ie=/<%=([\s\S]+?)%>/g;var Le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Be=/^\w*$/,Me=/^\./,ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var Fe=/[\\^$.*+?()[\]{}|]/g,Pe=RegExp(Fe.source);var Ue=/^\s+|\s+$/g,We=/^\s+/,De=/\s+$/;var qe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Re=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /;var $e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Ve=/\\(\\)?/g;var Je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var Ge=/\w*$/;var Ke=/^[-+]0x[0-9a-f]+$/i;var He=/^0b[01]+$/i;var Qe=/^\[object .+?Constructor\]$/;var Ye=/^0o[0-7]+$/i;var Ze=/^(?:0|[1-9]\d*)$/;var Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var en=/($^)/;var nn=/['\n\r\u2028\u2029\\]/g;var tn="\\ud800-\\udfff",rn="\\u0300-\\u036f",an="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",sn=rn+an+on,ln="\\u2700-\\u27bf",cn="a-z\\xdf-\\xf6\\xf8-\\xff",un="\\xac\\xb1\\xd7\\xf7",fn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_n="\\u2000-\\u206f",dn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mn="A-Z\\xc0-\\xd6\\xd8-\\xde",gn="\\ufe0e\\ufe0f",pn=un+fn+_n+dn;var hn="['’]",vn="["+tn+"]",Sn="["+pn+"]",bn="["+sn+"]",Tn="\\d+",wn="["+ln+"]",yn="["+cn+"]",kn="[^"+tn+pn+Tn+ln+cn+mn+"]",jn="\\ud83c[\\udffb-\\udfff]",xn="(?:"+bn+"|"+jn+")",On="[^"+tn+"]",En="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",Cn="["+mn+"]",In="\\u200d";var Ln="(?:"+yn+"|"+kn+")",Bn="(?:"+Cn+"|"+kn+")",Mn="(?:"+hn+"(?:d|ll|m|re|s|t|ve))?",zn="(?:"+hn+"(?:D|LL|M|RE|S|T|VE))?",Fn=xn+"?",Pn="["+gn+"]?",Un="(?:"+In+"(?:"+[On,En,An].join("|")+")"+Pn+Fn+")*",Wn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Dn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",qn=Pn+Fn+Un,Rn="(?:"+[wn,En,An].join("|")+")"+qn,Nn="(?:"+[On+bn+"?",bn,En,An,vn].join("|")+")";var $n=RegExp(hn,"g");var Vn=RegExp(bn,"g");var Jn=RegExp(jn+"(?="+jn+")|"+Nn+qn,"g");var Gn=RegExp([Cn+"?"+yn+"+"+Mn+"(?="+[Sn,Cn,"$"].join("|")+")",Bn+"+"+zn+"(?="+[Sn,Cn+Ln,"$"].join("|")+")",Cn+"?"+Ln+"+"+Mn,Cn+"+"+zn,Dn,Wn,Tn,Rn].join("|"),"g");var Kn=RegExp("["+In+tn+sn+gn+"]");var Hn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Qn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var Yn=-1;var Zn={};Zn[de]=Zn[me]=Zn[ge]=Zn[pe]=Zn[he]=Zn[ve]=Zn[Se]=Zn[be]=Zn[Te]=true;Zn[N]=Zn[$]=Zn[fe]=Zn[J]=Zn[_e]=Zn[G]=Zn[H]=Zn[Q]=Zn[Z]=Zn[X]=Zn[ne]=Zn[ae]=Zn[ie]=Zn[oe]=Zn[ce]=false;var Xn={};Xn[N]=Xn[$]=Xn[fe]=Xn[_e]=Xn[J]=Xn[G]=Xn[de]=Xn[me]=Xn[ge]=Xn[pe]=Xn[he]=Xn[Z]=Xn[X]=Xn[ne]=Xn[ae]=Xn[ie]=Xn[oe]=Xn[se]=Xn[ve]=Xn[Se]=Xn[be]=Xn[Te]=true;Xn[H]=Xn[Q]=Xn[ce]=false;var et={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};var nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var tt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var rt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var at=parseFloat,it=parseInt;var ot="object"==typeof e&&e&&e.Object===Object&&e;var st="object"==typeof self&&self&&self.Object===Object&&self;var lt=ot||st||Function("return this")();var ct="object"==typeof n&&n&&!n.nodeType&&n;var ut=ct&&"object"==typeof r&&r&&!r.nodeType&&r;var ft=ut&&ut.exports===ct;var _t=ft&&ot.process;var dt=function(){try{return _t&&_t.binding&&_t.binding("util")}catch(e){}}();var mt=dt&&dt.isArrayBuffer,gt=dt&&dt.isDate,pt=dt&&dt.isMap,ht=dt&&dt.isRegExp,vt=dt&&dt.isSet,St=dt&&dt.isTypedArray;function bt(e,n){e.set(n[0],n[1]);return e}function Tt(e,n){e.add(n);return e}function wt(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function yt(e,n,t,r){var a=-1,i=null==e?0:e.length;while(++a<i){var o=e[a];n(r,o,t(o),e)}return r}function kt(e,n){var t=-1,r=null==e?0:e.length;while(++t<r)if(false===n(e[t],t,e))break;return e}function jt(e,n){var t=null==e?0:e.length;while(t--)if(false===n(e[t],t,e))break;return e}function xt(e,n){var t=-1,r=null==e?0:e.length;while(++t<r)if(!n(e[t],t,e))return false;return true}function Ot(e,n){var t=-1,r=null==e?0:e.length,a=0,i=[];while(++t<r){var o=e[t];if(n(o,t,e))i[a++]=o}return i}function Et(e,n){var t=null==e?0:e.length;return!!t&&Dt(e,n,0)>-1}function At(e,n,t){var r=-1,a=null==e?0:e.length;while(++r<a)if(t(n,e[r]))return true;return false}function Ct(e,n){var t=-1,r=null==e?0:e.length,a=Array(r);while(++t<r)a[t]=n(e[t],t,e);return a}function It(e,n){var t=-1,r=n.length,a=e.length;while(++t<r)e[a+t]=n[t];return e}function Lt(e,n,t,r){var a=-1,i=null==e?0:e.length;if(r&&i)t=e[++a];while(++a<i)t=n(t,e[a],a,e);return t}function Bt(e,n,t,r){var a=null==e?0:e.length;if(r&&a)t=e[--a];while(a--)t=n(t,e[a],a,e);return t}function Mt(e,n){var t=-1,r=null==e?0:e.length;while(++t<r)if(n(e[t],t,e))return true;return false}var zt=$t("length");function Ft(e){return e.split("")}function Pt(e){return e.match($e)||[]}function Ut(e,n,t){var r;t(e,function(e,t,a){if(n(e,t,a)){r=t;return false}});return r}function Wt(e,n,t,r){var a=e.length,i=t+(r?1:-1);while(r?i--:++i<a)if(n(e[i],i,e))return i;return-1}function Dt(e,n,t){return n===n?gr(e,n,t):Wt(e,Rt,t)}function qt(e,n,t,r){var a=t-1,i=e.length;while(++a<i)if(r(e[a],n))return a;return-1}function Rt(e){return e!==e}function Nt(e,n){var t=null==e?0:e.length;return t?Kt(e,n)/t:U}function $t(e){return function(n){return null==n?i:n[e]}}function Vt(e){return function(n){return null==e?i:e[n]}}function Jt(e,n,t,r,a){a(e,function(e,a,i){t=r?(r=false,e):n(t,e,a,i)});return t}function Gt(e,n){var t=e.length;e.sort(n);while(t--)e[t]=e[t].value;return e}function Kt(e,n){var t,r=-1,a=e.length;while(++r<a){var o=n(e[r]);if(o!==i)t=t===i?o:t+o}return t}function Ht(e,n){var t=-1,r=Array(e);while(++t<e)r[t]=n(t);return r}function Qt(e,n){return Ct(n,function(n){return[n,e[n]]})}function Yt(e){return function(n){return e(n)}}function Zt(e,n){return Ct(n,function(n){return e[n]})}function Xt(e,n){return e.has(n)}function er(e,n){var t=-1,r=e.length;while(++t<r&&Dt(n,e[t],0)>-1);return t}function nr(e,n){var t=e.length;while(t--&&Dt(n,e[t],0)>-1);return t}function tr(e,n){var t=e.length,r=0;while(t--)if(e[t]===n)++r;return r}var rr=Vt(et);var ar=Vt(nt);function ir(e){return"\\"+rt[e]}function or(e,n){return null==e?i:e[n]}function sr(e){return Kn.test(e)}function lr(e){return Hn.test(e)}function cr(e){var n,t=[];while(!(n=e.next()).done)t.push(n.value);return t}function ur(e){var n=-1,t=Array(e.size);e.forEach(function(e,r){t[++n]=[r,e]});return t}function fr(e,n){return function(t){return e(n(t))}}function _r(e,n){var t=-1,r=e.length,a=0,i=[];while(++t<r){var o=e[t];if(o===n||o===_){e[t]=_;i[a++]=t}}return i}function dr(e){var n=-1,t=Array(e.size);e.forEach(function(e){t[++n]=e});return t}function mr(e){var n=-1,t=Array(e.size);e.forEach(function(e){t[++n]=[e,e]});return t}function gr(e,n,t){var r=t-1,a=e.length;while(++r<a)if(e[r]===n)return r;return-1}function pr(e,n,t){var r=t+1;while(r--)if(e[r]===n)return r;return r}function hr(e){return sr(e)?br(e):zt(e)}function vr(e){return sr(e)?Tr(e):Ft(e)}var Sr=Vt(tt);function br(e){var n=Jn.lastIndex=0;while(Jn.test(e))++n;return n}function Tr(e){return e.match(Jn)||[]}function wr(e){return e.match(Gn)||[]}var yr=function e(n){n=null==n?lt:kr.defaults(lt.Object(),n,kr.pick(lt,Qn));var t=n.Array,r=n.Date,a=n.Error,$e=n.Function,tn=n.Math,rn=n.Object,an=n.RegExp,on=n.String,sn=n.TypeError;var ln=t.prototype,cn=$e.prototype,un=rn.prototype;var fn=n["__core-js_shared__"];var _n=cn.toString;var dn=un.hasOwnProperty;var mn=0;var gn=function(){var e=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var pn=un.toString;var hn=_n.call(rn);var vn=lt._;var Sn=an("^"+_n.call(dn).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var bn=ft?n.Buffer:i,Tn=n.Symbol,wn=n.Uint8Array,yn=bn?bn.allocUnsafe:i,kn=fr(rn.getPrototypeOf,rn),jn=rn.create,xn=un.propertyIsEnumerable,On=ln.splice,En=Tn?Tn.isConcatSpreadable:i,An=Tn?Tn.iterator:i,Cn=Tn?Tn.toStringTag:i;var In=function(){try{var e=Qo(rn,"defineProperty");e({},"",{});return e}catch(e){}}();var Ln=n.clearTimeout!==lt.clearTimeout&&n.clearTimeout,Bn=r&&r.now!==lt.Date.now&&r.now,Mn=n.setTimeout!==lt.setTimeout&&n.setTimeout;var zn=tn.ceil,Fn=tn.floor,Pn=rn.getOwnPropertySymbols,Un=bn?bn.isBuffer:i,Wn=n.isFinite,Dn=ln.join,qn=fr(rn.keys,rn),Rn=tn.max,Nn=tn.min,Jn=r.now,Gn=n.parseInt,Kn=tn.random,Hn=ln.reverse;var et=Qo(n,"DataView"),nt=Qo(n,"Map"),tt=Qo(n,"Promise"),rt=Qo(n,"Set"),ot=Qo(n,"WeakMap"),st=Qo(rn,"create");var ct=ot&&new ot;var ut={};var _t=Ms(et),dt=Ms(nt),zt=Ms(tt),Ft=Ms(rt),Vt=Ms(ot);var gr=Tn?Tn.prototype:i,br=gr?gr.valueOf:i,Tr=gr?gr.toString:i;function yr(e){if(Ou(e)&&!uu(e)&&!(e instanceof Er)){if(e instanceof Or)return e;if(dn.call(e,"__wrapped__"))return Fs(e)}return new Or(e)}var jr=function(){function e(){}return function(n){if(!xu(n))return{};if(jn)return jn(n);e.prototype=n;var t=new e;e.prototype=i;return t}}();function xr(){}function Or(e,n){this.__wrapped__=e;this.__actions__=[];this.__chain__=!!n;this.__index__=0;this.__values__=i}yr.templateSettings={escape:Ae,evaluate:Ce,interpolate:Ie,variable:"",imports:{_:yr}};yr.prototype=xr.prototype;yr.prototype.constructor=yr;Or.prototype=jr(xr.prototype);Or.prototype.constructor=Or;function Er(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=W;this.__views__=[]}function Ar(){var e=new Er(this.__wrapped__);e.__actions__=oo(this.__actions__);e.__dir__=this.__dir__;e.__filtered__=this.__filtered__;e.__iteratees__=oo(this.__iteratees__);e.__takeCount__=this.__takeCount__;e.__views__=oo(this.__views__);return e}function Cr(){if(this.__filtered__){var e=new Er(this);e.__dir__=-1;e.__filtered__=true}else{e=this.clone();e.__dir__*=-1}return e}function Ir(){var e=this.__wrapped__.value(),n=this.__dir__,t=uu(e),r=n<0,a=t?e.length:0,i=ns(0,a,this.__views__),o=i.start,s=i.end,l=s-o,c=r?s:o-1,u=this.__iteratees__,f=u.length,_=0,d=Nn(l,this.__takeCount__);if(!t||!r&&a==l&&d==l)return Wi(e,this.__actions__);var m=[];e:while(l--&&_<d){c+=n;var g=-1,p=e[c];while(++g<f){var h=u[g],v=h.iteratee,S=h.type,b=v(p);if(S==B)p=b;else if(!b)if(S==L)continue e;else break e}m[_++]=p}return m}Er.prototype=jr(xr.prototype);Er.prototype.constructor=Er;function Lr(e){var n=-1,t=null==e?0:e.length;this.clear();while(++n<t){var r=e[n];this.set(r[0],r[1])}}function Br(){this.__data__=st?st(null):{};this.size=0}function Mr(e){var n=this.has(e)&&delete this.__data__[e];this.size-=n?1:0;return n}function zr(e){var n=this.__data__;if(st){var t=n[e];return t===u?i:t}return dn.call(n,e)?n[e]:i}function Fr(e){var n=this.__data__;return st?n[e]!==i:dn.call(n,e)}function Pr(e,n){var t=this.__data__;this.size+=this.has(e)?0:1;t[e]=st&&n===i?u:n;return this}Lr.prototype.clear=Br;Lr.prototype["delete"]=Mr;Lr.prototype.get=zr;Lr.prototype.has=Fr;Lr.prototype.set=Pr;function Ur(e){var n=-1,t=null==e?0:e.length;this.clear();while(++n<t){var r=e[n];this.set(r[0],r[1])}}function Wr(){this.__data__=[];this.size=0}function Dr(e){var n=this.__data__,t=fa(n,e);if(t<0)return false;var r=n.length-1;if(t==r)n.pop();else On.call(n,t,1);--this.size;return true}function qr(e){var n=this.__data__,t=fa(n,e);return t<0?i:n[t][1]}function Rr(e){return fa(this.__data__,e)>-1}function Nr(e,n){var t=this.__data__,r=fa(t,e);if(r<0){++this.size;t.push([e,n])}else t[r][1]=n;return this}Ur.prototype.clear=Wr;Ur.prototype["delete"]=Dr;Ur.prototype.get=qr;Ur.prototype.has=Rr;Ur.prototype.set=Nr;function $r(e){var n=-1,t=null==e?0:e.length;this.clear();while(++n<t){var r=e[n];this.set(r[0],r[1])}}function Vr(){this.size=0;this.__data__={hash:new Lr,map:new(nt||Ur),string:new Lr}}function Jr(e){var n=Ko(this,e)["delete"](e);this.size-=n?1:0;return n}function Gr(e){return Ko(this,e).get(e)}function Kr(e){return Ko(this,e).has(e)}function Hr(e,n){var t=Ko(this,e),r=t.size;t.set(e,n);this.size+=t.size==r?0:1;return this}$r.prototype.clear=Vr;$r.prototype["delete"]=Jr;$r.prototype.get=Gr;$r.prototype.has=Kr;$r.prototype.set=Hr;function Qr(e){var n=-1,t=null==e?0:e.length;this.__data__=new $r;while(++n<t)this.add(e[n])}function Yr(e){this.__data__.set(e,u);return this}function Zr(e){return this.__data__.has(e)}Qr.prototype.add=Qr.prototype.push=Yr;Qr.prototype.has=Zr;function Xr(e){var n=this.__data__=new Ur(e);this.size=n.size}function ea(){this.__data__=new Ur;this.size=0}function na(e){var n=this.__data__,t=n["delete"](e);this.size=n.size;return t}function ta(e){return this.__data__.get(e)}function ra(e){return this.__data__.has(e)}function aa(e,n){var t=this.__data__;if(t instanceof Ur){var r=t.__data__;if(!nt||r.length<s-1){r.push([e,n]);this.size=++t.size;return this}t=this.__data__=new $r(r)}t.set(e,n);this.size=t.size;return this}Xr.prototype.clear=ea;Xr.prototype["delete"]=na;Xr.prototype.get=ta;Xr.prototype.has=ra;Xr.prototype.set=aa;function ia(e,n){var t=uu(e),r=!t&&cu(e),a=!t&&!r&&gu(e),i=!t&&!r&&!a&&Ru(e),o=t||r||a||i,s=o?Ht(e.length,on):[],l=s.length;for(var c in e)if((n||dn.call(e,c))&&!(o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||cs(c,l))))s.push(c);return s}function oa(e){var n=e.length;return n?e[vi(0,n-1)]:i}function sa(e,n){return Is(oo(e),ha(n,0,e.length))}function la(e){return Is(oo(e))}function ca(e,n,t){if(t!==i&&!ou(e[n],t)||t===i&&!(n in e))ga(e,n,t)}function ua(e,n,t){var r=e[n];if(!(dn.call(e,n)&&ou(r,t))||t===i&&!(n in e))ga(e,n,t)}function fa(e,n){var t=e.length;while(t--)if(ou(e[t][0],n))return t;return-1}function _a(e,n,t,r){ya(e,function(e,a,i){n(r,e,t(e),i)});return r}function da(e,n){return e&&so(n,jf(n),e)}function ma(e,n){return e&&so(n,xf(n),e)}function ga(e,n,t){if("__proto__"==n&&In)In(e,n,{configurable:true,enumerable:true,value:t,writable:true});else e[n]=t}function pa(e,n){var r=-1,a=n.length,o=t(a),s=null==e;while(++r<a)o[r]=s?i:Sf(e,n[r]);return o}function ha(e,n,t){if(e===e){if(t!==i)e=e<=t?e:t;if(n!==i)e=e>=n?e:n}return e}function va(e,n,t,r,a,o){var s,l=n&d,c=n&m,u=n&g;if(t)s=a?t(e,r,a,o):t(e);if(s!==i)return s;if(!xu(e))return e;var f=uu(e);if(f){s=as(e);if(!l)return oo(e,s)}else{var _=es(e),p=_==Q||_==Y;if(gu(e))return Ki(e,l);if(_==ne||_==N||p&&!a){s=c||p?{}:is(e);if(!l)return c?co(e,ma(s,e)):lo(e,da(s,e))}else{if(!Xn[_])return a?e:{};s=os(e,_,va,l)}}o||(o=new Xr);var h=o.get(e);if(h)return h;o.set(e,s);var v=u?c?No:Ro:c?xf:jf;var S=f?i:v(e);kt(S||e,function(r,a){if(S){a=r;r=e[a]}ua(s,a,va(r,n,t,a,e,o))});return s}function Sa(e){var n=jf(e);return function(t){return ba(t,e,n)}}function ba(e,n,t){var r=t.length;if(null==e)return!r;e=rn(e);while(r--){var a=t[r],o=n[a],s=e[a];if(s===i&&!(a in e)||!o(s))return false}return true}function Ta(e,n,t){if("function"!=typeof e)throw new sn(c);return Os(function(){e.apply(i,t)},n)}function wa(e,n,t,r){var a=-1,i=Et,o=true,l=e.length,c=[],u=n.length;if(!l)return c;if(t)n=Ct(n,Yt(t));if(r){i=At;o=false}else if(n.length>=s){i=Xt;o=false;n=new Qr(n)}e:while(++a<l){var f=e[a],_=null==t?f:t(f);f=r||0!==f?f:0;if(o&&_===_){var d=u;while(d--)if(n[d]===_)continue e;c.push(f)}else if(!i(n,_,r))c.push(f)}return c}var ya=_o(La);var ka=_o(Ba,true);function ja(e,n){var t=true;ya(e,function(e,r,a){t=!!n(e,r,a);return t});return t}function xa(e,n,t){var r=-1,a=e.length;while(++r<a){var o=e[r],s=n(o);if(null!=s&&(l===i?s===s&&!qu(s):t(s,l)))var l=s,c=o}return c}function Oa(e,n,t,r){var a=e.length;t=Qu(t);if(t<0)t=-t>a?0:a+t;r=r===i||r>a?a:Qu(r);if(r<0)r+=a;r=t>r?0:Yu(r);while(t<r)e[t++]=n;return e}function Ea(e,n){var t=[];ya(e,function(e,r,a){if(n(e,r,a))t.push(e)});return t}function Aa(e,n,t,r,a){var i=-1,o=e.length;t||(t=ls);a||(a=[]);while(++i<o){var s=e[i];if(n>0&&t(s))if(n>1)Aa(s,n-1,t,r,a);else It(a,s);else if(!r)a[a.length]=s}return a}var Ca=mo();var Ia=mo(true);function La(e,n){return e&&Ca(e,n,jf)}function Ba(e,n){return e&&Ia(e,n,jf)}function Ma(e,n){return Ot(n,function(n){return yu(e[n])})}function za(e,n){n=$i(n,e);var t=0,r=n.length;while(null!=e&&t<r)e=e[Bs(n[t++])];return t&&t==r?e:i}function Fa(e,n,t){var r=n(e);return uu(e)?r:It(r,t(e))}function Pa(e){if(null==e)return e===i?le:ee;return Cn&&Cn in rn(e)?Yo(e):ws(e)}function Ua(e,n){return e>n}function Wa(e,n){return null!=e&&dn.call(e,n)}function Da(e,n){return null!=e&&n in rn(e)}function qa(e,n,t){return e>=Nn(n,t)&&e<Rn(n,t)}function Ra(e,n,r){var a=r?At:Et,o=e[0].length,s=e.length,l=s,c=t(s),u=Infinity,f=[];while(l--){var _=e[l];if(l&&n)_=Ct(_,Yt(n));u=Nn(_.length,u);c[l]=!r&&(n||o>=120&&_.length>=120)?new Qr(l&&_):i}_=e[0];var d=-1,m=c[0];e:while(++d<o&&f.length<u){var g=_[d],p=n?n(g):g;g=r||0!==g?g:0;if(!(m?Xt(m,p):a(f,p,r))){l=s;while(--l){var h=c[l];if(!(h?Xt(h,p):a(e[l],p,r)))continue e}if(m)m.push(p);f.push(g)}}return f}function Na(e,n,t,r){La(e,function(e,a,i){n(r,t(e),a,i)});return r}function $a(e,n,t){n=$i(n,e);e=ks(e,n);var r=null==e?e:e[Bs(sl(n))];return null==r?i:wt(r,e,t)}function Va(e){return Ou(e)&&Pa(e)==N}function Ja(e){return Ou(e)&&Pa(e)==fe}function Ga(e){return Ou(e)&&Pa(e)==G}function Ka(e,n,t,r,a){if(e===n)return true;if(null==e||null==n||!Ou(e)&&!Ou(n))return e!==e&&n!==n;return Ha(e,n,t,r,Ka,a)}function Ha(e,n,t,r,a,i){var o=uu(e),s=uu(n),l=o?$:es(e),c=s?$:es(n);l=l==N?ne:l;c=c==N?ne:c;var u=l==ne,f=c==ne,_=l==c;if(_&&gu(e)){if(!gu(n))return false;o=true;u=false}if(_&&!u){i||(i=new Xr);return o||Ru(e)?Uo(e,n,t,r,a,i):Wo(e,n,l,t,r,a,i)}if(!(t&p)){var d=u&&dn.call(e,"__wrapped__"),m=f&&dn.call(n,"__wrapped__");if(d||m){var g=d?e.value():e,h=m?n.value():n;i||(i=new Xr);return a(g,h,t,r,i)}}if(!_)return false;i||(i=new Xr);return Do(e,n,t,r,a,i)}function Qa(e){return Ou(e)&&es(e)==Z}function Ya(e,n,t,r){var a=t.length,o=a,s=!r;if(null==e)return!o;e=rn(e);while(a--){var l=t[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return false}while(++a<o){l=t[a];var c=l[0],u=e[c],f=l[1];if(s&&l[2]){if(u===i&&!(c in e))return false}else{var _=new Xr;if(r)var d=r(u,f,c,e,n,_);if(!(d===i?Ka(f,u,p|h,r,_):d))return false}}return true}function Za(e){if(!xu(e)||ms(e))return false;var n=yu(e)?Sn:Qe;return n.test(Ms(e))}function Xa(e){return Ou(e)&&Pa(e)==ae}function ei(e){return Ou(e)&&es(e)==ie}function ni(e){return Ou(e)&&ju(e.length)&&!!Zn[Pa(e)]}function ti(e){if("function"==typeof e)return e;if(null==e)return B_;if("object"==typeof e)return uu(e)?li(e[0],e[1]):si(e);return J_(e)}function ri(e){if(!ps(e))return qn(e);var n=[];for(var t in rn(e))if(dn.call(e,t)&&"constructor"!=t)n.push(t);return n}function ai(e){if(!xu(e))return Ts(e);var n=ps(e),t=[];for(var r in e)if(!("constructor"==r&&(n||!dn.call(e,r))))t.push(r);return t}function ii(e,n){return e<n}function oi(e,n){var r=-1,a=_u(e)?t(e.length):[];ya(e,function(e,t,i){a[++r]=n(e,t,i)});return a}function si(e){var n=Ho(e);if(1==n.length&&n[0][2])return vs(n[0][0],n[0][1]);return function(t){return t===e||Ya(t,e,n)}}function li(e,n){if(fs(e)&&hs(n))return vs(Bs(e),n);return function(t){var r=Sf(t,e);return r===i&&r===n?Tf(t,e):Ka(n,r,p|h)}}function ci(e,n,t,r,a){if(e===n)return;Ca(n,function(o,s){if(xu(o)){a||(a=new Xr);ui(e,n,s,t,ci,r,a)}else{var l=r?r(e[s],o,s+"",e,n,a):i;if(l===i)l=o;ca(e,s,l)}},xf)}function ui(e,n,t,r,a,o,s){var l=e[t],c=n[t],u=s.get(c);if(u){ca(e,t,u);return}var f=o?o(l,c,t+"",e,n,s):i;var _=f===i;if(_){var d=uu(c),m=!d&&gu(c),g=!d&&!m&&Ru(c);f=c;if(d||m||g)if(uu(l))f=l;else if(du(l))f=oo(l);else if(m){_=false;f=Ki(c,true)}else if(g){_=false;f=no(c,true)}else f=[];else if(Fu(c)||cu(c)){f=l;if(cu(l))f=Xu(l);else if(!xu(l)||r&&yu(l))f=is(c)}else _=false}if(_){s.set(c,f);a(f,c,r,o,s);s["delete"](c)}ca(e,t,f)}function fi(e,n){var t=e.length;if(!t)return;n+=n<0?t:0;return cs(n,t)?e[n]:i}function _i(e,n,t){var r=-1;n=Ct(n.length?n:[B_],Yt(Go()));var a=oi(e,function(e,t,a){var i=Ct(n,function(n){return n(e)});return{criteria:i,index:++r,value:e}});return Gt(a,function(e,n){return ro(e,n,t)})}function di(e,n){return mi(e,n,function(n,t){return Tf(e,t)})}function mi(e,n,t){var r=-1,a=n.length,i={};while(++r<a){var o=n[r],s=za(e,o);if(t(s,o))ki(i,$i(o,e),s)}return i}function gi(e){return function(n){return za(n,e)}}function pi(e,n,t,r){var a=r?qt:Dt,i=-1,o=n.length,s=e;if(e===n)n=oo(n);if(t)s=Ct(e,Yt(t));while(++i<o){var l=0,c=n[i],u=t?t(c):c;while((l=a(s,u,l,r))>-1){if(s!==e)On.call(s,l,1);On.call(e,l,1)}}return e}function hi(e,n){var t=e?n.length:0,r=t-1;while(t--){var a=n[t];if(t==r||a!==i){var i=a;if(cs(a))On.call(e,a,1);else Fi(e,a)}}return e}function vi(e,n){return e+Fn(Kn()*(n-e+1))}function Si(e,n,r,a){var i=-1,o=Rn(zn((n-e)/(r||1)),0),s=t(o);while(o--){s[a?o:++i]=e;e+=r}return s}function bi(e,n){var t="";if(!e||n<1||n>F)return t;do{if(n%2)t+=e;n=Fn(n/2);if(n)e+=e}while(n);return t}function Ti(e,n){return Es(ys(e,n,B_),e+"")}function wi(e){return oa($f(e))}function yi(e,n){var t=$f(e);return Is(t,ha(n,0,t.length))}function ki(e,n,t,r){if(!xu(e))return e;n=$i(n,e);var a=-1,o=n.length,s=o-1,l=e;while(null!=l&&++a<o){var c=Bs(n[a]),u=t;if(a!=s){var f=l[c];u=r?r(f,c,l):i;if(u===i)u=xu(f)?f:cs(n[a+1])?[]:{}}ua(l,c,u);l=l[c]}return e}var ji=!ct?B_:function(e,n){ct.set(e,n);return e};var xi=!In?B_:function(e,n){return In(e,"toString",{configurable:true,enumerable:false,value:A_(n),writable:true})};function Oi(e){return Is($f(e))}function Ei(e,n,r){var a=-1,i=e.length;if(n<0)n=-n>i?0:i+n;r=r>i?i:r;if(r<0)r+=i;i=n>r?0:r-n>>>0;n>>>=0;var o=t(i);while(++a<i)o[a]=e[a+n];return o}function Ai(e,n){var t;ya(e,function(e,r,a){t=n(e,r,a);return!t});return!!t}function Ci(e,n,t){var r=0,a=null==e?r:e.length;if("number"==typeof n&&n===n&&a<=q){while(r<a){var i=r+a>>>1,o=e[i];if(null!==o&&!qu(o)&&(t?o<=n:o<n))r=i+1;else a=i}return a}return Ii(e,n,B_,t)}function Ii(e,n,t,r){n=t(n);var a=0,o=null==e?0:e.length,s=n!==n,l=null===n,c=qu(n),u=n===i;while(a<o){var f=Fn((a+o)/2),_=t(e[f]),d=_!==i,m=null===_,g=_===_,p=qu(_);if(s)var h=r||g;else if(u)h=g&&(r||d);else if(l)h=g&&d&&(r||!m);else if(c)h=g&&d&&!m&&(r||!p);else if(m||p)h=false;else h=r?_<=n:_<n;if(h)a=f+1;else o=f}return Nn(o,D)}function Li(e,n){var t=-1,r=e.length,a=0,i=[];while(++t<r){var o=e[t],s=n?n(o):o;if(!t||!ou(s,l)){var l=s;i[a++]=0===o?0:o}}return i}function Bi(e){if("number"==typeof e)return e;if(qu(e))return U;return+e}function Mi(e){if("string"==typeof e)return e;if(uu(e))return Ct(e,Mi)+"";if(qu(e))return Tr?Tr.call(e):"";var n=e+"";return"0"==n&&1/e==-z?"-0":n}function zi(e,n,t){var r=-1,a=Et,i=e.length,o=true,l=[],c=l;if(t){o=false;a=At}else if(i>=s){var u=n?null:Lo(e);if(u)return dr(u);o=false;a=Xt;c=new Qr}else c=n?[]:l;e:while(++r<i){var f=e[r],_=n?n(f):f;f=t||0!==f?f:0;if(o&&_===_){var d=c.length;while(d--)if(c[d]===_)continue e;if(n)c.push(_);l.push(f)}else if(!a(c,_,t)){if(c!==l)c.push(_);l.push(f)}}return l}function Fi(e,n){n=$i(n,e);e=ks(e,n);return null==e||delete e[Bs(sl(n))]}function Pi(e,n,t,r){return ki(e,n,t(za(e,n)),r)}function Ui(e,n,t,r){var a=e.length,i=r?a:-1;while((r?i--:++i<a)&&n(e[i],i,e));return t?Ei(e,r?0:i,r?i+1:a):Ei(e,r?i+1:0,r?a:i)}function Wi(e,n){var t=e;if(t instanceof Er)t=t.value();return Lt(n,function(e,n){return n.func.apply(n.thisArg,It([e],n.args))},t)}function Di(e,n,r){var a=e.length;if(a<2)return a?zi(e[0]):[];var i=-1,o=t(a);while(++i<a){var s=e[i],l=-1;while(++l<a)if(l!=i)o[i]=wa(o[i]||s,e[l],n,r)}return zi(Aa(o,1),n,r)}function qi(e,n,t){var r=-1,a=e.length,o=n.length,s={};while(++r<a){var l=r<o?n[r]:i;t(s,e[r],l)}return s}function Ri(e){return du(e)?e:[]}function Ni(e){return"function"==typeof e?e:B_}function $i(e,n){if(uu(e))return e;return fs(e,n)?[e]:Ls(nf(e))}var Vi=Ti;function Ji(e,n,t){var r=e.length;t=t===i?r:t;return!n&&t>=r?e:Ei(e,n,t)}var Gi=Ln||function(e){return lt.clearTimeout(e)};function Ki(e,n){if(n)return e.slice();var t=e.length,r=yn?yn(t):new e.constructor(t);e.copy(r);return r}function Hi(e){var n=new e.constructor(e.byteLength);new wn(n).set(new wn(e));return n}function Qi(e,n){var t=n?Hi(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function Yi(e,n,t){var r=n?t(ur(e),d):ur(e);return Lt(r,bt,new e.constructor)}function Zi(e){var n=new e.constructor(e.source,Ge.exec(e));n.lastIndex=e.lastIndex;return n}function Xi(e,n,t){var r=n?t(dr(e),d):dr(e);return Lt(r,Tt,new e.constructor)}function eo(e){return br?rn(br.call(e)):{}}function no(e,n){var t=n?Hi(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function to(e,n){if(e!==n){var t=e!==i,r=null===e,a=e===e,o=qu(e);var s=n!==i,l=null===n,c=n===n,u=qu(n);if(!l&&!u&&!o&&e>n||o&&s&&c&&!l&&!u||r&&s&&c||!t&&c||!a)return 1;if(!r&&!o&&!u&&e<n||u&&t&&a&&!r&&!o||l&&t&&a||!s&&a||!c)return-1}return 0}function ro(e,n,t){var r=-1,a=e.criteria,i=n.criteria,o=a.length,s=t.length;while(++r<o){var l=to(a[r],i[r]);if(l){if(r>=s)return l;var c=t[r];return l*("desc"==c?-1:1)}}return e.index-n.index}function ao(e,n,r,a){var i=-1,o=e.length,s=r.length,l=-1,c=n.length,u=Rn(o-s,0),f=t(c+u),_=!a;while(++l<c)f[l]=n[l];while(++i<s)if(_||i<o)f[r[i]]=e[i];while(u--)f[l++]=e[i++];return f}function io(e,n,r,a){var i=-1,o=e.length,s=-1,l=r.length,c=-1,u=n.length,f=Rn(o-l,0),_=t(f+u),d=!a;while(++i<f)_[i]=e[i];var m=i;while(++c<u)_[m+c]=n[c];while(++s<l)if(d||i<o)_[m+r[s]]=e[i++];return _}function oo(e,n){var r=-1,a=e.length;n||(n=t(a));while(++r<a)n[r]=e[r];return n}function so(e,n,t,r){var a=!t;t||(t={});var o=-1,s=n.length;while(++o<s){var l=n[o];var c=r?r(t[l],e[l],l,t,e):i;if(c===i)c=e[l];if(a)ga(t,l,c);else ua(t,l,c)}return t}function lo(e,n){return so(e,Zo(e),n)}function co(e,n){return so(e,Xo(e),n)}function uo(e,n){return function(t,r){var a=uu(t)?yt:_a,i=n?n():{};return a(t,e,Go(r,2),i)}}function fo(e){return Ti(function(n,t){var r=-1,a=t.length,o=a>1?t[a-1]:i,s=a>2?t[2]:i;o=e.length>3&&"function"==typeof o?(a--,o):i;if(s&&us(t[0],t[1],s)){o=a<3?i:o;a=1}n=rn(n);while(++r<a){var l=t[r];if(l)e(n,l,r,o)}return n})}function _o(e,n){return function(t,r){if(null==t)return t;if(!_u(t))return e(t,r);var a=t.length,i=n?a:-1,o=rn(t);while(n?i--:++i<a)if(false===r(o[i],i,o))break;return t}}function mo(e){return function(n,t,r){var a=-1,i=rn(n),o=r(n),s=o.length;while(s--){var l=o[e?s:++a];if(false===t(i[l],l,i))break}return n}}function go(e,n,t){var r=n&v,a=vo(e);function i(){var n=this&&this!==lt&&this instanceof i?a:e;return n.apply(r?t:this,arguments)}return i}function po(e){return function(n){n=nf(n);var t=sr(n)?vr(n):i;var r=t?t[0]:n.charAt(0);var a=t?Ji(t,1).join(""):n.slice(1);return r[e]()+a}}function ho(e){return function(n){return Lt(k_(Yf(n).replace($n,"")),e,"")}}function vo(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=jr(e.prototype),r=e.apply(t,n);return xu(r)?r:t}}function So(e,n,r){var a=vo(e);function o(){var s=arguments.length,l=t(s),c=s,u=Jo(o);while(c--)l[c]=arguments[c];var f=s<3&&l[0]!==u&&l[s-1]!==u?[]:_r(l,u);s-=f.length;if(s<r)return Co(e,n,wo,o.placeholder,i,l,f,i,i,r-s);var _=this&&this!==lt&&this instanceof o?a:e;return wt(_,this,l)}return o}function bo(e){return function(n,t,r){var a=rn(n);if(!_u(n)){var o=Go(t,3);n=jf(n);t=function(e){return o(a[e],e,a)}}var s=e(n,t,r);return s>-1?a[o?n[s]:s]:i}}function To(e){return qo(function(n){var t=n.length,r=t,a=Or.prototype.thru;if(e)n.reverse();while(r--){var o=n[r];if("function"!=typeof o)throw new sn(c);if(a&&!s&&"wrapper"==Vo(o))var s=new Or([],true)}r=s?r:t;while(++r<t){o=n[r];var l=Vo(o),u="wrapper"==l?$o(o):i;if(u&&ds(u[0])&&u[1]==(j|T|y|x)&&!u[4].length&&1==u[9])s=s[Vo(u[0])].apply(s,u[3]);else s=1==o.length&&ds(o)?s[l]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&uu(r))return s.plant(r).value();var a=0,i=t?n[a].apply(this,e):r;while(++a<t)i=n[a].call(this,i);return i}})}function wo(e,n,r,a,o,s,l,c,u,f){var _=n&j,d=n&v,m=n&S,g=n&(T|w),p=n&O,h=m?i:vo(e);function b(){var i=arguments.length,v=t(i),S=i;while(S--)v[S]=arguments[S];if(g)var T=Jo(b),w=tr(v,T);if(a)v=ao(v,a,o,g);if(s)v=io(v,s,l,g);i-=w;if(g&&i<f){var y=_r(v,T);return Co(e,n,wo,b.placeholder,r,v,y,c,u,f-i)}var k=d?r:this,j=m?k[e]:e;i=v.length;if(c)v=js(v,c);else if(p&&i>1)v.reverse();if(_&&u<i)v.length=u;if(this&&this!==lt&&this instanceof b)j=h||vo(j);return j.apply(k,v)}return b}function yo(e,n){return function(t,r){return Na(t,e,n(r),{})}}function ko(e,n){return function(t,r){var a;if(t===i&&r===i)return n;if(t!==i)a=t;if(r!==i){if(a===i)return r;if("string"==typeof t||"string"==typeof r){t=Mi(t);r=Mi(r)}else{t=Bi(t);r=Bi(r)}a=e(t,r)}return a}}function jo(e){return qo(function(n){n=Ct(n,Yt(Go()));return Ti(function(t){var r=this;return e(n,function(e){return wt(e,r,t)})})})}function xo(e,n){n=n===i?" ":Mi(n);var t=n.length;if(t<2)return t?bi(n,e):n;var r=bi(n,zn(e/hr(n)));return sr(n)?Ji(vr(r),0,e).join(""):r.slice(0,e)}function Oo(e,n,r,a){var i=n&v,o=vo(e);function s(){var n=-1,l=arguments.length,c=-1,u=a.length,f=t(u+l),_=this&&this!==lt&&this instanceof s?o:e;while(++c<u)f[c]=a[c];while(l--)f[c++]=arguments[++n];return wt(_,i?r:this,f)}return s}function Eo(e){return function(n,t,r){if(r&&"number"!=typeof r&&us(n,t,r))t=r=i;n=Hu(n);if(t===i){t=n;n=0}else t=Hu(t);r=r===i?n<t?1:-1:Hu(r);return Si(n,t,r,e)}}function Ao(e){return function(n,t){if(!("string"==typeof n&&"string"==typeof t)){n=Zu(n);t=Zu(t)}return e(n,t)}}function Co(e,n,t,r,a,o,s,l,c,u){var f=n&T,_=f?s:i,d=f?i:s,m=f?o:i,g=f?i:o;n|=f?y:k;n&=~(f?k:y);if(!(n&b))n&=~(v|S);var p=[e,n,a,m,_,g,d,l,c,u];var h=t.apply(i,p);if(ds(e))xs(h,p);h.placeholder=r;return As(h,e,n)}function Io(e){var n=tn[e];return function(e,t){e=Zu(e);t=null==t?0:Nn(Qu(t),292);if(t){var r=(nf(e)+"e").split("e"),a=n(r[0]+"e"+(+r[1]+t));r=(nf(a)+"e").split("e");return+(r[0]+"e"+(+r[1]-t))}return n(e)}}var Lo=!(rt&&1/dr(new rt([,-0]))[1]==z)?q_:function(e){return new rt(e)};function Bo(e){return function(n){var t=es(n);if(t==Z)return ur(n);if(t==ie)return mr(n);return Qt(n,e(n))}}function Mo(e,n,t,r,a,o,s,l){var u=n&S;if(!u&&"function"!=typeof e)throw new sn(c);var f=r?r.length:0;if(!f){n&=~(y|k);r=a=i}s=s===i?s:Rn(Qu(s),0);l=l===i?l:Qu(l);f-=a?a.length:0;if(n&k){var _=r,d=a;r=a=i}var m=u?i:$o(e);var g=[e,n,t,r,a,_,d,o,s,l];if(m)bs(g,m);e=g[0];n=g[1];t=g[2];r=g[3];a=g[4];l=g[9]=g[9]===i?u?0:e.length:Rn(g[9]-f,0);if(!l&&n&(T|w))n&=~(T|w);if(!n||n==v)var p=go(e,n,t);else if(n==T||n==w)p=So(e,n,l);else if((n==y||n==(v|y))&&!a.length)p=Oo(e,n,t,r);else p=wo.apply(i,g);var h=m?ji:xs;return As(h(p,g),e,n)}function zo(e,n,t,r){if(e===i||ou(e,un[t])&&!dn.call(r,t))return n;return e}function Fo(e,n,t,r,a,o){if(xu(e)&&xu(n)){o.set(n,e);ci(e,n,i,Fo,o);o["delete"](n)}return e}function Po(e){return Fu(e)?i:e}function Uo(e,n,t,r,a,o){var s=t&p,l=e.length,c=n.length;if(l!=c&&!(s&&c>l))return false;var u=o.get(e);if(u&&o.get(n))return u==n;var f=-1,_=true,d=t&h?new Qr:i;o.set(e,n);o.set(n,e);while(++f<l){var m=e[f],g=n[f];if(r)var v=s?r(g,m,f,n,e,o):r(m,g,f,e,n,o);if(v!==i){if(v)continue;_=false;break}if(d){if(!Mt(n,function(e,n){if(!Xt(d,n)&&(m===e||a(m,e,t,r,o)))return d.push(n)})){_=false;break}}else if(!(m===g||a(m,g,t,r,o))){_=false;break}}o["delete"](e);o["delete"](n);return _}function Wo(e,n,t,r,a,i,o){switch(t){case _e:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return false;e=e.buffer;n=n.buffer;case fe:if(e.byteLength!=n.byteLength||!i(new wn(e),new wn(n)))return false;return true;case J:case G:case X:return ou(+e,+n);case H:return e.name==n.name&&e.message==n.message;case ae:case oe:return e==n+"";case Z:var s=ur;case ie:var l=r&p;s||(s=dr);if(e.size!=n.size&&!l)return false;var c=o.get(e);if(c)return c==n;r|=h;o.set(e,n);var u=Uo(s(e),s(n),r,a,i,o);o["delete"](e);return u;case se:if(br)return br.call(e)==br.call(n)}return false}function Do(e,n,t,r,a,o){var s=t&p,l=Ro(e),c=l.length,u=Ro(n),f=u.length;if(c!=f&&!s)return false;var _=c;while(_--){var d=l[_];if(!(s?d in n:dn.call(n,d)))return false}var m=o.get(e);if(m&&o.get(n))return m==n;var g=true;o.set(e,n);o.set(n,e);var h=s;while(++_<c){d=l[_];var v=e[d],S=n[d];if(r)var b=s?r(S,v,d,n,e,o):r(v,S,d,e,n,o);if(!(b===i?v===S||a(v,S,t,r,o):b)){g=false;break}h||(h="constructor"==d)}if(g&&!h){var T=e.constructor,w=n.constructor;if(T!=w&&"constructor"in e&&"constructor"in n&&!("function"==typeof T&&T instanceof T&&"function"==typeof w&&w instanceof w))g=false}o["delete"](e);o["delete"](n);return g}function qo(e){return Es(ys(e,i,Qs),e+"")}function Ro(e){return Fa(e,jf,Zo)}function No(e){return Fa(e,xf,Xo)}var $o=!ct?q_:function(e){return ct.get(e)};function Vo(e){var n=e.name+"",t=ut[n],r=dn.call(ut,n)?t.length:0;while(r--){var a=t[r],i=a.func;if(null==i||i==e)return a.name}return n}function Jo(e){var n=dn.call(yr,"placeholder")?yr:e;return n.placeholder}function Go(){var e=yr.iteratee||M_;e=e===M_?ti:e;return arguments.length?e(arguments[0],arguments[1]):e}function Ko(e,n){var t=e.__data__;return _s(n)?t["string"==typeof n?"string":"hash"]:t.map}function Ho(e){var n=jf(e),t=n.length;while(t--){var r=n[t],a=e[r];n[t]=[r,a,hs(a)]}return n}function Qo(e,n){var t=or(e,n);return Za(t)?t:i}function Yo(e){var n=dn.call(e,Cn),t=e[Cn];try{e[Cn]=i;var r=true}catch(e){}var a=pn.call(e);if(r)if(n)e[Cn]=t;else delete e[Cn];return a}var Zo=!Pn?Q_:function(e){if(null==e)return[];e=rn(e);return Ot(Pn(e),function(n){return xn.call(e,n)})};var Xo=!Pn?Q_:function(e){var n=[];while(e){It(n,Zo(e));e=kn(e)}return n};var es=Pa;if(et&&es(new et(new ArrayBuffer(1)))!=_e||nt&&es(new nt)!=Z||tt&&es(tt.resolve())!=te||rt&&es(new rt)!=ie||ot&&es(new ot)!=ce)es=function(e){var n=Pa(e),t=n==ne?e.constructor:i,r=t?Ms(t):"";if(r)switch(r){case _t:return _e;case dt:return Z;case zt:return te;case Ft:return ie;case Vt:return ce}return n};function ns(e,n,t){var r=-1,a=t.length;while(++r<a){var i=t[r],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":n-=o;break;case"take":n=Nn(n,e+o);break;case"takeRight":e=Rn(e,n-o)}}return{start:e,end:n}}function ts(e){var n=e.match(Re);return n?n[1].split(Ne):[]}function rs(e,n,t){n=$i(n,e);var r=-1,a=n.length,i=false;while(++r<a){var o=Bs(n[r]);if(!(i=null!=e&&t(e,o)))break;e=e[o]}if(i||++r!=a)return i;a=null==e?0:e.length;return!!a&&ju(a)&&cs(o,a)&&(uu(e)||cu(e))}function as(e){var n=e.length,t=e.constructor(n);if(n&&"string"==typeof e[0]&&dn.call(e,"index")){t.index=e.index;t.input=e.input}return t}function is(e){return"function"==typeof e.constructor&&!ps(e)?jr(kn(e)):{}}function os(e,n,t,r){var a=e.constructor;switch(n){case fe:return Hi(e);case J:case G:return new a(+e);case _e:return Qi(e,r);case de:case me:case ge:case pe:case he:case ve:case Se:case be:case Te:return no(e,r);case Z:return Yi(e,r,t);case X:case oe:return new a(e);case ae:return Zi(e);case ie:return Xi(e,r,t);case se:return eo(e)}}function ss(e,n){var t=n.length;if(!t)return e;var r=t-1;n[r]=(t>1?"& ":"")+n[r];n=n.join(t>2?", ":" ");return e.replace(qe,"{\n/* [wrapped with "+n+"] */\n")}function ls(e){return uu(e)||cu(e)||!!(En&&e&&e[En])}function cs(e,n){n=null==n?F:n;return!!n&&("number"==typeof e||Ze.test(e))&&e>-1&&e%1==0&&e<n}function us(e,n,t){if(!xu(t))return false;var r=typeof n;if("number"==r?_u(t)&&cs(n,t.length):"string"==r&&n in t)return ou(t[n],e);return false}function fs(e,n){if(uu(e))return false;var t=typeof e;if("number"==t||"symbol"==t||"boolean"==t||null==e||qu(e))return true;return Be.test(e)||!Le.test(e)||null!=n&&e in rn(n)}function _s(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}function ds(e){var n=Vo(e),t=yr[n];if("function"!=typeof t||!(n in Er.prototype))return false;if(e===t)return true;var r=$o(t);return!!r&&e===r[0]}function ms(e){return!!gn&&gn in e}var gs=fn?yu:Y_;function ps(e){var n=e&&e.constructor,t="function"==typeof n&&n.prototype||un;return e===t}function hs(e){return e===e&&!xu(e)}function vs(e,n){return function(t){if(null==t)return false;return t[e]===n&&(n!==i||e in rn(t))}}function Ss(e){var n=Rc(e,function(e){if(t.size===f)t.clear();return e});var t=n.cache;return n}function bs(e,n){var t=e[1],r=n[1],a=t|r,i=a<(v|S|j);var o=r==j&&t==T||r==j&&t==x&&e[7].length<=n[8]||r==(j|x)&&n[7].length<=n[8]&&t==T;if(!(i||o))return e;if(r&v){e[2]=n[2];a|=t&v?0:b}var s=n[3];if(s){var l=e[3];e[3]=l?ao(l,s,n[4]):s;e[4]=l?_r(e[3],_):n[4]}s=n[5];if(s){l=e[5];e[5]=l?io(l,s,n[6]):s;e[6]=l?_r(e[5],_):n[6]}s=n[7];if(s)e[7]=s;if(r&j)e[8]=null==e[8]?n[8]:Nn(e[8],n[8]);if(null==e[9])e[9]=n[9];e[0]=n[0];e[1]=a;return e}function Ts(e){var n=[];if(null!=e)for(var t in rn(e))n.push(t);return n}function ws(e){return pn.call(e)}function ys(e,n,r){n=Rn(n===i?e.length-1:n,0);return function(){var a=arguments,i=-1,o=Rn(a.length-n,0),s=t(o);while(++i<o)s[i]=a[n+i];i=-1;var l=t(n+1);while(++i<n)l[i]=a[i];l[n]=r(s);return wt(e,this,l)}}function ks(e,n){return n.length<2?e:za(e,Ei(n,0,-1))}function js(e,n){var t=e.length,r=Nn(n.length,t),a=oo(e);while(r--){var o=n[r];e[r]=cs(o,t)?a[o]:i}return e}var xs=Cs(ji);var Os=Mn||function(e,n){return lt.setTimeout(e,n)};var Es=Cs(xi);function As(e,n,t){var r=n+"";return Es(e,ss(r,zs(ts(r),t)))}function Cs(e){var n=0,t=0;return function(){var r=Jn(),a=I-(r-t);t=r;if(a>0){if(++n>=C)return arguments[0]}else n=0;return e.apply(i,arguments)}}function Is(e,n){var t=-1,r=e.length,a=r-1;n=n===i?r:n;while(++t<n){var o=vi(t,a),s=e[o];e[o]=e[t];e[t]=s}e.length=n;return e}var Ls=Ss(function(e){var n=[];if(Me.test(e))n.push("");e.replace(ze,function(e,t,r,a){n.push(r?a.replace(Ve,"$1"):t||e)});return n});function Bs(e){if("string"==typeof e||qu(e))return e;var n=e+"";return"0"==n&&1/e==-z?"-0":n}function Ms(e){if(null!=e){try{return _n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function zs(e,n){kt(R,function(t){var r="_."+t[0];if(n&t[1]&&!Et(e,r))e.push(r)});return e.sort()}function Fs(e){if(e instanceof Er)return e.clone();var n=new Or(e.__wrapped__,e.__chain__);n.__actions__=oo(e.__actions__);n.__index__=e.__index__;n.__values__=e.__values__;return n}function Ps(e,n,r){if(r?us(e,n,r):n===i)n=1;else n=Rn(Qu(n),0);var a=null==e?0:e.length;if(!a||n<1)return[];var o=0,s=0,l=t(zn(a/n));while(o<a)l[s++]=Ei(e,o,o+=n);return l}function Us(e){var n=-1,t=null==e?0:e.length,r=0,a=[];while(++n<t){var i=e[n];if(i)a[r++]=i}return a}function Ws(){var e=arguments.length;if(!e)return[];var n=t(e-1),r=arguments[0],a=e;while(a--)n[a-1]=arguments[a];return It(uu(r)?oo(r):[r],Aa(n,1))}var Ds=Ti(function(e,n){return du(e)?wa(e,Aa(n,1,du,true)):[]});var qs=Ti(function(e,n){var t=sl(n);if(du(t))t=i;return du(e)?wa(e,Aa(n,1,du,true),Go(t,2)):[]});var Rs=Ti(function(e,n){var t=sl(n);if(du(t))t=i;return du(e)?wa(e,Aa(n,1,du,true),i,t):[]});function Ns(e,n,t){var r=null==e?0:e.length;if(!r)return[];n=t||n===i?1:Qu(n);return Ei(e,n<0?0:n,r)}function $s(e,n,t){var r=null==e?0:e.length;if(!r)return[];n=t||n===i?1:Qu(n);n=r-n;return Ei(e,0,n<0?0:n)}function Vs(e,n){return e&&e.length?Ui(e,Go(n,3),true,true):[]}function Js(e,n){return e&&e.length?Ui(e,Go(n,3),true):[]}function Gs(e,n,t,r){var a=null==e?0:e.length;if(!a)return[];if(t&&"number"!=typeof t&&us(e,n,t)){t=0;r=a}return Oa(e,n,t,r)}function Ks(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var a=null==t?0:Qu(t);if(a<0)a=Rn(r+a,0);return Wt(e,Go(n,3),a)}function Hs(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;if(t!==i){a=Qu(t);a=t<0?Rn(r+a,0):Nn(a,r-1)}return Wt(e,Go(n,3),a,true)}function Qs(e){var n=null==e?0:e.length;return n?Aa(e,1):[]}function Ys(e){var n=null==e?0:e.length;return n?Aa(e,z):[]}function Zs(e,n){var t=null==e?0:e.length;if(!t)return[];n=n===i?1:Qu(n);return Aa(e,n)}function Xs(e){var n=-1,t=null==e?0:e.length,r={};while(++n<t){var a=e[n];r[a[0]]=a[1]}return r}function el(e){return e&&e.length?e[0]:i}function nl(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var a=null==t?0:Qu(t);if(a<0)a=Rn(r+a,0);return Dt(e,n,a)}function tl(e){var n=null==e?0:e.length;return n?Ei(e,0,-1):[]}var rl=Ti(function(e){var n=Ct(e,Ri);return n.length&&n[0]===e[0]?Ra(n):[]});var al=Ti(function(e){var n=sl(e),t=Ct(e,Ri);if(n===sl(t))n=i;else t.pop();return t.length&&t[0]===e[0]?Ra(t,Go(n,2)):[]});var il=Ti(function(e){var n=sl(e),t=Ct(e,Ri);n="function"==typeof n?n:i;if(n)t.pop();return t.length&&t[0]===e[0]?Ra(t,i,n):[]});function ol(e,n){return null==e?"":Dn.call(e,n)}function sl(e){var n=null==e?0:e.length;return n?e[n-1]:i}function ll(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var a=r;if(t!==i){a=Qu(t);a=a<0?Rn(r+a,0):Nn(a,r-1)}return n===n?pr(e,n,a):Wt(e,Rt,a,true)}function cl(e,n){return e&&e.length?fi(e,Qu(n)):i}var ul=Ti(fl);function fl(e,n){return e&&e.length&&n&&n.length?pi(e,n):e}function _l(e,n,t){return e&&e.length&&n&&n.length?pi(e,n,Go(t,2)):e}function dl(e,n,t){return e&&e.length&&n&&n.length?pi(e,n,i,t):e}var ml=qo(function(e,n){var t=null==e?0:e.length,r=pa(e,n);hi(e,Ct(n,function(e){return cs(e,t)?+e:e}).sort(to));return r});function gl(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,a=[],i=e.length;n=Go(n,3);while(++r<i){var o=e[r];if(n(o,r,e)){t.push(o);a.push(r)}}hi(e,a);return t}function pl(e){return null==e?e:Hn.call(e)}function hl(e,n,t){var r=null==e?0:e.length;if(!r)return[];if(t&&"number"!=typeof t&&us(e,n,t)){n=0;t=r}else{n=null==n?0:Qu(n);t=t===i?r:Qu(t)}return Ei(e,n,t)}function vl(e,n){return Ci(e,n)}function Sl(e,n,t){return Ii(e,n,Go(t,2))}function bl(e,n){var t=null==e?0:e.length;if(t){var r=Ci(e,n);if(r<t&&ou(e[r],n))return r}return-1}function Tl(e,n){return Ci(e,n,true)}function wl(e,n,t){return Ii(e,n,Go(t,2),true)}function yl(e,n){var t=null==e?0:e.length;if(t){var r=Ci(e,n,true)-1;if(ou(e[r],n))return r}return-1}function kl(e){return e&&e.length?Li(e):[]}function jl(e,n){return e&&e.length?Li(e,Go(n,2)):[]}function xl(e){var n=null==e?0:e.length;return n?Ei(e,1,n):[]}function Ol(e,n,t){if(!(e&&e.length))return[];n=t||n===i?1:Qu(n);return Ei(e,0,n<0?0:n)}function El(e,n,t){var r=null==e?0:e.length;if(!r)return[];n=t||n===i?1:Qu(n);n=r-n;return Ei(e,n<0?0:n,r)}function Al(e,n){return e&&e.length?Ui(e,Go(n,3),false,true):[]}function Cl(e,n){return e&&e.length?Ui(e,Go(n,3)):[]}var Il=Ti(function(e){return zi(Aa(e,1,du,true))});var Ll=Ti(function(e){var n=sl(e);if(du(n))n=i;return zi(Aa(e,1,du,true),Go(n,2))});var Bl=Ti(function(e){var n=sl(e);n="function"==typeof n?n:i;return zi(Aa(e,1,du,true),i,n)});function Ml(e){return e&&e.length?zi(e):[]}function zl(e,n){return e&&e.length?zi(e,Go(n,2)):[]}function Fl(e,n){n="function"==typeof n?n:i;return e&&e.length?zi(e,i,n):[]}function Pl(e){if(!(e&&e.length))return[];var n=0;e=Ot(e,function(e){if(du(e)){n=Rn(e.length,n);return true}});return Ht(n,function(n){return Ct(e,$t(n))})}function Ul(e,n){if(!(e&&e.length))return[];var t=Pl(e);if(null==n)return t;return Ct(t,function(e){return wt(n,i,e)})}var Wl=Ti(function(e,n){return du(e)?wa(e,n):[]});var Dl=Ti(function(e){return Di(Ot(e,du))});var ql=Ti(function(e){var n=sl(e);if(du(n))n=i;return Di(Ot(e,du),Go(n,2))});var Rl=Ti(function(e){var n=sl(e);n="function"==typeof n?n:i;return Di(Ot(e,du),i,n)});var Nl=Ti(Pl);function $l(e,n){return qi(e||[],n||[],ua)}function Vl(e,n){return qi(e||[],n||[],ki)}var Jl=Ti(function(e){var n=e.length,t=n>1?e[n-1]:i;t="function"==typeof t?(e.pop(),t):i;return Ul(e,t)});function Gl(e){var n=yr(e);n.__chain__=true;return n}function Kl(e,n){n(e);return e}function Hl(e,n){return n(e)}var Ql=qo(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,a=function(n){return pa(n,e)};if(n>1||this.__actions__.length||!(r instanceof Er)||!cs(t))return this.thru(a);r=r.slice(t,+t+(n?1:0));r.__actions__.push({func:Hl,args:[a],thisArg:i});return new Or(r,this.__chain__).thru(function(e){if(n&&!e.length)e.push(i);return e})});function Yl(){return Gl(this)}function Zl(){return new Or(this.value(),this.__chain__)}function Xl(){if(this.__values__===i)this.__values__=Ku(this.value());var e=this.__index__>=this.__values__.length,n=e?i:this.__values__[this.__index__++];return{done:e,value:n}}function ec(){return this}function nc(e){var n,t=this;while(t instanceof xr){var r=Fs(t);r.__index__=0;r.__values__=i;if(n)a.__wrapped__=r;else n=r;var a=r;t=t.__wrapped__}a.__wrapped__=e;return n}function tc(){var e=this.__wrapped__;if(e instanceof Er){var n=e;if(this.__actions__.length)n=new Er(this);n=n.reverse();n.__actions__.push({func:Hl,args:[pl],thisArg:i});return new Or(n,this.__chain__)}return this.thru(pl)}function rc(){return Wi(this.__wrapped__,this.__actions__)}var ac=uo(function(e,n,t){if(dn.call(e,t))++e[t];else ga(e,t,1)});function ic(e,n,t){var r=uu(e)?xt:ja;if(t&&us(e,n,t))n=i;return r(e,Go(n,3))}function oc(e,n){var t=uu(e)?Ot:Ea;return t(e,Go(n,3))}var sc=bo(Ks);var lc=bo(Hs);function cc(e,n){return Aa(vc(e,n),1)}function uc(e,n){return Aa(vc(e,n),z)}function fc(e,n,t){t=t===i?1:Qu(t);return Aa(vc(e,n),t)}function _c(e,n){var t=uu(e)?kt:ya;return t(e,Go(n,3))}function dc(e,n){var t=uu(e)?jt:ka;return t(e,Go(n,3))}var mc=uo(function(e,n,t){if(dn.call(e,t))e[t].push(n);else ga(e,t,[n])});function gc(e,n,t,r){e=_u(e)?e:$f(e);t=t&&!r?Qu(t):0;var a=e.length;if(t<0)t=Rn(a+t,0);return Du(e)?t<=a&&e.indexOf(n,t)>-1:!!a&&Dt(e,n,t)>-1}var pc=Ti(function(e,n,r){var a=-1,i="function"==typeof n,o=_u(e)?t(e.length):[];ya(e,function(e){o[++a]=i?wt(n,e,r):$a(e,n,r)});return o});var hc=uo(function(e,n,t){ga(e,t,n)});function vc(e,n){var t=uu(e)?Ct:oi;return t(e,Go(n,3))}function Sc(e,n,t,r){if(null==e)return[];if(!uu(n))n=null==n?[]:[n];t=r?i:t;if(!uu(t))t=null==t?[]:[t];return _i(e,n,t)}var bc=uo(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function Tc(e,n,t){var r=uu(e)?Lt:Jt,a=arguments.length<3;return r(e,Go(n,4),t,a,ya)}function wc(e,n,t){var r=uu(e)?Bt:Jt,a=arguments.length<3;return r(e,Go(n,4),t,a,ka)}function yc(e,n){var t=uu(e)?Ot:Ea;return t(e,Nc(Go(n,3)))}function kc(e){var n=uu(e)?oa:wi;return n(e)}function jc(e,n,t){if(t?us(e,n,t):n===i)n=1;else n=Qu(n);var r=uu(e)?sa:yi;return r(e,n)}function xc(e){var n=uu(e)?la:Oi;return n(e)}function Oc(e){if(null==e)return 0;if(_u(e))return Du(e)?hr(e):e.length;var n=es(e);if(n==Z||n==ie)return e.size;return ri(e).length}function Ec(e,n,t){var r=uu(e)?Mt:Ai;if(t&&us(e,n,t))n=i;return r(e,Go(n,3))}var Ac=Ti(function(e,n){if(null==e)return[];var t=n.length;if(t>1&&us(e,n[0],n[1]))n=[];else if(t>2&&us(n[0],n[1],n[2]))n=[n[0]];return _i(e,Aa(n,1),[])});var Cc=Bn||function(){return lt.Date.now()};function Ic(e,n){if("function"!=typeof n)throw new sn(c);e=Qu(e);return function(){if(--e<1)return n.apply(this,arguments)}}function Lc(e,n,t){n=t?i:n;n=e&&null==n?e.length:n;return Mo(e,j,i,i,i,i,n)}function Bc(e,n){var t;if("function"!=typeof n)throw new sn(c);e=Qu(e);return function(){if(--e>0)t=n.apply(this,arguments);if(e<=1)n=i;return t}}var Mc=Ti(function(e,n,t){var r=v;if(t.length){var a=_r(t,Jo(Mc));r|=y}return Mo(e,r,n,t,a)});var zc=Ti(function(e,n,t){var r=v|S;if(t.length){var a=_r(t,Jo(zc));r|=y}return Mo(n,r,e,t,a)});function Fc(e,n,t){n=t?i:n;var r=Mo(e,T,i,i,i,i,i,n);r.placeholder=Fc.placeholder;return r}function Pc(e,n,t){n=t?i:n;var r=Mo(e,w,i,i,i,i,i,n);r.placeholder=Pc.placeholder;return r}function Uc(e,n,t){var r,a,o,s,l,u,f=0,_=false,d=false,m=true;if("function"!=typeof e)throw new sn(c);n=Zu(n)||0;if(xu(t)){_=!!t.leading;d="maxWait"in t;o=d?Rn(Zu(t.maxWait)||0,n):o;m="trailing"in t?!!t.trailing:m}function g(n){var t=r,o=a;r=a=i;f=n;s=e.apply(o,t);return s}function p(e){f=e;l=Os(S,n);return _?g(e):s}function h(e){var t=e-u,r=e-f,a=n-t;return d?Nn(a,o-r):a}function v(e){var t=e-u,r=e-f;return u===i||t>=n||t<0||d&&r>=o}function S(){var e=Cc();if(v(e))return b(e);l=Os(S,h(e))}function b(e){l=i;if(m&&r)return g(e);r=a=i;return s}function T(){if(l!==i)Gi(l);f=0;r=u=a=l=i}function w(){return l===i?s:b(Cc())}function y(){var e=Cc(),t=v(e);r=arguments;a=this;u=e;if(t){if(l===i)return p(u);if(d){l=Os(S,n);return g(u)}}if(l===i)l=Os(S,n);return s}y.cancel=T;y.flush=w;return y}var Wc=Ti(function(e,n){return Ta(e,1,n)});var Dc=Ti(function(e,n,t){return Ta(e,Zu(n)||0,t)});function qc(e){return Mo(e,O)}function Rc(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new sn(c);var t=function(){var r=arguments,a=n?n.apply(this,r):r[0],i=t.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);t.cache=i.set(a,o)||i;return o};t.cache=new(Rc.Cache||$r);return t}Rc.Cache=$r;function Nc(e){if("function"!=typeof e)throw new sn(c);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function $c(e){return Bc(2,e)}var Vc=Vi(function(e,n){n=1==n.length&&uu(n[0])?Ct(n[0],Yt(Go())):Ct(Aa(n,1),Yt(Go()));var t=n.length;return Ti(function(r){var a=-1,i=Nn(r.length,t);while(++a<i)r[a]=n[a].call(this,r[a]);return wt(e,this,r)})});var Jc=Ti(function(e,n){var t=_r(n,Jo(Jc));return Mo(e,y,i,n,t)});var Gc=Ti(function(e,n){var t=_r(n,Jo(Gc));return Mo(e,k,i,n,t)});var Kc=qo(function(e,n){return Mo(e,x,i,i,i,n)});function Hc(e,n){if("function"!=typeof e)throw new sn(c);n=n===i?n:Qu(n);return Ti(e,n)}function Qc(e,n){if("function"!=typeof e)throw new sn(c);n=null==n?0:Rn(Qu(n),0);return Ti(function(t){var r=t[n],a=Ji(t,0,n);if(r)It(a,r);return wt(e,this,a)})}function Yc(e,n,t){var r=true,a=true;if("function"!=typeof e)throw new sn(c);if(xu(t)){r="leading"in t?!!t.leading:r;a="trailing"in t?!!t.trailing:a}return Uc(e,n,{leading:r,maxWait:n,trailing:a})}function Zc(e){return Lc(e,1)}function Xc(e,n){return Jc(Ni(n),e)}function eu(){if(!arguments.length)return[];var e=arguments[0];return uu(e)?e:[e]}function nu(e){return va(e,g)}function tu(e,n){n="function"==typeof n?n:i;return va(e,g,n)}function ru(e){return va(e,d|g)}function au(e,n){n="function"==typeof n?n:i;return va(e,d|g,n)}function iu(e,n){return null==n||ba(e,n,jf(n))}function ou(e,n){return e===n||e!==e&&n!==n}var su=Ao(Ua);var lu=Ao(function(e,n){return e>=n});var cu=Va(function(){return arguments}())?Va:function(e){return Ou(e)&&dn.call(e,"callee")&&!xn.call(e,"callee")};var uu=t.isArray;var fu=mt?Yt(mt):Ja;function _u(e){return null!=e&&ju(e.length)&&!yu(e)}function du(e){return Ou(e)&&_u(e)}function mu(e){return true===e||false===e||Ou(e)&&Pa(e)==J}var gu=Un||Y_;var pu=gt?Yt(gt):Ga;function hu(e){return Ou(e)&&1===e.nodeType&&!Fu(e)}function vu(e){if(null==e)return true;if(_u(e)&&(uu(e)||"string"==typeof e||"function"==typeof e.splice||gu(e)||Ru(e)||cu(e)))return!e.length;var n=es(e);if(n==Z||n==ie)return!e.size;if(ps(e))return!ri(e).length;for(var t in e)if(dn.call(e,t))return false;return true}function Su(e,n){return Ka(e,n)}function bu(e,n,t){t="function"==typeof t?t:i;var r=t?t(e,n):i;return r===i?Ka(e,n,i,t):!!r}function Tu(e){if(!Ou(e))return false;var n=Pa(e);return n==H||n==K||"string"==typeof e.message&&"string"==typeof e.name&&!Fu(e)}function wu(e){return"number"==typeof e&&Wn(e)}function yu(e){if(!xu(e))return false;var n=Pa(e);return n==Q||n==Y||n==V||n==re}function ku(e){return"number"==typeof e&&e==Qu(e)}function ju(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function xu(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function Ou(e){return null!=e&&"object"==typeof e}var Eu=pt?Yt(pt):Qa;function Au(e,n){return e===n||Ya(e,n,Ho(n))}function Cu(e,n,t){t="function"==typeof t?t:i;return Ya(e,n,Ho(n),t)}function Iu(e){return zu(e)&&e!=+e}function Lu(e){if(gs(e))throw new a(l);return Za(e)}function Bu(e){return null===e}function Mu(e){return null==e}function zu(e){return"number"==typeof e||Ou(e)&&Pa(e)==X}function Fu(e){if(!Ou(e)||Pa(e)!=ne)return false;var n=kn(e);if(null===n)return true;var t=dn.call(n,"constructor")&&n.constructor;return"function"==typeof t&&t instanceof t&&_n.call(t)==hn}var Pu=ht?Yt(ht):Xa;function Uu(e){return ku(e)&&e>=-F&&e<=F}var Wu=vt?Yt(vt):ei;function Du(e){return"string"==typeof e||!uu(e)&&Ou(e)&&Pa(e)==oe}function qu(e){return"symbol"==typeof e||Ou(e)&&Pa(e)==se}var Ru=St?Yt(St):ni;function Nu(e){return e===i}function $u(e){return Ou(e)&&es(e)==ce}function Vu(e){return Ou(e)&&Pa(e)==ue}var Ju=Ao(ii);var Gu=Ao(function(e,n){return e<=n});function Ku(e){if(!e)return[];if(_u(e))return Du(e)?vr(e):oo(e);if(An&&e[An])return cr(e[An]());var n=es(e),t=n==Z?ur:n==ie?dr:$f;return t(e)}function Hu(e){if(!e)return 0===e?e:0;e=Zu(e);if(e===z||e===-z){var n=e<0?-1:1;return n*P}return e===e?e:0}function Qu(e){var n=Hu(e),t=n%1;return n===n?t?n-t:n:0}function Yu(e){return e?ha(Qu(e),0,W):0}function Zu(e){if("number"==typeof e)return e;if(qu(e))return U;if(xu(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=xu(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ue,"");var t=He.test(e);return t||Ye.test(e)?it(e.slice(2),t?2:8):Ke.test(e)?U:+e}function Xu(e){return so(e,xf(e))}function ef(e){return e?ha(Qu(e),-F,F):0===e?e:0}function nf(e){return null==e?"":Mi(e)}var tf=fo(function(e,n){if(ps(n)||_u(n)){so(n,jf(n),e);return}for(var t in n)if(dn.call(n,t))ua(e,t,n[t])});var rf=fo(function(e,n){so(n,xf(n),e)});var af=fo(function(e,n,t,r){so(n,xf(n),e,r)});var of=fo(function(e,n,t,r){so(n,jf(n),e,r)});var sf=qo(pa);function lf(e,n){var t=jr(e);return null==n?t:da(t,n)}var cf=Ti(function(e){e.push(i,zo);return wt(af,i,e)});var uf=Ti(function(e){e.push(i,Fo);return wt(Cf,i,e)});function ff(e,n){return Ut(e,Go(n,3),La)}function _f(e,n){return Ut(e,Go(n,3),Ba)}function df(e,n){return null==e?e:Ca(e,Go(n,3),xf)}function mf(e,n){return null==e?e:Ia(e,Go(n,3),xf)}function gf(e,n){return e&&La(e,Go(n,3))}function pf(e,n){return e&&Ba(e,Go(n,3))}function hf(e){return null==e?[]:Ma(e,jf(e))}function vf(e){return null==e?[]:Ma(e,xf(e))}function Sf(e,n,t){var r=null==e?i:za(e,n);return r===i?t:r}function bf(e,n){return null!=e&&rs(e,n,Wa)}function Tf(e,n){return null!=e&&rs(e,n,Da)}var wf=yo(function(e,n,t){e[n]=t},A_(B_));var yf=yo(function(e,n,t){if(dn.call(e,n))e[n].push(t);else e[n]=[t]},Go);var kf=Ti($a);function jf(e){return _u(e)?ia(e):ri(e)}function xf(e){return _u(e)?ia(e,true):ai(e)}function Of(e,n){var t={};n=Go(n,3);La(e,function(e,r,a){ga(t,n(e,r,a),e)});return t}function Ef(e,n){var t={};n=Go(n,3);La(e,function(e,r,a){ga(t,r,n(e,r,a))});return t}var Af=fo(function(e,n,t){ci(e,n,t)});var Cf=fo(function(e,n,t,r){ci(e,n,t,r)});var If=qo(function(e,n){var t={};if(null==e)return t;var r=false;n=Ct(n,function(n){n=$i(n,e);r||(r=n.length>1);return n});so(e,No(e),t);if(r)t=va(t,d|m|g,Po);var a=n.length;while(a--)Fi(t,n[a]);return t});function Lf(e,n){return Mf(e,Nc(Go(n)))}var Bf=qo(function(e,n){return null==e?{}:di(e,n)});function Mf(e,n){if(null==e)return{};var t=Ct(No(e),function(e){return[e]});n=Go(n);return mi(e,t,function(e,t){return n(e,t[0])})}function zf(e,n,t){n=$i(n,e);var r=-1,a=n.length;if(!a){a=1;e=i}while(++r<a){var o=null==e?i:e[Bs(n[r])];if(o===i){r=a;o=t}e=yu(o)?o.call(e):o}return e}function Ff(e,n,t){return null==e?e:ki(e,n,t)}function Pf(e,n,t,r){r="function"==typeof r?r:i;return null==e?e:ki(e,n,t,r)}var Uf=Bo(jf);var Wf=Bo(xf);function Df(e,n,t){var r=uu(e),a=r||gu(e)||Ru(e);n=Go(n,4);if(null==t){var i=e&&e.constructor;if(a)t=r?new i:[];else if(xu(e))t=yu(i)?jr(kn(e)):{};else t={}}(a?kt:La)(e,function(e,r,a){return n(t,e,r,a)});return t}function qf(e,n){return null==e?true:Fi(e,n)}function Rf(e,n,t){return null==e?e:Pi(e,n,Ni(t))}function Nf(e,n,t,r){r="function"==typeof r?r:i;return null==e?e:Pi(e,n,Ni(t),r)}function $f(e){return null==e?[]:Zt(e,jf(e))}function Vf(e){return null==e?[]:Zt(e,xf(e))}function Jf(e,n,t){if(t===i){t=n;n=i}if(t!==i){t=Zu(t);t=t===t?t:0}if(n!==i){n=Zu(n);n=n===n?n:0}return ha(Zu(e),n,t)}function Gf(e,n,t){n=Hu(n);if(t===i){t=n;n=0}else t=Hu(t);e=Zu(e);return qa(e,n,t)}function Kf(e,n,t){if(t&&"boolean"!=typeof t&&us(e,n,t))n=t=i;if(t===i)if("boolean"==typeof n){t=n;n=i}else if("boolean"==typeof e){t=e;e=i}if(e===i&&n===i){e=0;n=1}else{e=Hu(e);if(n===i){n=e;e=0}else n=Hu(n)}if(e>n){var r=e;e=n;n=r}if(t||e%1||n%1){var a=Kn();return Nn(e+a*(n-e+at("1e-"+((a+"").length-1))),n)}return vi(e,n)}var Hf=ho(function(e,n,t){n=n.toLowerCase();return e+(t?Qf(n):n)});function Qf(e){return y_(nf(e).toLowerCase())}function Yf(e){e=nf(e);return e&&e.replace(Xe,rr).replace(Vn,"")}function Zf(e,n,t){e=nf(e);n=Mi(n);var r=e.length;t=t===i?r:ha(Qu(t),0,r);var a=t;t-=n.length;return t>=0&&e.slice(t,a)==n}function Xf(e){e=nf(e);return e&&Ee.test(e)?e.replace(xe,ar):e}function e_(e){e=nf(e);return e&&Pe.test(e)?e.replace(Fe,"\\$&"):e}var n_=ho(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()});var t_=ho(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()});var r_=po("toLowerCase");function a_(e,n,t){e=nf(e);n=Qu(n);var r=n?hr(e):0;if(!n||r>=n)return e;var a=(n-r)/2;return xo(Fn(a),t)+e+xo(zn(a),t)}function i_(e,n,t){e=nf(e);n=Qu(n);var r=n?hr(e):0;return n&&r<n?e+xo(n-r,t):e}function o_(e,n,t){e=nf(e);n=Qu(n);var r=n?hr(e):0;return n&&r<n?xo(n-r,t)+e:e}function s_(e,n,t){if(t||null==n)n=0;else if(n)n=+n;return Gn(nf(e).replace(We,""),n||0)}function l_(e,n,t){if(t?us(e,n,t):n===i)n=1;else n=Qu(n);return bi(nf(e),n)}function c_(){var e=arguments,n=nf(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var u_=ho(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function f_(e,n,t){if(t&&"number"!=typeof t&&us(e,n,t))n=t=i;t=t===i?W:t>>>0;if(!t)return[];e=nf(e);if(e&&("string"==typeof n||null!=n&&!Pu(n))){n=Mi(n);if(!n&&sr(e))return Ji(vr(e),0,t)}return e.split(n,t)}var __=ho(function(e,n,t){return e+(t?" ":"")+y_(n)});function d_(e,n,t){e=nf(e);t=null==t?0:ha(Qu(t),0,e.length);n=Mi(n);return e.slice(t,t+n.length)==n}function m_(e,n,t){var r=yr.templateSettings;if(t&&us(e,n,t))n=i;e=nf(e);n=af({},n,r,zo);var a=af({},n.imports,r.imports,zo),o=jf(a),s=Zt(a,o);var l,c,u=0,f=n.interpolate||en,_="__p += '";var d=an((n.escape||en).source+"|"+f.source+"|"+(f===Ie?Je:en).source+"|"+(n.evaluate||en).source+"|$","g");var m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Yn+"]")+"\n";e.replace(d,function(n,t,r,a,i,o){r||(r=a);_+=e.slice(u,o).replace(nn,ir);if(t){l=true;_+="' +\n__e("+t+") +\n'"}if(i){c=true;_+="';\n"+i+";\n__p += '"}if(r)_+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'";u=o+n.length;return n});_+="';\n";var g=n.variable;if(!g)_="with (obj) {\n"+_+"\n}\n";_=(c?_.replace(we,""):_).replace(ye,"$1").replace(ke,"$1;");_="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+_+"return __p\n}";var p=j_(function(){return $e(o,m+"return "+_).apply(i,s)});p.source=_;if(Tu(p))throw p;return p}function g_(e){return nf(e).toLowerCase()}function p_(e){return nf(e).toUpperCase()}function h_(e,n,t){e=nf(e);if(e&&(t||n===i))return e.replace(Ue,"");if(!e||!(n=Mi(n)))return e;var r=vr(e),a=vr(n),o=er(r,a),s=nr(r,a)+1;return Ji(r,o,s).join("")}function v_(e,n,t){e=nf(e);if(e&&(t||n===i))return e.replace(De,"");if(!e||!(n=Mi(n)))return e;var r=vr(e),a=nr(r,vr(n))+1;return Ji(r,0,a).join("")}function S_(e,n,t){e=nf(e);if(e&&(t||n===i))return e.replace(We,"");if(!e||!(n=Mi(n)))return e;var r=vr(e),a=er(r,vr(n));return Ji(r,a).join("")}function b_(e,n){var t=E,r=A;if(xu(n)){var a="separator"in n?n.separator:a;t="length"in n?Qu(n.length):t;r="omission"in n?Mi(n.omission):r}e=nf(e);var o=e.length;if(sr(e)){var s=vr(e);o=s.length}if(t>=o)return e;var l=t-hr(r);if(l<1)return r;var c=s?Ji(s,0,l).join(""):e.slice(0,l);if(a===i)return c+r;if(s)l+=c.length-l;if(Pu(a)){if(e.slice(l).search(a)){var u,f=c;if(!a.global)a=an(a.source,nf(Ge.exec(a))+"g");a.lastIndex=0;while(u=a.exec(f))var _=u.index;c=c.slice(0,_===i?l:_)}}else if(e.indexOf(Mi(a),l)!=l){var d=c.lastIndexOf(a);if(d>-1)c=c.slice(0,d)}return c+r}function T_(e){e=nf(e);return e&&Oe.test(e)?e.replace(je,Sr):e}var w_=ho(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()});var y_=po("toUpperCase");function k_(e,n,t){e=nf(e);n=t?i:n;if(n===i)return lr(e)?wr(e):Pt(e);return e.match(n)||[]}var j_=Ti(function(e,n){try{return wt(e,i,n)}catch(e){return Tu(e)?e:new a(e)}});var x_=qo(function(e,n){kt(n,function(n){n=Bs(n);ga(e,n,Mc(e[n],e))});return e});function O_(e){var n=null==e?0:e.length,t=Go();e=!n?[]:Ct(e,function(e){if("function"!=typeof e[1])throw new sn(c);return[t(e[0]),e[1]]});return Ti(function(t){var r=-1;while(++r<n){var a=e[r];if(wt(a[0],this,t))return wt(a[1],this,t)}})}function E_(e){return Sa(va(e,d))}function A_(e){return function(){return e}}function C_(e,n){return null==e||e!==e?n:e}var I_=To();var L_=To(true);function B_(e){return e}function M_(e){return ti("function"==typeof e?e:va(e,d))}function z_(e){return si(va(e,d))}function F_(e,n){return li(e,va(n,d))}var P_=Ti(function(e,n){return function(t){return $a(t,e,n)}});var U_=Ti(function(e,n){return function(t){return $a(e,t,n)}});function W_(e,n,t){var r=jf(n),a=Ma(n,r);if(null==t&&!(xu(n)&&(a.length||!r.length))){t=n;n=e;e=this;a=Ma(n,jf(n))}var i=!(xu(t)&&"chain"in t)||!!t.chain,o=yu(e);kt(a,function(t){var r=n[t];e[t]=r;if(o)e.prototype[t]=function(){var n=this.__chain__;if(i||n){var t=e(this.__wrapped__),a=t.__actions__=oo(this.__actions__);a.push({func:r,args:arguments,thisArg:e});t.__chain__=n;return t}return r.apply(e,It([this.value()],arguments))}});return e}function D_(){if(lt._===this)lt._=vn;return this}function q_(){}function R_(e){e=Qu(e);return Ti(function(n){return fi(n,e)})}var N_=jo(Ct);var $_=jo(xt);var V_=jo(Mt);function J_(e){return fs(e)?$t(Bs(e)):gi(e)}function G_(e){return function(n){return null==e?i:za(e,n)}}var K_=Eo();var H_=Eo(true);function Q_(){return[]}function Y_(){return false}function Z_(){return{}}function X_(){return""}function ed(){return true}function nd(e,n){e=Qu(e);if(e<1||e>F)return[];var t=W,r=Nn(e,W);n=Go(n);e-=W;var a=Ht(r,n);while(++t<e)n(t);return a}function td(e){if(uu(e))return Ct(e,Bs);return qu(e)?[e]:oo(Ls(nf(e)))}function rd(e){var n=++mn;return nf(e)+n}var ad=ko(function(e,n){return e+n},0);var id=Io("ceil");var od=ko(function(e,n){return e/n},1);var sd=Io("floor");function ld(e){return e&&e.length?xa(e,B_,Ua):i}function cd(e,n){return e&&e.length?xa(e,Go(n,2),Ua):i}function ud(e){return Nt(e,B_)}function fd(e,n){return Nt(e,Go(n,2))}function _d(e){return e&&e.length?xa(e,B_,ii):i}function dd(e,n){return e&&e.length?xa(e,Go(n,2),ii):i}var md=ko(function(e,n){return e*n},1);var gd=Io("round");var pd=ko(function(e,n){return e-n},0);function hd(e){return e&&e.length?Kt(e,B_):0}function vd(e,n){return e&&e.length?Kt(e,Go(n,2)):0}yr.after=Ic;yr.ary=Lc;yr.assign=tf;yr.assignIn=rf;yr.assignInWith=af;yr.assignWith=of;yr.at=sf;yr.before=Bc;yr.bind=Mc;yr.bindAll=x_;yr.bindKey=zc;yr.castArray=eu;yr.chain=Gl;yr.chunk=Ps;yr.compact=Us;yr.concat=Ws;yr.cond=O_;yr.conforms=E_;yr.constant=A_;yr.countBy=ac;yr.create=lf;yr.curry=Fc;yr.curryRight=Pc;yr.debounce=Uc;yr.defaults=cf;yr.defaultsDeep=uf;yr.defer=Wc;yr.delay=Dc;yr.difference=Ds;yr.differenceBy=qs;yr.differenceWith=Rs;yr.drop=Ns;yr.dropRight=$s;yr.dropRightWhile=Vs;yr.dropWhile=Js;yr.fill=Gs;yr.filter=oc;yr.flatMap=cc;yr.flatMapDeep=uc;yr.flatMapDepth=fc;yr.flatten=Qs;yr.flattenDeep=Ys;yr.flattenDepth=Zs;yr.flip=qc;yr.flow=I_;yr.flowRight=L_;yr.fromPairs=Xs;yr.functions=hf;yr.functionsIn=vf;yr.groupBy=mc;yr.initial=tl;yr.intersection=rl;yr.intersectionBy=al;yr.intersectionWith=il;yr.invert=wf;yr.invertBy=yf;yr.invokeMap=pc;yr.iteratee=M_;yr.keyBy=hc;yr.keys=jf;yr.keysIn=xf;yr.map=vc;yr.mapKeys=Of;yr.mapValues=Ef;yr.matches=z_;yr.matchesProperty=F_;yr.memoize=Rc;yr.merge=Af;yr.mergeWith=Cf;yr.method=P_;yr.methodOf=U_;yr.mixin=W_;yr.negate=Nc;yr.nthArg=R_;yr.omit=If;yr.omitBy=Lf;yr.once=$c;yr.orderBy=Sc;yr.over=N_;yr.overArgs=Vc;yr.overEvery=$_;yr.overSome=V_;yr.partial=Jc;yr.partialRight=Gc;yr.partition=bc;yr.pick=Bf;yr.pickBy=Mf;yr.property=J_;yr.propertyOf=G_;yr.pull=ul;yr.pullAll=fl;yr.pullAllBy=_l;yr.pullAllWith=dl;yr.pullAt=ml;yr.range=K_;yr.rangeRight=H_;yr.rearg=Kc;yr.reject=yc;yr.remove=gl;yr.rest=Hc;yr.reverse=pl;yr.sampleSize=jc;yr.set=Ff;yr.setWith=Pf;yr.shuffle=xc;yr.slice=hl;yr.sortBy=Ac;yr.sortedUniq=kl;yr.sortedUniqBy=jl;yr.split=f_;yr.spread=Qc;yr.tail=xl;yr.take=Ol;yr.takeRight=El;yr.takeRightWhile=Al;yr.takeWhile=Cl;yr.tap=Kl;yr.throttle=Yc;yr.thru=Hl;yr.toArray=Ku;yr.toPairs=Uf;yr.toPairsIn=Wf;yr.toPath=td;yr.toPlainObject=Xu;yr.transform=Df;yr.unary=Zc;yr.union=Il;yr.unionBy=Ll;yr.unionWith=Bl;yr.uniq=Ml;yr.uniqBy=zl;yr.uniqWith=Fl;yr.unset=qf;yr.unzip=Pl;yr.unzipWith=Ul;yr.update=Rf;yr.updateWith=Nf;yr.values=$f;yr.valuesIn=Vf;yr.without=Wl;yr.words=k_;yr.wrap=Xc;yr.xor=Dl;yr.xorBy=ql;yr.xorWith=Rl;yr.zip=Nl;yr.zipObject=$l;yr.zipObjectDeep=Vl;yr.zipWith=Jl;yr.entries=Uf;yr.entriesIn=Wf;yr.extend=rf;yr.extendWith=af;W_(yr,yr);yr.add=ad;yr.attempt=j_;yr.camelCase=Hf;yr.capitalize=Qf;yr.ceil=id;yr.clamp=Jf;yr.clone=nu;yr.cloneDeep=ru;yr.cloneDeepWith=au;yr.cloneWith=tu;yr.conformsTo=iu;yr.deburr=Yf;yr.defaultTo=C_;yr.divide=od;yr.endsWith=Zf;yr.eq=ou;yr.escape=Xf;yr.escapeRegExp=e_;yr.every=ic;yr.find=sc;yr.findIndex=Ks;yr.findKey=ff;yr.findLast=lc;yr.findLastIndex=Hs;yr.findLastKey=_f;yr.floor=sd;yr.forEach=_c;yr.forEachRight=dc;yr.forIn=df;yr.forInRight=mf;yr.forOwn=gf;yr.forOwnRight=pf;yr.get=Sf;yr.gt=su;yr.gte=lu;yr.has=bf;yr.hasIn=Tf;yr.head=el;yr.identity=B_;yr.includes=gc;yr.indexOf=nl;yr.inRange=Gf;yr.invoke=kf;yr.isArguments=cu;yr.isArray=uu;yr.isArrayBuffer=fu;yr.isArrayLike=_u;yr.isArrayLikeObject=du;yr.isBoolean=mu;yr.isBuffer=gu;yr.isDate=pu;yr.isElement=hu;yr.isEmpty=vu;yr.isEqual=Su;yr.isEqualWith=bu;yr.isError=Tu;yr.isFinite=wu;yr.isFunction=yu;yr.isInteger=ku;yr.isLength=ju;yr.isMap=Eu;yr.isMatch=Au;yr.isMatchWith=Cu;yr.isNaN=Iu;yr.isNative=Lu;yr.isNil=Mu;yr.isNull=Bu;yr.isNumber=zu;yr.isObject=xu;yr.isObjectLike=Ou;yr.isPlainObject=Fu;yr.isRegExp=Pu;yr.isSafeInteger=Uu;yr.isSet=Wu;yr.isString=Du;yr.isSymbol=qu;yr.isTypedArray=Ru;yr.isUndefined=Nu;yr.isWeakMap=$u;yr.isWeakSet=Vu;yr.join=ol;yr.kebabCase=n_;yr.last=sl;yr.lastIndexOf=ll;yr.lowerCase=t_;yr.lowerFirst=r_;yr.lt=Ju;yr.lte=Gu;yr.max=ld;yr.maxBy=cd;yr.mean=ud;yr.meanBy=fd;yr.min=_d;yr.minBy=dd;yr.stubArray=Q_;yr.stubFalse=Y_;yr.stubObject=Z_;yr.stubString=X_;yr.stubTrue=ed;yr.multiply=md;yr.nth=cl;yr.noConflict=D_;yr.noop=q_;yr.now=Cc;yr.pad=a_;yr.padEnd=i_;yr.padStart=o_;yr.parseInt=s_;yr.random=Kf;yr.reduce=Tc;yr.reduceRight=wc;yr.repeat=l_;yr.replace=c_;yr.result=zf;yr.round=gd;yr.runInContext=e;yr.sample=kc;yr.size=Oc;yr.snakeCase=u_;yr.some=Ec;yr.sortedIndex=vl;yr.sortedIndexBy=Sl;yr.sortedIndexOf=bl;yr.sortedLastIndex=Tl;yr.sortedLastIndexBy=wl;yr.sortedLastIndexOf=yl;yr.startCase=__;yr.startsWith=d_;yr.subtract=pd;yr.sum=hd;yr.sumBy=vd;yr.template=m_;yr.times=nd;yr.toFinite=Hu;yr.toInteger=Qu;yr.toLength=Yu;yr.toLower=g_;yr.toNumber=Zu;yr.toSafeInteger=ef;yr.toString=nf;yr.toUpper=p_;yr.trim=h_;yr.trimEnd=v_;yr.trimStart=S_;yr.truncate=b_;yr.unescape=T_;yr.uniqueId=rd;yr.upperCase=w_;yr.upperFirst=y_;yr.each=_c;yr.eachRight=dc;yr.first=el;W_(yr,function(){var e={};La(yr,function(n,t){if(!dn.call(yr.prototype,t))e[t]=n});return e}(),{chain:false});yr.VERSION=o;kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){yr[e].placeholder=yr});kt(["drop","take"],function(e,n){Er.prototype[e]=function(t){t=t===i?1:Rn(Qu(t),0);var r=this.__filtered__&&!n?new Er(this):this.clone();if(r.__filtered__)r.__takeCount__=Nn(t,r.__takeCount__);else r.__views__.push({size:Nn(t,W),type:e+(r.__dir__<0?"Right":"")});return r};Er.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}});kt(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==L||t==M;Er.prototype[e]=function(e){var n=this.clone();n.__iteratees__.push({iteratee:Go(e,3),type:t});n.__filtered__=n.__filtered__||r;return n}});kt(["head","last"],function(e,n){var t="take"+(n?"Right":"");Er.prototype[e]=function(){return this[t](1).value()[0]}});kt(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");Er.prototype[e]=function(){return this.__filtered__?new Er(this):this[t](1)}});Er.prototype.compact=function(){return this.filter(B_)};Er.prototype.find=function(e){return this.filter(e).head()};Er.prototype.findLast=function(e){return this.reverse().find(e)};Er.prototype.invokeMap=Ti(function(e,n){if("function"==typeof e)return new Er(this);return this.map(function(t){return $a(t,e,n)})});Er.prototype.reject=function(e){return this.filter(Nc(Go(e)))};Er.prototype.slice=function(e,n){e=Qu(e);var t=this;if(t.__filtered__&&(e>0||n<0))return new Er(t);if(e<0)t=t.takeRight(-e);else if(e)t=t.drop(e);if(n!==i){n=Qu(n);t=n<0?t.dropRight(-n):t.take(n-e)}return t};Er.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};Er.prototype.toArray=function(){return this.take(W)};La(Er.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),a=yr[r?"take"+("last"==n?"Right":""):n],o=r||/^find/.test(n);if(!a)return;yr.prototype[n]=function(){var n=this.__wrapped__,s=r?[1]:arguments,l=n instanceof Er,c=s[0],u=l||uu(n);var f=function(e){var n=a.apply(yr,It([e],s));return r&&_?n[0]:n};if(u&&t&&"function"==typeof c&&1!=c.length)l=u=false;var _=this.__chain__,d=!!this.__actions__.length,m=o&&!_,g=l&&!d;if(!o&&u){n=g?n:new Er(this);var p=e.apply(n,s);p.__actions__.push({func:Hl,args:[f],thisArg:i});return new Or(p,_)}if(m&&g)return e.apply(this,s);p=this.thru(f);return m?r?p.value()[0]:p.value():p}});kt(["pop","push","shift","sort","splice","unshift"],function(e){var n=ln[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);yr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return n.apply(uu(a)?a:[],e)}return this[t](function(t){return n.apply(uu(t)?t:[],e)})}});La(Er.prototype,function(e,n){var t=yr[n];if(t){var r=t.name+"",a=ut[r]||(ut[r]=[]);a.push({name:n,func:t})}});ut[wo(i,S).name]=[{name:"wrapper",func:i}];Er.prototype.clone=Ar;Er.prototype.reverse=Cr;Er.prototype.value=Ir;yr.prototype.at=Ql;yr.prototype.chain=Yl;yr.prototype.commit=Zl;yr.prototype.next=Xl;yr.prototype.plant=nc;yr.prototype.reverse=tc;yr.prototype.toJSON=yr.prototype.valueOf=yr.prototype.value=rc;yr.prototype.first=yr.prototype.head;if(An)yr.prototype[An]=ec;return yr};var kr=yr();if(true){lt._=kr;a=function(){return kr}.call(n,t,n,r),a!==i&&(r.exports=a)}else if(ut){(ut.exports=kr)._=kr;ct._=kr}else lt._=kr}).call(this)}).call(n,t(7),t(57)(e))}},[4730]);