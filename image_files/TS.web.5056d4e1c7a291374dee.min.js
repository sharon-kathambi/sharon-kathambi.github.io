webpackJsonp([167],{4265:function(e,t){(function(){TS.registerModule("web",{before_login_sig:new signals.Signal,login_sig:new signals.Signal,ds_login_sig:new signals.Signal,no_login_complete_sig:new signals.Signal,onStart:function o(){TS.prefs.messages_theme_changed_sig.add(TS.ui.setThemeClasses,TS);if(TS.boot_data.page_needs_enterprise&&TS.boot_data.feature_lazy_grid_teams_menu)if(TS.boot_data.no_login)TS.web.no_login_complete_sig.addOnce(e);else TS.web.login_sig.addOnce(t);TS.web.autoOpenSection();$('[data-toggle="tooltip"]').tooltip({animation:true});$("body").bind("mousewheel.ignore_while_monkeyscrolling",function(e){var t=e.originalEvent;if(!t)return;var o=$(e.target).closest(".monkey_scroller");if(!o.length)return;var n=t.wheelDeltaY;if(null===n&&t.detail&&t.axis==t.VERTICAL_AXIS)n=t.detail;else if(null===n)n=t.wheelDelta;if(!n)return;if(o[0].scrollTop===o[0].scrollHeight-o.height()&&n<0||0===o[0].scrollTop&&n>0)e.preventDefault()});if(TS.metrics&&TS.boot_data&&TS.boot_data.page_timing_label)TS.metrics.measure(TS.boot_data.page_timing_label+"_load","start_nav");if(TS.boot_data&&!TS.boot_data.api_active_migration_error_response_type)TS.boot_data.api_active_migration_error_response_type="show_dialog";$('[data-qa="upgrade_std_btn"]').click(function(){TS.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"checkout_standard_button"}}})});$('[data-qa="upgrade_btn"]').click(function(){TS.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"checkout_plus_button"}}})});$('[data-qa="learn_more_btn"]').click(function(){TS.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"pricing_plus_button"}}})})},gogogo:function e(){$("html").bind("mousedown",function(){TS.model.ui.is_mouse_down=true});$("html").bind("dragend",function(){TS.model.ui.is_mouse_down=false});$("html").bind("mouseup",function(){TS.model.ui.is_mouse_down=false})},toggleSection:function e(t,o){var n=$("#"+t);var i=n.css("border-bottom");n.css("border-bottom","1px solid transparent");n.find(".accordion_subsection").slideToggle(100,function(){n.css("border-bottom",i);if(n.hasClass("plastic_row")&&!n.hasClass("open"))n.removeAttr("style")});n.toggleClass("open");n.find("textarea").trigger("autosize-resize");var a=n.hasClass("open");var s=n.find(".accordion_expand");if(a){s.text(TS.i18n.t("Close","web")());n.find(".ladda-button").each(function(){Ladda.bind($(this)[0])})}else s.text(TS.i18n.t("Expand","web")());if(!o)history.pushState(null,null,"#"+t.replace("change_",""))},openSection:function e(t){var o=$("#"+t);if(!o.hasClass("open"))TS.web.toggleSection(t)},closeSection:function e(t){var o=$("#"+t);if(o.hasClass("open"))TS.web.toggleSection(t)},autoOpenSection:function e(){var t=_.escape(window.location.hash);if(t){if("#"===t.charAt(0))t=t.substring(1);var o=$('a[name="'+t+'"][data-accordion]');var n=o.data("accordion");if(n)TS.web.openSection(n)}},scrollToElWithHeaderOffset:function e(t){var o=$(t);o.scrollintoview({px_offset:$("header").height()+16})},onFirstLoginMS:function e(){o();TS.log(850,Date.now()-TS.boot_data.start_ms+"ms from first html to login_sig.dispatch()");TS.web.before_login_sig.dispatch();TS.web.login_sig.dispatch()},onEveryLoginMS:function e(){},apiPaused:function e(){},apiUnpaused:function e(){}});var e=function e(){if(!TS.boot_data.page_needs_enterprise)return;if(!TS.boot_data.user_id)return;if(!TS.boot_data.feature_lazy_grid_teams_menu)return;TS.api.call("users.info",{user:TS.boot_data.user_id,_x_reason:"web_menu"}).then(function(e){if(!TS.useReduxMembers())TS.model.members=[];TS.model.user_colors={};TS.team.upsertTeam({id:TS.boot_data.team_id});TS.members.upsertMember(e.data.user);TS.model.user=e.data.user;t()})};var t=function e(){if(!TS.boot_data.page_needs_enterprise)return;if(!TS.boot_data.feature_lazy_grid_teams_menu)return;if(_.get(TS.model.user,"enterprise_user.teams.length")>3)$("#all_workspaces").removeClass("hidden").on("click",function(){$("#header_team_nav").toggleClass("open");TS.ui.enterprise_teams_dialog.show(TS.model.user)})};var o=function e(){$(".emoji_replace_on_load").each(function(){var e=$(this).html();e=TS.emoji.graphicReplace(e);$(this).html(e)})}})()}},[4265]);